!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=44)}([function(e,t,r){"use strict";r.r(t),r.d(t,"_setEventEmitter",(function(){return j})),r.d(t,"internal",(function(){return I})),r.d(t,"getPrebidInternal",(function(){return T})),r.d(t,"bind",(function(){return A})),r.d(t,"getUniqueIdentifierStr",(function(){return x})),r.d(t,"generateUUID",(function(){return P})),r.d(t,"getBidIdParameter",(function(){return R})),r.d(t,"tryAppendQueryString",(function(){return k})),r.d(t,"parseQueryStringParameters",(function(){return D})),r.d(t,"transformAdServerTargetingObj",(function(){return B})),r.d(t,"getAdUnitSizes",(function(){return U})),r.d(t,"parseSizesInput",(function(){return N})),r.d(t,"parseGPTSingleSizeArray",(function(){return M})),r.d(t,"parseGPTSingleSizeArrayToRtbSize",(function(){return q})),r.d(t,"getWindowTop",(function(){return z})),r.d(t,"getWindowSelf",(function(){return L})),r.d(t,"getWindowLocation",(function(){return F})),r.d(t,"logMessage",(function(){return V})),r.d(t,"logInfo",(function(){return G})),r.d(t,"logWarn",(function(){return K})),r.d(t,"logError",(function(){return H})),r.d(t,"prefixLog",(function(){return J})),r.d(t,"hasConsoleLogger",(function(){return X})),r.d(t,"debugTurnedOn",(function(){return Q})),r.d(t,"createInvisibleIframe",(function(){return $})),r.d(t,"getParameterByName",(function(){return Z})),r.d(t,"isA",(function(){return ee})),r.d(t,"isFn",(function(){return te})),r.d(t,"isStr",(function(){return re})),r.d(t,"isArray",(function(){return ne})),r.d(t,"isNumber",(function(){return ie})),r.d(t,"isPlainObject",(function(){return ae})),r.d(t,"isBoolean",(function(){return oe})),r.d(t,"isEmpty",(function(){return se})),r.d(t,"isEmptyStr",(function(){return de})),r.d(t,"_each",(function(){return ce})),r.d(t,"contains",(function(){return ue})),r.d(t,"_map",(function(){return le})),r.d(t,"hasOwn",(function(){return pe})),r.d(t,"insertElement",(function(){return fe})),r.d(t,"waitForElementToLoad",(function(){return be})),r.d(t,"triggerPixel",(function(){return ge})),r.d(t,"callBurl",(function(){return me})),r.d(t,"insertHtmlIntoIframe",(function(){return ve})),r.d(t,"insertUserSyncIframe",(function(){return he})),r.d(t,"createTrackPixelHtml",(function(){return ye})),r.d(t,"createTrackPixelIframeHtml",(function(){return Oe})),r.d(t,"getValueString",(function(){return je})),r.d(t,"uniques",(function(){return _e})),r.d(t,"flatten",(function(){return Ie})),r.d(t,"getBidRequest",(function(){return Ee})),r.d(t,"getKeys",(function(){return Te})),r.d(t,"getValue",(function(){return Se})),r.d(t,"getKeyByValue",(function(){return we})),r.d(t,"getBidderCodes",(function(){return Ae})),r.d(t,"isGptPubadsDefined",(function(){return Ce})),r.d(t,"isApnGetTagDefined",(function(){return xe})),r.d(t,"getHighestCpm",(function(){return Pe})),r.d(t,"getOldestHighestCpmBid",(function(){return Re})),r.d(t,"getLatestHighestCpmBid",(function(){return ke})),r.d(t,"shuffle",(function(){return Be})),r.d(t,"adUnitsFilter",(function(){return Ue})),r.d(t,"deepClone",(function(){return Ne})),r.d(t,"inIframe",(function(){return Me})),r.d(t,"isSafariBrowser",(function(){return qe})),r.d(t,"replaceAuctionPrice",(function(){return We})),r.d(t,"replaceClickThrough",(function(){return ze})),r.d(t,"timestamp",(function(){return Le})),r.d(t,"getPerformanceNow",(function(){return Fe})),r.d(t,"hasDeviceAccess",(function(){return Ve})),r.d(t,"checkCookieSupport",(function(){return Ge})),r.d(t,"delayExecution",(function(){return Ke})),r.d(t,"groupBy",(function(){return He})),r.d(t,"getDefinedParams",(function(){return Je})),r.d(t,"isValidMediaTypes",(function(){return Ye})),r.d(t,"getUserConfiguredParams",(function(){return Xe})),r.d(t,"getDNT",(function(){return Qe})),r.d(t,"isAdUnitCodeMatchingSlot",(function(){return Ze})),r.d(t,"isSlotMatchingAdUnitCode",(function(){return et})),r.d(t,"getGptSlotForAdUnitCode",(function(){return tt})),r.d(t,"getGptSlotInfoForAdUnitCode",(function(){return rt})),r.d(t,"unsupportedBidderMessage",(function(){return nt})),r.d(t,"isInteger",(function(){return it})),r.d(t,"convertCamelToUnderscore",(function(){return at})),r.d(t,"cleanObj",(function(){return ot})),r.d(t,"pick",(function(){return st})),r.d(t,"transformBidderParamKeywords",(function(){return dt})),r.d(t,"convertTypes",(function(){return ct})),r.d(t,"isArrayOfNums",(function(){return ut})),r.d(t,"fill",(function(){return lt})),r.d(t,"chunk",(function(){return pt})),r.d(t,"getMinValueFromArray",(function(){return ft})),r.d(t,"getMaxValueFromArray",(function(){return bt})),r.d(t,"compareOn",(function(){return gt})),r.d(t,"parseQS",(function(){return mt})),r.d(t,"formatQS",(function(){return vt})),r.d(t,"parseUrl",(function(){return ht})),r.d(t,"buildUrl",(function(){return yt})),r.d(t,"deepEqual",(function(){return Ot})),r.d(t,"mergeDeep",(function(){return jt})),r.d(t,"cyrb53Hash",(function(){return _t})),r.d(t,"getWindowFromDocument",(function(){return It})),r.d(t,"safeJSONParse",(function(){return Et})),r.d(t,"memoize",(function(){return Tt})),r.d(t,"setScriptAttributes",(function(){return St})),r.d(t,"escapeUnsafeChars",(function(){return At}));var n=r(2),i=r(3),a=r(39),o=r.n(a),s=r(5),d=r(4),c=r(12),u=r(6),l=r(11);r.d(t,"deepAccess",(function(){return l.a}));var p=r(38);r.d(t,"deepSetValue",(function(){return p.a}));var f,b=Object.prototype.toString,g=Boolean(window.console),m=Boolean(g&&window.console.log),v=Boolean(g&&window.console.info),h=Boolean(g&&window.console.warn),y=Boolean(g&&window.console.error),O=Object(u.a)();function j(e){f=e}function _(){null!=f&&f.apply(void 0,arguments)}var I={checkCookieSupport:Ge,createTrackPixelIframeHtml:Oe,getWindowSelf:L,getWindowTop:z,getWindowLocation:F,insertUserSyncIframe:he,insertElement:fe,isFn:te,triggerPixel:ge,logError:H,logWarn:K,logMessage:V,logInfo:G,parseQS:mt,formatQS:vt,deepEqual:Ot},E={};function T(){return E}var S,w={},A=function(e,t){return t}.bind(null,1,w)()===w?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},C=(S=0,function(){return++S});function x(){return C()+Math.random().toString(16).substr(2)}function P(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,P)}function R(e,t){return t&&t[e]?t[e]:""}function k(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e}function D(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t=t.replace(/&$/,"")}function B(e){return e&&Object.getOwnPropertyNames(e).length>0?Te(e).map((function(t){return t+"="+encodeURIComponent(Se(e,t))})).join("&"):""}function U(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var r=e.mediaTypes.banner.sizes;Array.isArray(r[0])?t=r:t.push(r)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}function N(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var i in r)pe(r,i)&&r[i].match(n)&&t.push(r[i])}else if("object"==typeof e){var a=e.length;if(a>0)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(M(e));else for(var o=0;o<a;o++)t.push(M(e[o]))}return t}function M(e){if(W(e))return e[0]+"x"+e[1]}function q(e){if(W(e))return{w:e[0],h:e[1]}}function W(e){return ne(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function z(){return window.top}function L(){return window.self}function F(){return window.location}function V(){Q()&&m&&console.log.apply(console,Y(arguments,"MESSAGE:"))}function G(){Q()&&v&&console.info.apply(console,Y(arguments,"INFO:"))}function K(){Q()&&h&&console.warn.apply(console,Y(arguments,"WARNING:")),_(d.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function H(){Q()&&y&&console.error.apply(console,Y(arguments,"ERROR:")),_(d.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function J(e){function t(t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(void 0,[e].concat(n))}}return{logError:t(H),logWarn:t(K),logMessage:t(V),logInfo:t(G)}}function Y(e,t){e=[].slice.call(e);var r=i.b.getCurrentBidder();return t&&e.unshift(t),r&&e.unshift(n("#aaa")),e.unshift(n("#3b88c3")),e.unshift("%cPrebid"+(r?"%c"+r:"")),e;function n(e){return"display: inline-block; color: #fff; background: "+e+"; padding: 1px 4px; border-radius: 3px;"}}function X(){return m}function Q(){return!!i.b.getConfig("debug")}function $(){var e=document.createElement("iframe");return e.id=x(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function Z(e){return mt(F().search)[e]||""}function ee(e,t){return b.call(e)==="[object "+t+"]"}function te(e){return ee(e,"Function")}function re(e){return ee(e,"String")}function ne(e){return ee(e,"Array")}function ie(e){return ee(e,"Number")}function ae(e){return ee(e,"Object")}function oe(e){return ee(e,"Boolean")}function se(e){if(!e)return!0;if(ne(e)||re(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function de(e){return re(e)&&(!e||0===e.length)}function ce(e,t){if(!se(e)){if(te(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(n>0)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function ue(e,t){if(se(e))return!1;if(te(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function le(e,t){if(se(e))return[];if(te(e.map))return e.map(t);var r=[];return ce(e,(function(n,i){r.push(t(n,i,e))})),r}function pe(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function fe(e,t,r,n){var i;t=t||document,i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var a=n?null:i.firstChild;return i.insertBefore(e,a)}}catch(e){}}function be(e,t){var r=null;return new c.a((function(n){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=r&&window.clearTimeout(r),n()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(r=window.setTimeout(i,t))}))}function ge(e,t,r){var n=new Image;t&&I.isFn(t)&&be(n,r).then(t),n.src=e}function me(e){var t=e.source,r=e.burl;t===d.S2S.SRC&&r&&I.triggerPixel(r)}function ve(e){if(e){var t=document.createElement("iframe");t.id=x(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",I.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function he(e,t,r){var n=I.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=n;var a=i.firstChild;t&&I.isFn(t)&&be(a,r).then(t),I.insertElement(a,document,"html",!0)}function ye(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'}function Oe(e,t,r){return void 0===t&&(t=!0),void 0===r&&(r=""),e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'+r+'"'),"<iframe "+r+' id="'+x()+'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="'+e+'">\n    </iframe>'):""}function je(e,t,r){return null==t?r:re(t)?t:ie(t)?t.toString():void I.logWarn("Unsuported type for param: "+e+" required type: String")}function _e(e,t,r){return r.indexOf(e)===t}function Ie(e,t){return e.concat(t)}function Ee(e,t){var r;if(e)return t.some((function(t){var n=Object(s.b)(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(r){return t[r]===e}))}));return n&&(r=n),n})),r}function Te(e){return Object.keys(e)}function Se(e,t){return e[t]}function we(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}function Ae(e){return void 0===e&&(e=O.adUnits),e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(Ie,[])})).reduce(Ie,[]).filter((function(e){return void 0!==e})).filter(_e)}function Ce(){if(window.googletag&&te(window.googletag.pubads)&&te(window.googletag.pubads().getSlots))return!0}function xe(){if(window.apntag&&te(window.apntag.getTag))return!0}var Pe=De("timeToRespond",(function(e,t){return e>t})),Re=De("responseTimestamp",(function(e,t){return e>t})),ke=De("responseTimestamp",(function(e,t){return e<t}));function De(e,t){return function(r,n){return r.cpm===n.cpm?t(r[e],n[e])?n:r:r.cpm<n.cpm?n:r}}function Be(e){for(var t=e.length;t>0;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e}function Ue(e,t){return Object(s.c)(e,t&&t.adUnitCode)}function Ne(e){return o()(e)}function Me(){try{return I.getWindowSelf()!==I.getWindowTop()}catch(e){return!0}}function qe(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function We(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function ze(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function Le(){return(new Date).getTime()}function Fe(){return window.performance&&window.performance.now&&window.performance.now()||0}function Ve(){return!1!==i.b.getConfig("deviceAccess")}function Ge(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ke(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got "+t);var r=0;return function(){++r===t&&e.apply(this,arguments)}}function He(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})}function Je(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,r){var i;return Object(n.default)(t,((i={})[r]=e[r],i))}),{})}function Ye(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return Object(s.c)(t,e)}))&&(!e.video||!e.video.context||Object(s.c)(["instream","outstream","adpod"],e.video.context))}function Xe(e,t,r){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(Ie,[]).filter((function(e){return e.bidder===r})).map((function(e){return e.params||{}}))}function Qe(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var $e=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function Ze(e){return function(t){return $e(e,t)}}function et(e){return function(t){return $e(t,e)}}function tt(e){var t;return Ce()&&(t=Object(s.b)(window.googletag.pubads().getSlots(),et(e))),t}function rt(e){var t=tt(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function nt(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    "+e.code+" is a "+r+" ad unit\n    containing bidders that don't support "+r+": "+t+".\n    This bidder won't fetch demand.\n  "}function it(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function at(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function ot(e){return Object.keys(e).reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function st(e,t){return"object"!=typeof e?{}:t.reduce((function(r,n,i){if("function"==typeof n)return r;var a=n,o=n.match(/^(.+?)\sas\s(.+?)$/i);o&&(n=o[1],a=o[2]);var s=e[n];return"function"==typeof t[i+1]&&(s=t[i+1](s,r)),void 0!==s&&(r[a]=s),r}),{})}function dt(e,t){void 0===t&&(t="keywords");var r=[];return ce(e,(function(e,n){if(ne(e)){var i=[];ce(e,(function(e){((e=je(t+"."+n,e))||""===e)&&i.push(e)})),e=i}else{if(!re(e=je(t+"."+n,e)))return;e=[e]}r.push({key:n,value:e})})),r}function ct(e,t){return Object.keys(e).forEach((function(r){var n,i;t[r]&&(te(e[r])?t[r]=e[r](t[r]):t[r]=(n=e[r],i=t[r],"string"===n?i&&i.toString():"number"===n?Number(i):i),isNaN(t[r])&&delete t.key)})),t}function ut(e,t){return ne(e)&&(!t||e.length===t)&&e.every((function(e){return it(e)}))}function lt(e,t){for(var r=[],n=0;n<t;n++){var i=ae(e)?Ne(e):e;r.push(i)}return r}function pt(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var i=n*t,a=i+t;r.push(e.slice(i,a))}return r}function ft(e){return Math.min.apply(Math,e)}function bt(e){return Math.max.apply(Math,e)}function gt(e){return function(t,r){return t[e]<r[e]?1:t[e]>r[e]?-1:0}}function mt(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var r=t.split("="),n=r[0],i=r[1];return/\[\]$/.test(n)?(e[n=n.replace("[]","")]=e[n]||[],e[n].push(i)):e[n]=i||"",e}),{}):{}}function vt(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return t+"[]="+e})).join("&"):t+"="+e[t]})).join("&")}function ht(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);var n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:n?r.search:I.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function yt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+I.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")}function Ot(e,t,r){var n=(void 0===r?{}:r).checkTypes,i=void 0!==n&&n;if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e){if(!t.hasOwnProperty(a))return!1;if(!Ot(e[a],t[a],{checkTypes:i}))return!1}return!0}function jt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(!r.length)return e;var a=r.shift();if(ae(e)&&ae(a)){var o=function(t){var r;if(ae(a[t]))e[t]||Object(n.default)(e,((r={})[t]={},r)),jt(e[t],a[t]);else if(ne(a[t])){var i;if(e[t])ne(e[t])&&a[t].forEach((function(r){for(var n=1,i=0;i<e[t].length;i++)if(Ot(e[t][i],r)){n=0;break}n&&e[t].push(r)}));else Object(n.default)(e,((i={})[t]=[].concat(a[t]),i))}else{var o;Object(n.default)(e,((o={})[t]=a[t],o))}};for(var s in a)o(s)}return jt.apply(void 0,[e].concat(r))}function _t(e,t){void 0===t&&(t=0);for(var r,n=function(e,t){if(te(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},i=3735928559^t,a=1103547991^t,o=0;o<e.length;o++)i=n(i^(r=e.charCodeAt(o)),2654435761),a=n(a^r,1597334677);return i=n(i^i>>>16,2246822507)^n(a^a>>>13,3266489909),(4294967296*(2097151&(a=n(a^a>>>16,2246822507)^n(i^i>>>13,3266489909)))+(i>>>0)).toString()}function It(e){return e?e.defaultView:null}function Et(e){try{return JSON.parse(e)}catch(e){}}function Tt(e,t){void 0===t&&(t=function(e){return e});var r=new Map,n=function(){var n=t.apply(this,arguments);return r.has(n)||r.set(n,e.apply(this,arguments)),r.get(n)};return n.clear=r.clear.bind(r),n}function St(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])}var wt,At=(wt={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},function(e){return e.replace(/[<>\b\f\n\r\t\0\u2028\u2029\\]/g,(function(e){return wt[e]}))})},function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n="native",i="video",a="banner",o="adpod"},function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.r(t),r.d(t,"default",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return b}));var n=r(2),i=r(36),a=r(5),o=r(0),s=r(11),d=r(4),c="TRUE"===Object(o.getParameterByName)(d.DEBUG_MODE).toUpperCase(),u="random",l={};l[u]=!0,l.fixed=!0;var p=u,f={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};var b=function(){var e,t,r,d=[],u=null;function b(){function s(e){return u[e].val}function d(e,t){u[e].val=t}e={};var u={publisherDomain:{set:function(e){null!=e&&Object(o.logWarn)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),d("publisherDomain",e)}},priceGranularity:{val:f.MEDIUM,set:function(e){m(e)&&("string"==typeof e?d("priceGranularity",g(e)?e:f.MEDIUM):Object(o.isPlainObject)(e)&&(d("customPriceBucket",e),d("priceGranularity",f.CUSTOM),Object(o.logMessage)("Using custom price granularity")))}},customPriceBucket:{val:{},set:function(){}},mediaTypePriceGranularity:{val:{},set:function(e){null!=e&&d("mediaTypePriceGranularity",Object.keys(e).reduce((function(t,r){return m(e[r])?"string"==typeof e?t[r]=g(e[r])?e[r]:s("priceGranularity"):Object(o.isPlainObject)(e)&&(t[r]=e[r],Object(o.logMessage)("Using custom price granularity for "+r)):Object(o.logWarn)("Invalid price granularity for media type: "+r),t}),{}))}},bidderSequence:{val:p,set:function(e){l[e]?d("bidderSequence",e):Object(o.logWarn)("Invalid order: "+e+". Bidder Sequence was not set.")}},auctionOptions:{val:{},set:function(e){(function(e){if(!Object(o.isPlainObject)(e))return Object(o.logWarn)("Auction Options must be an object"),!1;for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if("secondaryBidders"!==n&&"suppressStaleRender"!==n)return Object(o.logWarn)("Auction Options given an incorrect param: "+n),!1;if("secondaryBidders"===n){if(!Object(o.isArray)(e[n]))return Object(o.logWarn)("Auction Options "+n+" must be of type Array"),!1;if(!e[n].every(o.isStr))return Object(o.logWarn)("Auction Options "+n+" must be only string"),!1}else if("suppressStaleRender"===n&&!Object(o.isBoolean)(e[n]))return Object(o.logWarn)("Auction Options "+n+" must be of type boolean"),!1}return!0})(e)&&d("auctionOptions",e)}}},b={debug:c,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10};function g(e){return Object(a.b)(Object.keys(f),(function(t){return e===f[t]}))}function m(e){if(!e)return Object(o.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)g(e)||Object(o.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Object(o.isPlainObject)(e)&&!Object(i.b)(e))return Object(o.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(b,Object.fromEntries(Object.entries(u).map((function(e){var t=e[0],r=e[1];return[t,Object(n.default)({get:s.bind(null,t),set:d.bind(null,t),enumerable:!0},r)]})))),t&&E(Object.keys(t).reduce((function(e,r){return t[r]!==b[r]&&(e[r]=b[r]||{}),e}),{})),t=b,r={}}function g(){if(u&&r&&Object(o.isPlainObject)(r[u])){var e=r[u],i=new Set(Object.keys(t).concat(Object.keys(e)));return Object(a.a)(i).reduce((function(r,n){return void 0===e[n]?r[n]=t[n]:void 0===t[n]?r[n]=e[n]:Object(o.isPlainObject)(e[n])?r[n]=Object(o.mergeDeep)({},t[n],e[n]):r[n]=e[n],r}),{})}return Object(n.default)({},t)}var m=[g,function(){var e=g();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((function(e){return function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0];return t?Object(s.a)(e(),t):g()}return I.apply(void 0,arguments)}})),v=m[0],h=m[1],y=[h,v].map((function(e){return function(){var t=e.apply(void 0,arguments);return t&&"object"==typeof t&&(t=Object(o.deepClone)(t)),t}})),O=y[0],j=y[1];function _(r){if(Object(o.isPlainObject)(r)){var i=Object.keys(r),a={};i.forEach((function(i){var s=r[i];Object(o.isPlainObject)(e[i])&&Object(o.isPlainObject)(s)&&(s=Object(n.default)({},e[i],s));try{a[i]=t[i]=s}catch(e){Object(o.logWarn)("Cannot set config for property "+i+" : ",e)}})),E(a)}else Object(o.logError)("setConfig options must be an object")}function I(e,t,r){void 0===r&&(r={});var n=t;if("string"!=typeof e&&(n=e,e="*",r=t||{}),"function"==typeof n){var i,a={topic:e,callback:n};if(d.push(a),r.init)if("*"===e)n(h());else n(((i={})[e]=h(e),i));return function(){d.splice(d.indexOf(a),1)}}Object(o.logError)("listener must be a function")}function E(e){var t=Object.keys(e);d.filter((function(e){return Object(a.c)(t,e.topic)})).forEach((function(t){var r;t.callback(((r={})[t.topic]=e[t.topic],r))})),d.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function T(e,t){void 0===t&&(t=!1);try{!function(e){if(!Object(o.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Object(o.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((function(n){r[n]||(r[n]={}),Object.keys(e.config).forEach((function(i){var a=e.config[i];if(Object(o.isPlainObject)(a)){var s=t?o.mergeDeep:Object.assign;r[n][i]=s({},r[n][i]||{},a)}else r[n][i]=a}))}))}catch(e){Object(o.logError)(e)}}function S(e,t){u=e;try{return t()}finally{w()}}function w(){u=null}return b(),{getCurrentBidder:function(){return u},resetBidder:w,getConfig:h,getAnyConfig:v,readConfig:O,readAnyConfig:j,setConfig:_,mergeConfig:function(e){if(Object(o.isPlainObject)(e)){var t=Object(o.mergeDeep)(g(),e);return _(Object(n.default)({},t)),t}Object(o.logError)("mergeConfig input must be an object")},setDefaults:function(r){Object(o.isPlainObject)(e)?(Object(n.default)(e,r),Object(n.default)(t,r)):Object(o.logError)("defaults must be an object")},resetConfig:b,runWithBidder:S,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return S(e,o.bind.call.apply(o.bind,[t,this].concat(n)))}Object(o.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:T,getBidderConfig:function(){return r},mergeBidderConfig:function(e){return T(e,!0)}}}()},function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","FLOOR_NOT_MET":"Bid does not meet price floor","CANNOT_CONVERT_CURRENCY":"Unable to convert currency"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')},function(e,t,r){"use strict";function n(e,t,r){return e&&e.includes(t,r)||!1}function i(){return Array.from.apply(Array,arguments)}function a(e,t,r){return e&&e.find(t,r)}r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=window,i=n.jwpb=n.jwpb||{};function a(){return i}function o(e){i.installedModules.push(e)}i.cmd=i.cmd||[],i.que=i.que||[],n===window&&(n._pbjsGlobals=n._pbjsGlobals||[],n._pbjsGlobals.push("jwpb"))},function(e,t,r){"use strict";r.d(t,"b",(function(){return J})),r.d(t,"e",(function(){return Y})),r.d(t,"d",(function(){return X})),r.d(t,"c",(function(){return $}));var n=r(2),i=r(0),a=r(11),o=r(3),s=r(5),d=r(1),c=[];function u(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function l(e,t,r,n){var o=void 0===e?{}:e,u=o.labels,l=void 0===u?[]:u,f=o.labelAll,b=void 0!==f&&f,g=o.activeLabels,m=void 0===g?[]:g;void 0===n&&(n=c);var v=p(n);Object(i.isPlainObject)(t)||(t=r?{banner:{sizes:r}}:{});var h=Object(a.a)(t,"banner.sizes");v.shouldFilter&&h&&((t=Object(i.deepClone)(t)).banner.sizes=h.filter((function(e){return v.sizesSupported[e]})));var y={active:!t.hasOwnProperty(d.b)||Object(a.a)(t,"banner.sizes.length")>0&&(0===l.length||!b&&(l.some((function(e){return v.labels[e]}))||l.some((function(e){return Object(s.c)(m,e)})))||b&&l.reduce((function(e,t){return e?v.labels[t]||Object(s.c)(m,t):e}),!0)),mediaTypes:t};return h&&h.length!==t.banner.sizes.length&&(y.filterResults={before:h,after:t.banner.sizes}),y}function p(e){return e.reduce((function(e,t){if("object"==typeof t&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var r=!1;try{r=Object(i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){Object(i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),r=matchMedia(t.mediaQuery).matches}r&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(r){return(t[r]||[]).forEach((function(t){return e[r][t]=!0}))})))}else Object(i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}o.b.getConfig("sizeConfig",(function(e){return function(e){c=e}(e.sizeConfig)}));var f=r(22),b=r(13),g=r(30),m=r(8),v=r(32),h=r(24),y=r(28),O=r(9),j=r(4),_=r(18),I=r(10),E=r(14),T=r(21),S=r(17),w=r(19);function A(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=["user.data","user.ext.data"],P=["user.eids","user.ext.eids"],R=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function k(e){return Object(n.default)({get:function(){},run:function(e,t,r,n,i){var a=r&&r[n];if(function(e){return null!=e&&("object"!=typeof e||Object.keys(e).length>0)}(a)&&i()){var o=this.get(a);void 0===o?delete r[n]:r[n]=o}}},e)}function D(e){return e.forEach((function(e){e.paths=e.paths.map((function(e){var t=e.split("."),r=t.pop();return[t.length>0?t.join("."):null,r]}))})),function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var s=[];return e.forEach((function(e){if(!1!==t[e.name])for(var n,o=A(e.paths);!(n=o()).done;){var d=n.value,c=d[0],u=d[1],l=null==c?r:Object(a.a)(r,c);if(s.push(e.run(r,c,l,u,(function(){return t.hasOwnProperty(e.name)||(t[e.name]=!!e.applies.apply(e,i)),t[e.name]}))),!1===t[e.name])return}})),s.filter((function(e){return null!=e}))}}function B(e,t){return void 0===t&&(t=T.a),function(r){return!t(e,r)}}var U=function(e){void 0===e&&(e=T.a);var t=D(function(e){return void 0===e&&(e=T.a),[{name:S.h,paths:x,applies:B(S.h,e)},{name:S.f,paths:P,applies:B(S.f,e)},{name:S.g,paths:R,applies:B(S.g,e),get:function(e){return Math.round(100*(e+Number.EPSILON))/100}}].map(k)}(e)),r=D(function(e){return void 0===e&&(e=T.a),[{name:S.f,paths:["userId","userIdAsEids"],applies:B(S.f,e)}].map(k)}(e));return function(e){var n={};return{ortb2:function(r){return t(n,r,e),r},bidRequest:function(t){return r(n,t,e),t}}}}(),N="client",M="server",q={isAllowed:T.a,redact:U},W={},z=W.bidderRegistry={},L=W.aliasRegistry={},F=[];o.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(F=Object(i.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var V={},G=Object(w.j)((function(e){return W.resolveAlias(e)}));var K=Object(m.b)("sync",(function(e){var t=e.bidderCode,r=e.auctionId,o=e.bidderRequestId,s=e.adUnits,d=e.src,c=e.metrics;return s.reduce((function(e,s){var u=s.bids.filter((function(e){return e.bidder===t}));return null==t&&0===u.length&&null!=s.s2sBid&&u.push({bidder:null}),e.push(u.reduce((function(e,t){var u=null==(t=Object(n.default)({},t,{ortb2Imp:Object(i.mergeDeep)({},s.ortb2Imp,t.ortb2Imp)},Object(i.getDefinedParams)(s,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?s.mediaTypes:t.mediaTypes;return Object(i.isValidMediaTypes)(u)?t=Object(n.default)({},t,{mediaTypes:u}):Object(i.logError)("mediaTypes is not correctly configured for adunit "+s.code),e.push(Object(n.default)({},t,{adUnitCode:s.code,transactionId:s.transactionId,sizes:Object(a.a)(u,"banner.sizes")||Object(a.a)(u,"video.playerSize")||[],bidId:t.bid_id||Object(i.getUniqueIdentifierStr)(),bidderRequestId:o,auctionId:r,src:d,metrics:c,bidRequestsCount:v.a.getRequestsCounter(s.code),bidderRequestsCount:v.a.getBidderRequestsCounter(s.code,t.bidder),bidderWinsCount:v.a.getBidderWinsCounter(s.code,t.bidder)})),e}),[])),e}),[]).reduce(i.flatten,[]).filter((function(e){return""!==e}))}),"getBids");var H=Object(m.b)("sync",(function(e,t,r){var n=(void 0===r?{}:r).getS2SBidders;if(null==t)return e;var i=(void 0===n?$:n)(t);return e.filter((function(e){return i.has(e.bidder)}))}),"filterBidsForAdUnit");var J=new y.b,Y=new y.d,X=new y.c,Q=Object(m.b)("sync",(function(e,t){return function(e,t){return e.reduce((function(e,r){var n=l(u(r,t),r.mediaTypes,r.sizes),a=n.active,o=n.mediaTypes,s=n.filterResults;return a?(s&&Object(i.logInfo)('Size mapping filtered adUnit "'+r.code+'" banner sizes from ',s.before,"to ",s.after),r.mediaTypes=o,r.bids=r.bids.reduce((function(e,n){var a=l(u(n,t),r.mediaTypes),o=a.active,s=a.mediaTypes,d=a.filterResults;return o?(d&&(Object(i.logInfo)('Size mapping filtered adUnit "'+r.code+'" bidder "'+n.bidder+'" banner sizes from ',d.before,"to ",d.after),n.mediaTypes=s),e.push(n)):Object(i.logInfo)('Size mapping deactivated adUnit "'+r.code+'" bidder "'+n.bidder+'"'),e}),[]),e.push(r)):Object(i.logInfo)('Size mapping disabled adUnit "'+r.code+'"'),e}),[])}(e,t)}),"setupAdUnitMediaTypes");function $(e){Object(i.isArray)(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var Z=Object(m.b)("sync",(function(e,t,r){var n,a=(void 0===r?{}:r).getS2SBidders,o=(void 0===a?$:a)(t);return Object(i.getBidderCodes)(e).reduce((function(e,t){return e[o.has(t)?M:N].push(t),e}),((n={})[N]=[],n[M]=[],n))}),"partitionBidders");function ee(e,t){var r=z[e],n=(null==r?void 0:r.getSpec)&&r.getSpec();if(n&&n[t]&&"function"==typeof n[t])return[n,n[t]]}function te(e,t,r,n){try{Object(i.logInfo)("Invoking "+e+"."+t);for(var a=arguments.length,s=new Array(a>4?a-4:0),d=4;d<a;d++)s[d-4]=arguments[d];o.b.runWithBidder(e,n.bind.apply(n,[r].concat(s)))}catch(r){Object(i.logWarn)("Error calling "+t+" of "+e)}}function re(e,t,r){var n=ee(e,t);null!=n&&te.apply(void 0,[e,t].concat(n,[r]))}function ne(e){for(var t=new Set;L.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=L[e];return e}W.makeBidRequests=Object(m.b)("sync",(function(e,t,r,n,a,d,c){void 0===d&&(d={}),c=Object(_.c)(c),O.emit(j.EVENTS.BEFORE_REQUEST_BIDS,e),Object(f.c)(e),e.forEach((function(e){return e.bids=e.bids.filter((function(e){return!e.bidder||q.isAllowed(S.c,G(E.b,e.bidder))}))})),e=Q(e,a);var u=Z(e,F),l=u[N],p=u[M];o.b.getConfig("bidderSequence")===o.a&&(l=Object(i.shuffle)(l));var b=Object(h.a)(),g=[],m=d.global||{},v=d.bidder||{};function y(e){var t=q.redact(G(E.b,e.bidderCode)),r=Object.freeze(t.ortb2(Object(i.mergeDeep)({},m,v[e.bidderCode])));return e.ortb2=r,e.bids=e.bids.map((function(e){return e.ortb2=r,t.bidRequest(e)})),e}F.forEach((function(n){if(n&&n.enabled&&function(e){var t;return q.isAllowed(S.c,G(E.c,"pbsBidAdapter",((t={})[w.f]=e.configName,t)))}(n)){var a=function(e,t){var r=Object(i.deepClone)(e),n=!1;return r.forEach((function(e){var r=e.bids.filter((function(e){var r;return"pbsBidAdapter"===e.module&&(null==(r=e.params)?void 0:r.configName)===t.configName}));1===r.length?(e.s2sBid=r[0],n=!0,e.ortb2Imp=Object(i.mergeDeep)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):r.length>1&&Object(i.logWarn)('Multiple "module" bids for the same s2s configuration; all will be ignored',r),e.bids=H(e.bids,t).map((function(e){return e.bid_id=Object(i.getUniqueIdentifierStr)(),e}))})),{adUnits:r=r.filter((function(e){return 0!==e.bids.length||null!=e.s2sBid})),hasModuleBids:n}}(e,n),o=a.adUnits,d=a.hasModuleBids,u=Object(i.generateUUID)();(0===p.length&&d?[null]:p).forEach((function(e){var a=Object(i.getUniqueIdentifierStr)(),s=c.fork(),d=y({bidderCode:e,auctionId:r,bidderRequestId:a,uniquePbsTid:u,bids:K({bidderCode:e,auctionId:r,bidderRequestId:a,adUnits:Object(i.deepClone)(o),src:j.S2S.SRC,metrics:s}),auctionStart:t,timeout:n.timeout,src:j.S2S.SRC,refererInfo:b,metrics:s});0!==d.bids.length&&g.push(d)})),o.forEach((function(e){var t=e.bids.filter((function(e){return Object(s.b)(g,(function(t){return Object(s.b)(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),g.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((function(e){return e.bids.length>0||null!=e.s2sBid})))}))}}));var I=function(e){var t=Object(i.deepClone)(e);return t.forEach((function(e){e.bids=H(e.bids,null)})),t=t.filter((function(e){return 0!==e.bids.length}))}(e);return l.forEach((function(e){var o=Object(i.getUniqueIdentifierStr)(),s=c.fork(),d=y({bidderCode:e,auctionId:r,bidderRequestId:o,bids:K({bidderCode:e,auctionId:r,bidderRequestId:o,adUnits:Object(i.deepClone)(I),labels:a,src:"client",metrics:s}),auctionStart:t,timeout:n,refererInfo:b,metrics:s}),u=z[e];u||Object(i.logError)("Trying to make a request for bidder that does not exist: "+e),u&&d.bids&&0!==d.bids.length&&g.push(d)})),g.forEach((function(e){J.getConsentData()&&(e.gdprConsent=J.getConsentData()),Y.getConsentData()&&(e.uspConsent=Y.getConsentData()),X.getConsentData()&&(e.gppConsent=X.getConsentData())})),g}),"makeBidRequests"),W.callBids=function(e,t,r,a,s,d,c,u){if(void 0===u&&(u={}),t.length){var l=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===j.S2S.SRC)].push(t),e}),[[],[]]),p=l[0],f=l[1],b=[];f.forEach((function(e){for(var t=-1,r=0;r<b.length;++r)if(e.uniquePbsTid===b[r].uniquePbsTid){t=r;break}t<=-1&&b.push(e)}));var m=0;F.forEach((function(e){if(e&&b[m]&&$(e).has(b[m].bidderCode)){var t=Object(g.b)(d,s?{request:s.request.bind(null,"s2s"),done:s.done}:void 0),o=e.bidders,c=z[e.adapter],l=b[m].uniquePbsTid,p=b[m].adUnitsS2SCopy,v=f.filter((function(e){return e.uniquePbsTid===l}));if(c){var h={ad_units:p,s2sConfig:e,ortb2Fragments:u};if(h.ad_units.length){var y=v.map((function(e){return e.start=Object(i.timestamp)(),a.bind(e)})),_=Object(i.getBidderCodes)(h.ad_units).filter((function(e){return o.includes(e)}));Object(i.logMessage)("CALLING S2S HEADER BIDDERS ==== "+(_.length>0?_.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),v.forEach((function(e){O.emit(j.EVENTS.BID_REQUESTED,Object(n.default)({},e,{tid:e.auctionId}))})),c.callBids(h,f,r,(function(){return y.forEach((function(e){return e()}))}),t)}}else Object(i.logError)("missing "+e.adapter);m++}})),p.forEach((function(e){e.start=Object(i.timestamp)();var t=z[e.bidderCode];o.b.runWithBidder(e.bidderCode,(function(){Object(i.logMessage)("CALLING BIDDER"),O.emit(j.EVENTS.BID_REQUESTED,e)}));var n=Object(g.b)(d,s?{request:s.request.bind(null,e.bidderCode),done:s.done}:void 0),u=a.bind(e);try{o.b.runWithBidder(e.bidderCode,i.bind.call(t.callBids,t,e,r,u,n,c,o.b.callbackWithBidder(e.bidderCode)))}catch(t){Object(i.logError)(e.bidderCode+" Bid Adapter emitted an uncaught error when parsing their bidRequest",{e:t,bidRequest:e}),u()}}))}else Object(i.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},W.videoAdapters=[],W.registerBidAdapter=function(e,t,r){var n=(void 0===r?{}:r).supportedMediaTypes,a=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(z[t]=e,y.a.register(E.b,t,null==e.getSpec?void 0:e.getSpec().gvlid),Object(s.c)(a,"video")&&W.videoAdapters.push(t),Object(s.c)(a,"native")&&f.h.push(t)):Object(i.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):Object(i.logError)("bidAdapter or bidderCode not specified")},W.aliasBidAdapter=function(e,t,r){if(void 0===z[t]){var a=z[e];if(void 0===a){var o=[];F.forEach((function(r){if(r.bidders&&r.bidders.length){var n=r&&r.bidders;r&&Object(s.c)(n,t)?L[t]=e:o.push(e)}})),o.forEach((function(e){Object(i.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var d,c=function(e){var t=[];return Object(s.c)(W.videoAdapters,e)&&t.push("video"),Object(s.c)(f.h,e)&&t.push("native"),t}(e);if(a.constructor.prototype!=Object.prototype)(d=new a.constructor).setBidderCode(t);else{var u=a.getSpec(),l=r&&r.gvlid,p=r&&r.skipPbsAliasing;d=Object(b.d)(Object(n.default)({},u,{code:t,gvlid:l,skipPbsAliasing:p})),L[t]=e}W.registerBidAdapter(d,t,{supportedMediaTypes:c})}catch(t){Object(i.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else Object(i.logMessage)('alias name "'+t+'" has been already specified.')},W.resolveAlias=function(e){for(var t,r=e;L[r]&&(!t||!t.has(r));)r=L[r],(t=t||new Set).add(r);return r},W.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,n=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,V[r]={adapter:t,gvlid:n},y.a.register(E.a,r,n)):Object(i.logError)('Prebid Error: Analytics adaptor error for analytics "'+r+'"\n        analytics adapter must implement an enableAnalytics() function'):Object(i.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},W.enableAnalytics=function(e){Object(i.isArray)(e)||(e=[e]),Object(i._each)(e,(function(e){var t,r=V[e.provider];r&&r.adapter?q.isAllowed(S.d,G(E.a,e.provider,((t={})[w.b]=e,t)))&&r.adapter.enableAnalytics(e):Object(i.logError)("Prebid Error: no analytics adapter found in registry for '"+e.provider+"'.")}))},W.getBidAdapter=function(e){return z[e]},W.getAnalyticsAdapter=function(e){return V[e]},W.callTimedOutBidders=function(e,t,r){t=t.map((function(t){return t.params=Object(i.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=r,t})),t=Object(i.groupBy)(t,"bidder"),Object.keys(t).forEach((function(e){re(e,"onTimeout",t[e])}))},W.callBidWonBidder=function(e,t,r){t.params=Object(i.getUserConfiguredParams)(r,t.adUnitCode,t.bidder),v.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),re(e,"onBidWon",t)},W.callBidBillableBidder=function(e){re(e.bidder,"onBidBillable",e)},W.callSetTargetingBidder=function(e,t){re(e,"onSetTargeting",t)},W.callBidViewableBidder=function(e,t){re(e,"onBidViewable",t)},W.callBidderError=function(e,t,r){re(e,"onBidderError",{error:t,bidderRequest:r})},W.callDataDeletionRequest=Object(m.b)("sync",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="onDataDeletionRequest";Object.keys(z).filter((function(e){return!L.hasOwnProperty(e)})).forEach((function(e){var r=ee(e,n);if(null!=r){var i=I.a.getBidsRequested().filter((function(t){return ne(t.bidderCode)===e}));te.apply(void 0,[e,n].concat(r,[i],t))}})),Object.entries(V).forEach((function(e){var r,a=e[0],o=e[1],s=null==o||null==(r=o.adapter)?void 0:r[n];if("function"==typeof s)try{s.apply(o.adapter,t)}catch(e){Object(i.logError)("error calling "+n+" of "+a,e)}}))}));t.a=W},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return d})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return e})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return p}));var n=r(35),i=r.n(n),a=r(12),o=i()({ready:i.a.SYNC|i.a.ASYNC|i.a.QUEUE}),s=Object(a.b)();o.ready=function(){var e=o.ready;return function(){try{return e.apply(o,arguments)}finally{s.resolve()}}}();var d=s.promise,c=o.get;var u={};function e(e,t,r){var n=(void 0===r?{}:r).postInstallAllowed,i=void 0!==n&&n;o("async",(function(r){r.forEach((function(e){return t.apply(void 0,e)})),i&&(u[e]=t)}),e)([])}function l(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=u[e];if(i)return i.apply(void 0,r);c(e).before((function(e,t){t.push(r),e(t)}))}function p(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((function(t){return[t,{get:function(){return e[t]}}]})))),t}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.addEvents=void 0,t.clearEvents=function(){f.length=0},t.on=t.off=t.getEvents=t.get=t.emit=void 0;var i=d(r(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var d=a?Object.getOwnPropertyDescriptor(e,o):null;d&&(d.get||d.set)?Object.defineProperty(i,o,d):i[o]=e[o]}i.default=e,r&&r.set(e,i);return i}(r(0)),o=d(r(4));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}var c=Array.prototype.slice,u=Array.prototype.push,l=a._map(o.default.EVENTS,(function(e){return e})),p=o.default.EVENT_ID_PATHS,f=[],b=function(){var e={},t={};function r(t,r){a.logMessage("Emitting event for: "+t);var n=r[0]||{},i=n[p[t]],o=e[t]||{que:[]},s=a._map(o,(function(e,t){return t})),d=[];f.push({eventType:t,args:n,id:i,elapsedTime:a.getPerformanceNow()}),i&&a.contains(s,i)&&u.apply(d,o[i].que),u.apply(d,o.que),a._each(d,(function(e){if(e)try{e.apply(null,r)}catch(e){a.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,r,n){if(function(e){return a.contains(l,e)}(t)){var i=e[t]||{que:[]};n?(i[n]=i[n]||{que:[]},i[n].que.push(r)):i.que.push(r),e[t]=i}else a.logError("Wrong event name : "+t+" Valid event names :"+l)},t.emit=function(e){var t=c.call(arguments,1);r(e,t)},t.off=function(t,r,n){var i=e[t];a.isEmpty(i)||a.isEmpty(i.que)&&a.isEmpty(i[n])||n&&(a.isEmpty(i[n])||a.isEmpty(i[n].que))||(n?a._each(i[n].que,(function(e){var t=i[n].que;e===r&&t.splice(t.indexOf(e),1)})):a._each(i.que,(function(e){var t=i.que;e===r&&t.splice(t.indexOf(e),1)})),e[t]=i)},t.get=function(){return e},t.addEvents=function(e){l=l.concat(e)},t.getEvents=function(){var e=[];return a._each(f,(function(t){var r=(0,i.default)({},t);e.push(r)})),e},t}();a._setEventEmitter(b.emit.bind(b));var g=b.on,m=b.off,v=b.get,h=b.getEvents,y=b.emit,O=b.addEvents;t.addEvents=O,t.emit=y,t.getEvents=h,t.get=v,t.off=m,t.on=g},function(e,t,r){"use strict";r.d(t,"a",(function(){return $}));var n=r(0),i=r(2),a=r(11),o=r(36),s=r(22),d=r(30),c=r(3);function u(e,t){var r,n,i=(void 0===t?{}:t).index,a=void 0===i?$.index:i,o=e.vastXml?e.vastXml:(r=e.vastUrl,n=e.vastImpUrl,'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI>\n        <Impression>"+(n?"<![CDATA["+n+"]]>":"")+"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>"),s=a.getAuction(e),d={type:"xml",value:o,ttlseconds:Number(e.ttl)+15};return c.b.getConfig("cache.vasttrack")&&(d.bidder=e.bidder,d.bidid=e.requestId,d.aid=e.auctionId),null!=s&&(d.timestamp=s.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(d.key=e.customCacheKey),d}function l(e,t,r){void 0===r&&(r=d.b);var n={puts:e.map(u)};r(c.b.getConfig("cache.timeout"))(c.b.getConfig("cache.url"),function(e){return{success:function(t){var r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: "+t+": "+JSON.stringify(r)),[])}}}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})}var p=r(15),f=r(33),b=r(8),g=r(5),m=r(25),v=r(1),h=r(23),y=r(9),O=r(7),j=r(4),_=r(12),I=r(18),E=r(26);var T=r(6),S=f.a.syncUsers;y.on(j.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t=function(e,t,r,a){var o,s=void 0===a?{}:a,d=s.index,c=void 0===d?$.index:d,u=s.bs,l=void 0===u?h.a:u;r=r||c.getBidRequest(t);var p=null==t?void 0:t.adapterCode,f=(null==t?void 0:t.bidderCode)||(null==(o=r)?void 0:o.bidder),b=l.get(null==t?void 0:t.adapterCode,"adjustAlternateBids"),g=l.getOwn(f,"bidCpmAdjustment")||l.get(b?p:f,"bidCpmAdjustment");if(g&&"function"==typeof g)try{return g(e,Object(i.default)({},t),r)}catch(e){Object(n.logError)("Error during bid adjustment",e)}return e}(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));var w={},A={},C=[],x=Object(T.a)();function P(e){var t=e.adUnits,r=e.adUnitCodes,s=e.callback,d=e.cbTimeout,u=e.labels,l=e.auctionId,f=e.ortb2Fragments,b=e.metrics;b=Object(I.c)(b);var h,T,P,B,N=t,M=u,W=r,z=l||Object(n.generateUUID)(),V=d,G=new Set,K=[],H=s,Y=[],X=[],Q=[],Z=[],ee=[];function te(){return{auctionId:z,timestamp:h,auctionEnd:T,auctionStatus:B,adUnits:N,adUnitCodes:W,labels:M,bidderRequests:Y,noBids:Q,bidsReceived:X,bidsRejected:K,winningBids:Z,timeout:V,metrics:b,seatNonBids:ee}}function re(e,r){if(r&&clearTimeout(P),void 0===T){var i=[];e&&(Object(n.logMessage)("Auction "+z+" timedOut"),a=G,(i=Y.map((function(e){return(e.bids||[]).filter((function(e){return!a.has(e.bidder)}))})).reduce(n.flatten,[])).length&&y.emit(j.EVENTS.BID_TIMEOUT,i)),B="completed",T=Date.now(),b.checkpoint("auctionEnd"),b.timeBetween("requestBids","auctionEnd","requestBids.total"),b.timeBetween("callBids","auctionEnd","requestBids.callBids"),y.emit(j.EVENTS.AUCTION_END,te()),D(N,(function(){try{if(null!=H){var r=W,a=X.filter(n.bind.call(n.adUnitsFilter,this,r)).reduce(J,{});H.apply(x,[a,e,z]),H=null}}catch(e){Object(n.logError)("Error executing bidsBackHandler",null,e)}finally{i.length&&O.a.callTimedOutBidders(t,i,V);var o=c.b.getConfig("userSync")||{};o.enableOverride||S(o.syncDelay)}}))}var a}function ne(){c.b.resetBidder(),Object(n.logInfo)("Bids Received for Auction with id: "+z,X),B="completed",re(!1,!0)}function ie(e){G.add(e)}function ae(e){var t=this;e.forEach((function(e){var t;t=e,Y=Y.concat(t)}));var r={},s={bidRequests:e,run:function(){var s,l;s=re.bind(null,!0),l=setTimeout(s,V),P=l,B="inProgress",y.emit(j.EVENTS.AUCTION_INIT,te());var b=function(e,t,r){var s=(void 0===r?{}:r).index,d=void 0===s?$.index:s,u=0,l=!1,f=new Set,b={},h={};function O(){u--,l&&0===u&&e()}function I(e,t,r){return b[t.requestId]=!0,function(e,t,r){var a=(void 0===r?{}:r).index,o=void 0===a?$.index:a,s=o.getBidderRequest(e),d=o.getAdUnit(e),c=s&&s.start||e.requestTimestamp;Object(i.default)(e,{responseTimestamp:e.responseTimestamp||Object(n.timestamp)(),requestTimestamp:e.requestTimestamp||c,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==d?void 0:d.ttlBuffer)&&(e.ttlBuffer=d.ttlBuffer);e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),u++,r(O)}function T(e,r){I(e,r,(function(e){var i=function(e,t){var r,n=(void 0===t?{}:t).index,i=void 0===n?$.index:n;y.emit(j.EVENTS.BID_ADJUSTMENT,e);var a=(null==(r=i.getBidRequest(e))?void 0:r.renderer)||i.getAdUnit(e).renderer,s=e.mediaType,d=i.getMediaTypes(e),u=d&&d[s],l=u&&u.renderer,f=null;l&&l.url&&l.render&&(!0!==l.backupOnly||!e.renderer)?f=l:a&&a.url&&a.render&&(!0!==a.backupOnly||!e.renderer)&&(f=a);f&&(e.renderer=p.a.install({url:f.url,config:f.options}),e.renderer.setRender(f.render));var b=F(e.mediaType,d,c.b.getConfig("mediaTypePriceGranularity")),g=Object(o.a)(e.cpm,"object"==typeof b?b:c.b.getConfig("customPriceBucket"),c.b.getConfig("currency.granularityMultiplier"));return e.pbLg=g.low,e.pbMg=g.med,e.pbHg=g.high,e.pbAg=g.auto,e.pbDg=g.dense,e.pbCg=g.custom,e}(r);i.mediaType===v.d?function(e,t,r,i){var o=(void 0===i?{}:i).index,s=void 0===o?$.index:o,d=!0,u=Object(a.a)(s.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),l=u&&Object(a.a)(u,"context"),p=u&&Object(a.a)(u,"useCacheKey");c.b.getConfig("cache.url")&&(p||l!==m.b)&&(!t.videoCacheKey||c.b.getConfig("cache.ignoreBidderCacheKey")?(d=!1,L(e,t,r,u)):t.vastUrl||(Object(n.logError)("videoCacheKey specified but not required vastUrl for video bid"),d=!1));d&&(U(e,t),r())}(t,i,e):(null!=i.native&&"object"==typeof i.native&&q(i),U(t,i),e())}))}function S(e,r,a){return I(e,r,(function(e){var o=Object(E.a)(j.STATUS.NO_BID,null==r.getIdentifiers?void 0:r.getIdentifiers());return Object(i.default)(o,Object.fromEntries(Object.entries(r).filter((function(e){var t=e[0];return!o.hasOwnProperty(t)&&!["ad","adUrl","vastXml","vastUrl","native"].includes(t)})))),o.status=j.BID_STATUS.BID_REJECTED,o.cpm=0,r.rejectionReason=a,Object(n.logWarn)("Bid from "+(r.bidder||"unknown bidder")+" was rejected: "+a,r),y.emit(j.EVENTS.BID_REJECTED,r),t.addBidRejected(r),e(),o}))}function w(){var r=t.getBidRequests(),i=c.b.getConfig("auctionOptions");if(f.add(this),i&&!Object(n.isEmpty)(i)){var a=i.secondaryBidders;a&&!r.every((function(e){return Object(g.c)(a,e.bidderCode)}))&&(r=r.filter((function(e){return!Object(g.c)(a,e.bidderCode)})))}l=r.every((function(e){return f.has(e)})),this.bids.forEach((function(e){b[e.bidId]||(t.addNoBid(e),y.emit(j.EVENTS.NO_BID,e))})),l&&0===u&&e()}return{addBidResponse:function(){function e(e,t){var r,n,i,a=d.getBidderRequest(t);r=a&&a.bidderRequestId||"",n=R.call({dispatch:T},e,t,(function(r){return null==i&&(i=S(e,t,r)),i})),null==h[r]&&(h[r]=_.a.resolve()),h[r]=h[r].then((function(){return _.a.resolve(n).catch((function(){}))}))}return e.reject=S,e}(),adapterDone:function(){!function(e,r){var n=e.timeout;(null==n||n>t.getTimeout())&&(n=t.getTimeout());var i=t.getAuctionStart()+n-Date.now(),a=h[e.bidderRequestId],o=h[""];(null!=a||null!=o)&&i>0?_.a.race([_.a.timeout(i),_.a.resolve(o).then((function(){return a}))]).then(r):r()}(this,w.bind(this))}}}(ne,t);O.a.callBids(N,e,b.addBidResponse,b.adapterDone,{request:function(e,t){u(w,t),u(r,e),A[e]||(A[e]={SRA:!0,origin:t}),r[e]>1&&(A[e].SRA=!1)},done:function(e){w[e]--,C[0]&&d(C[0])&&C.shift()}},V,ie,f)}};function d(e){var t=!0,r=c.b.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var n=1,i=void 0!==e.src&&e.src===j.S2S.SRC?"s2s":e.bidderCode;return A[i]&&(!1===A[i].SRA&&(n=Math.min(e.bids.length,r)),w[A[i].origin]+n>r&&(t=!1)),!t})),t&&e.run(),t}function u(e,t){void 0===e[t]?e[t]=1:e[t]++}d(s)||(Object(n.logWarn)("queueing auction due to limited endpoint capacity"),C.push(s))}return y.on(j.EVENTS.SEAT_NON_BID,(function(e){var t;e.auctionId===z&&(t=e.seatnonbid,ee=ee.concat(t))})),{addBidReceived:function(e){X=X.concat(e)},addBidRejected:function(e){K=K.concat(e)},addNoBid:function(e){Q=Q.concat(e)},executeCallback:re,callBids:function(){B="started",h=Date.now();var e=b.measureTime("requestBids.makeRequests",(function(){return O.a.makeBidRequests(N,h,z,V,M,f,b)}));Object(n.logInfo)("Bids Requested for Auction with id: "+z,e),b.checkpoint("callBids"),e.length<1?(Object(n.logWarn)("No valid bid requests returned for auction"),ne()):k.call({dispatch:ae,context:this},e)},addWinningBid:function(e){var r=t.find((function(t){return t.transactionId===e.transactionId}));Z=Z.concat(e),O.a.callBidWonBidder(e.adapterCode||e.bidder,e,t),r&&!r.deferBilling&&O.a.callBidBillableBidder(e)},setBidTargeting:function(e){O.a.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:function(){return Z},getAuctionStart:function(){return h},getTimeout:function(){return V},getAuctionId:function(){return z},getAuctionStatus:function(){return B},getAdUnits:function(){return N},getAdUnitCodes:function(){return W},getBidRequests:function(){return Y},getBidsReceived:function(){return X},getNoBids:function(){return Q},getNonBids:function(){return ee},getFPD:function(){return f},getMetrics:function(){return b}}}var R=Object(b.b)("sync",(function(e,t,r){this.dispatch.call(null,e,t)}),"addBidResponse"),k=Object(b.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),D=Object(b.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function B(e,t){t.timeToRespond>e.getTimeout()+c.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function U(e,t){!function(e){var t,r=!0===h.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(r||e.dealId)&&(t=function(e,t,r){var n=(void 0===r?{}:r).index,a=void 0===n?$.index:n;if(!t)return{};var o=a.getBidRequest(t),d={},c=K(t.mediaType,e);H(d,c,t,o),e&&h.a.getOwn(e,j.JSON_MAPPING.ADSERVER_TARGETING)&&(H(d,h.a.ownSettingsFor(e),t,o),t.sendStandardTargeting=h.a.get(e,"sendStandardTargeting"));t.native&&(d=Object(i.default)({},d,Object(s.g)(t)));return d}(e.bidderCode,e));e.adserverTargeting=Object(i.default)(e.adserverTargeting||{},t)}(t),Object(I.c)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),y.emit(j.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),B(e,t)}var N,M,q=function(e){var t,r,n=null==(t=$.index.getAdUnit(e))?void 0:t.nativeOrtbRequest,a=null==(r=e.native)?void 0:r.ortb;if(n&&a){var o=Object(s.j)(a,n);Object(i.default)(e.native,o)}},W=function(e){l(e.map((function(e){return e.bidResponse})),(function(t,r){r.forEach((function(r,i){var a,o=e[i],s=o.auctionInstance,d=o.bidResponse,u=o.afterBidAdded;t?(Object(n.logWarn)("Failed to save to the video cache: "+t+". Video bid must be discarded."),B(s,d)):""===r.uuid?(Object(n.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),B(s,d)):(d.videoCacheKey=r.uuid,d.vastUrl||(d.vastUrl=(a=d.videoCacheKey,c.b.getConfig("cache.url")+"?uuid="+a)),U(s,d),u())}))}))};c.b.getConfig("cache",(function(e){N="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,M="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));var z=function(e,t){void 0===e&&(e=setTimeout),void 0===t&&(t=W);var r=[[]],n=!1,i=function(e){return e()};return function(a,o,s){var d=M>0?e:i;r[r.length-1].length>=N&&r.push([]),r[r.length-1].push({auctionInstance:a,bidResponse:o,afterBidAdded:s}),n||(n=!0,d((function(){r.forEach(t),r=[[]],n=!1}),M))}}(),L=Object(b.b)("async",(function(e,t,r,n){z(e,t,r)}),"callPrebidCache");function F(e,t,r){if(e&&r){if(e===v.d){var n=Object(a.a)(t,v.d+".context","instream");if(r[v.d+"-"+n])return r[v.d+"-"+n]}return r[e]}}var V=function(e){return function(t){var r=e||function(e,t){var r=(void 0===t?{}:t).index,n=void 0===r?$.index:r,i=F(e.mediaType,n.getMediaTypes(e),c.b.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":c.b.getConfig("priceGranularity")}(t);return r===j.GRANULARITY_OPTIONS.AUTO?t.pbAg:r===j.GRANULARITY_OPTIONS.DENSE?t.pbDg:r===j.GRANULARITY_OPTIONS.LOW?t.pbLg:r===j.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:r===j.GRANULARITY_OPTIONS.HIGH?t.pbHg:r===j.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function G(e,t){return{key:e,val:"function"==typeof t?function(e,r){return t(e,r)}:function(e){return Object(n.getValue)(e,t)}}}function K(e,t){var r=j.TARGETING_KEYS,o=Object(i.default)({},h.a.settingsFor(null));if(o[j.JSON_MAPPING.ADSERVER_TARGETING]||(o[j.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e=j.TARGETING_KEYS;return[G(e.BIDDER,"bidderCode"),G(e.AD_ID,"adId"),G(e.PRICE_BUCKET,V()),G(e.SIZE,"size"),G(e.DEAL,"dealId"),G(e.SOURCE,"source"),G(e.FORMAT,"mediaType"),G(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:""})),G(e.ACAT,(function(e){return e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""}))]}()),"video"===e){var s=o[j.JSON_MAPPING.ADSERVER_TARGETING].slice();if(o[j.JSON_MAPPING.ADSERVER_TARGETING]=s,[r.UUID,r.CACHE_ID].forEach((function(e){void 0===Object(g.b)(s,(function(t){return t.key===e}))&&s.push(G(e,"videoCacheKey"))})),c.b.getConfig("cache.url")&&(!t||!1!==h.a.get(t,"sendStandardTargeting"))){var d=Object(n.parseUrl)(c.b.getConfig("cache.url"));void 0===Object(g.b)(s,(function(e){return e.key===r.CACHE_HOST}))&&s.push(G(r.CACHE_HOST,(function(e){return Object(a.a)(e,"adserverTargeting."+r.CACHE_HOST)?e.adserverTargeting[r.CACHE_HOST]:d.hostname})))}}return o}function H(e,t,r,i){var a=t[j.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),Object(n._each)(a,(function(a){var o=a.key,s=a.val;if(e[o]&&Object(n.logWarn)("The key: "+o+" is being overwritten"),Object(n.isFn)(s))try{s=s(r,i)}catch(e){Object(n.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==j.TARGETING_KEYS.DEAL&&o!==j.TARGETING_KEYS.ACAT||!Object(n.isEmptyStr)(s)&&null!=s?e[o]=s:Object(n.logInfo)("suppressing empty key '"+o+"' from adserver targeting")})),e}function J(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function Y(e){Object(i.default)(this,{getAuction:function(t){var r=t.auctionId;if(null!=r)return e().find((function(e){return e.getAuctionId()===r}))},getAdUnit:function(t){var r=t.transactionId;if(null!=r)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===r}))},getMediaTypes:function(e){var t=e.transactionId,r=e.requestId;if(null!=r){var n=this.getBidRequest({requestId:r});if(null!=n&&(null==t||n.transactionId===t))return n.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var r=t.requestId,n=t.bidderRequestId;if(null!=r||null!=n){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=n&&(i=i.filter((function(e){return e.bidderRequestId===n}))),null==r?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===r}))}))}},getBidRequest:function(t){var r=t.requestId;if(null!=r)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===r}))}})}var X,Q,$=(X=[],(Q={}).addWinningBid=function(e){var t=Object(I.c)(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","render.pending"),t.timeBetween("requestBids","bidWon","render.e2e");var r=Object(g.b)(X,(function(t){return t.getAuctionId()===e.auctionId}));r?(e.status=j.BID_STATUS.RENDERED,r.addWinningBid(e)):Object(n.logWarn)("Auction not found when adding winning bid")},Q.getAllWinningBids=function(){return X.map((function(e){return e.getWinningBids()})).reduce(n.flatten,[])},Q.getBidsRequested=function(){return X.map((function(e){return e.getBidRequests()})).reduce(n.flatten,[])},Q.getNoBids=function(){return X.map((function(e){return e.getNoBids()})).reduce(n.flatten,[])},Q.getBidsReceived=function(){return X.map((function(e){if("completed"===e.getAuctionStatus())return e.getBidsReceived()})).reduce(n.flatten,[]).filter((function(e){return e}))},Q.getAllBidsForAdUnitCode=function(e){return X.map((function(e){return e.getBidsReceived()})).reduce(n.flatten,[]).filter((function(t){return t&&t.adUnitCode===e}))},Q.getAdUnits=function(){return X.map((function(e){return e.getAdUnits()})).reduce(n.flatten,[])},Q.getAdUnitCodes=function(){return X.map((function(e){return e.getAdUnitCodes()})).reduce(n.flatten,[]).filter(n.uniques)},Q.createAuction=function(e){var t=P(e);return function(e){X.push(e)}(t),t},Q.findBidByAdId=function(e){return Object(g.b)(X.map((function(e){return e.getBidsReceived()})).reduce(n.flatten,[]),(function(t){return t.adId===e}))},Q.getStandardBidderAdServerTargeting=function(){return K()[j.JSON_MAPPING.ADSERVER_TARGETING]},Q.setStatusForBids=function(e,t){var r=Q.findBidByAdId(e);if(r&&(r.status=t),r&&t===j.BID_STATUS.BID_TARGETING_SET){var n=Object(g.b)(X,(function(e){return e.getAuctionId()===r.auctionId}));n&&n.setBidTargeting(r)}},Q.getLastAuctionId=function(){return X.length&&X[X.length-1].getAuctionId()},Q.clearAllAuctions=function(){X.length=0},Q.index=new Y((function(){return X})),Q)},function(e,t,r){"use strict";function n(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l}));var n=r(16),i=r(27),a=0,o=1,s=Object(i.a)("result"),d=Object(i.a)("callbacks"),c=Object(i.a)("collect"),u=function(){function e(e){if(Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),"function"!=typeof e)throw new Error("resolver not a function");var t=[],r=[],i=[a,o].map((function(e){return function(n){if(e===a&&"function"==typeof(null==n?void 0:n.then))n.then(c,u);else if(!t.length)for(t.push(e,n);r.length;)r.shift()()}})),c=i[0],u=i[1];try{e(c,u)}catch(e){u(e)}Object(n.a)(this,s)[s]=t,Object(n.a)(this,d)[d]=r}e.timeout=function(t){return void 0===t&&(t=0),new e((function(e){0===t?e():setTimeout(e,t)}))};var t=e.prototype;return t.then=function(e,t){var r=this,i=Object(n.a)(this,s)[s];return new this.constructor((function(o,s){var c=function(){var r=i[1],n=i[0]===a?[e,o]:[t,s],d=n[0],c=n[1];if("function"==typeof d){try{r=d(r)}catch(e){return void s(e)}c=o}c(r)};i.length?c():Object(n.a)(r,d)[d].push(c)}))},t.catch=function(e){return this.then(null,e)},t.finally=function(e){var t,r=this;return this.then((function(r){return t=r,e()}),(function(n){return t=r.constructor.reject(n),e()})).then((function(){return t}))},e.race=function(e){var t=this;return new this((function(r,i){Object(n.a)(t,c)[c](e,(function(e,t){return e?r(t):i(t)}))}))},e.all=function(e){var t=this;return new this((function(r,i){var a=[];Object(n.a)(t,c)[c](e,(function(e,t,r){return e?a[r]=t:i(t)}),(function(){return r(a)}))}))},e.allSettled=function(e){var t=this;return new this((function(r){var i=[];Object(n.a)(t,c)[c](e,(function(e,t,r){return i[r]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}}),(function(){return r(i)}))}))},e.resolve=function(e){return new this((function(t){return t(e)}))},e.reject=function(e){return new this((function(t,r){return r(e)}))},e}();function l(e){var t,r,n=(void 0===e?{}:e).promiseFactory;function i(e){return function(t){return e(t)}}return{promise:(void 0===n?function(e){return new u(e)}:n)((function(e,n){t=e,r=n})),resolve:i(t),reject:i(r)}}Object.defineProperty(u,c,{value:function(e,t,r){var n=this,i=e.length;function a(){t.apply(this,arguments),--i<=0&&r&&r()}0===e.length&&r?r():e.forEach((function(e,t){return n.resolve(e).then((function(e){return a(!0,e,t)}),(function(e){return a(!1,e,t)}))}))}})},function(e,t,r){"use strict";r.d(t,"e",(function(){return T})),r.d(t,"d",(function(){return S})),r.d(t,"a",(function(){return C})),r.d(t,"b",(function(){return x})),r.d(t,"c",(function(){return P}));var n=r(2),i=r(37),a=r(7),o=r(3),s=r(26),d=r(33),c=r(22),u=r(25),l=r(4),p=r(9),f=r(5),b=r(30),g=r(0),m=r(11),v=r(1),h=r(8),y=r(20),O=r(10),j=r(23),_=r(18),I=Object(y.c)("bidderFactory"),E=["cpm","ttl","creativeId","netRevenue","currency"];function T(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function r(e){var r=S(e);a.a.registerBidAdapter(r,e.code,t)}r(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var i,o,s=t;Object(g.isPlainObject)(t)&&(s=t.code,i=t.gvlid,o=t.skipPbsAliasing),a.a.aliasRegistry[s]=e.code,r(Object(n.default)({},e,{code:s,gvlid:i,skipPbsAliasing:o}))}))}function S(e){return Object(n.default)(new i.a(e.code),{getSpec:function(){return Object.freeze(Object(n.default)({},e))},registerSyncs:t,callBids:function(i,d,c,u,f,b){if(Array.isArray(i.bids)){var m={},v=[],h=R(i).measureTime("validate",(function(){return i.bids.filter(r)}));if(0!==h.length){var y={};h.forEach((function(e){y[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),w(e,h,i,u,b,{onRequest:function(e){return p.emit(l.EVENTS.BEFORE_BIDDER_HTTP,i,e)},onResponse:function(t){f(e.code),v.push(t)},onFledgeAuctionConfigs:function(e){e.forEach((function(e){var t=y[e.bidId];t?C(t.adUnitCode,e.config):Object(g.logWarn)("Received fledge auction configuration for an unknown bidId",e)}))},onError:function(t,r){f(e.code),a.a.callBidderError(e.code,r,i),p.emit(l.EVENTS.BIDDER_ERROR,{error:r,bidderRequest:i}),Object(g.logError)("Server call for "+e.code+" failed: "+t+" "+r.status+". Continuing without bids.")},onBid:function(t){var r=y[t.requestId];if(r){if(t.adapterCode=r.bidder,function(e,t){var r=j.a.get(t,"allowAlternateBidderCodes")||!1,n=j.a.get(t,"allowedAlternateBidderCodes");if(e&&t&&t!==e&&(n=Object(g.isArray)(n)?n.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(g.uniques):n,!r||Object(g.isArray)(n)&&"*"!==n[0]&&!n.includes(e)))return!0;return!1}(t.bidderCode,r.bidder))return Object(g.logWarn)(t.bidderCode+" is not a registered partner or known bidder of "+r.bidder+", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings."),void d.reject(r.adUnitCode,t,l.REJECTION_REASON.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object(n.default)({},t[r.bidder]);var i=Object(n.default)(Object(s.a)(l.STATUS.GOOD,r),t);!function(e,t){var r=Object(_.c)(t.metrics);r.checkpoint("addBidResponse"),m[e]=!0,r.measureTime("addBidResponse.validate",(function(){return P(e,t)}))?d(e,t):d.reject(e,t,l.REJECTION_REASON.INVALID)}(r.adUnitCode,i)}else Object(g.logWarn)("Bidder "+e.code+" made bid for unknown request ID: "+t.requestId+". Ignoring."),d.reject(null,t,l.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:O})}else O()}function O(){c(),o.b.runWithBidder(e.code,(function(){p.emit(l.EVENTS.BIDDER_DONE,i),t(v,i.gdprConsent,i.uspConsent,i.gppConsent)}))}}});function t(t,r,n,i){A(e,t,r,n,i)}function r(t){return!!e.isBidRequestValid(t)||(Object(g.logWarn)("Invalid bid sent to bidder "+e.code+": "+JSON.stringify(t)),!1)}}var w=Object(h.b)("sync",(function(e,t,r,i,a,o){var s=o.onRequest,d=o.onResponse,c=o.onFledgeAuctionConfigs,u=o.onError,l=o.onBid,p=o.onCompletion,f=R(r);p=f.startTiming("total").stopBefore(p);var b=f.measureTime("buildRequests",(function(){return e.buildRequests(t,r)}));if(b&&0!==b.length){Array.isArray(b)||(b=[b]);var m=Object(g.delayExecution)(p,b.length);b.forEach((function(t){var r=f.fork();function o(e){null!=e&&(e.metrics=r.fork().renameWith()),l(e)}var p=a((function(n,i){v();try{n=JSON.parse(n)}catch(e){}n={body:n,headers:{get:i.getResponseHeader.bind(i)}},d(n);try{n=r.measureTime("interpretResponse",(function(){return e.interpretResponse(n,t)}))}catch(t){return Object(g.logError)("Bidder "+e.code+" failed to interpret the server's response. Continuing without bids",null,t),void m()}var a;n&&Object(g.isArray)(n.fledgeAuctionConfigs)?(c(n.fledgeAuctionConfigs),a=n.bids):a=n,a&&(Object(g.isArray)(a)?a.forEach(o):o(a)),m()})),b=a((function(e,t){v(),u(e,t),m()}));s(t);var v=r.startTiming("net");switch(t.method){case"GET":i(""+t.url+function(e){if(e)return"?"+("object"==typeof e?Object(g.parseQueryStringParameters)(e):e);return""}(t.data),{success:p,error:b},void 0,Object(n.default)({method:"GET",withCredentials:!0},t.options));break;case"POST":i(t.url,{success:p,error:b},"string"==typeof t.data?t.data:JSON.stringify(t.data),Object(n.default)({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Object(g.logWarn)("Skipping invalid request from "+e.code+". Request type "+t.type+" must be GET or POST"),m()}}))}else p()}),"processBidderRequests"),A=Object(h.b)("async",(function(e,t,r,n,i){var s=o.b.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(s||!a.a.aliasRegistry[e.code])){var c=o.b.getConfig("userSync.filterSettings"),u=e.getUserSyncs({iframeEnabled:!(!c||!c.iframe&&!c.all),pixelEnabled:!(!c||!c.image&&!c.all)},t,r,n,i);u&&(Array.isArray(u)||(u=[u]),u.forEach((function(t){d.a.registerSync(t.type,e.code,t.url)})),d.a.bidderDone(e.code))}}),"registerSyncs"),C=Object(h.b)("sync",(function(e,t){}),"addComponentAuction");function x(e,t){var r=a.a.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),i=n.localStorageKey?n.localStorageKey:r.getBidderCode(),o=I.getDataFromLocalStorage(i);if(o){try{o=JSON.parse(o)}catch(t){Object(g.logError)("Failed to parse "+e+" mapping data stored in local storage")}return o.mapping[t]?o.mapping[t]:null}}}function P(e,t,r){var n,i=(void 0===r?{}:r).index,a=void 0===i?O.a.index:i;function o(e){return"Invalid bid from "+t.bidderCode+". Ignoring bid: "+e}return e?t?(n=Object.keys(t),E.every((function(e){return Object(f.c)(n,e)&&!Object(f.c)([void 0,null],t[e])}))?"native"!==t.mediaType||Object(c.i)(t,{index:a})?"video"!==t.mediaType||Object(u.c)(t,{index:a})?!("banner"===t.mediaType&&!function(e,t,r){var n=(void 0===r?{}:r).index,i=void 0===n?O.a.index:n;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var a=i.getBidRequest(t),o=i.getMediaTypes(t),s=a&&a.sizes||o&&o.banner&&o.banner.sizes,d=Object(g.parseSizesInput)(s);if(1===d.length){var c=d[0].split("x"),u=c[0],l=c[1];return t.width=parseInt(u,10),t.height=parseInt(l,10),!0}return!1}(0,t,{index:a}))||(Object(g.logError)(o("Banner bids require a width and height")),!1):(Object(g.logError)(o("Video bid does not have required vastUrl or renderer property")),!1):(Object(g.logError)(o("Native bid missing some required properties.")),!1):(Object(g.logError)(o("Bidder "+t.bidderCode+" is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.")),!1)):(Object(g.logWarn)("Some adapter tried to add an undefined bid for "+e+"."),!1):(Object(g.logWarn)("No adUnitCode was supplied to addBidResponse."),!1)}function R(e){return Object(_.c)(e.metrics).renameWith((function(t){return["adapter.client."+t,"adapters.client."+e.bidderCode+"."+t]}))}Object(h.a)("checkAdUnitSetup").before((function(e,t){if(!o.b.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return Object(m.a)(e,"mediaTypes.video.context")===v.a})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(g.flatten,[]).filter(g.uniques).forEach((function(e){var t=a.a.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var r=t.getSpec().getMappingFileInfo(),n=r.refreshInDays?r.refreshInDays:1,i=r.localStorageKey?r.localStorageKey:t.getSpec().code,o=I.getDataFromLocalStorage(i);try{(!(o=o?JSON.parse(o):void 0)||Object(g.timestamp)()>o.lastUpdated+24*n*60*60*1e3)&&Object(b.a)(r.url,{success:function(t){try{t=JSON.parse(t);var r={lastUpdated:Object(g.timestamp)(),mapping:t.mapping};I.setDataInLocalStorage(i,JSON.stringify(r))}catch(t){Object(g.logError)("Failed to parse "+e+" bidder translation mapping file")}},error:function(){Object(g.logError)("Failed to load "+e+" bidder translation file")}})}catch(t){Object(g.logError)("Failed to parse "+e+" bidder translation mapping file")}}})),e.call(this,t)}))},function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return s}));var n="prebid",i="bidder",a="userId",o="rtd",s="analytics"},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return l}));var n=r(31),i=r(0),a=r(11),o=r(5),s=r(6),d=Object(s.a)();function c(e){var t=this,r=e.url,a=e.config,o=e.id,s=e.callback,d=e.loaded,c=e.adUnitCode,u=e.renderNow;this.url=r,this.config=a,this.handlers={},this.id=o,this.renderNow=u,this.loaded=d,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):Object(i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=s||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,a=function(){e._render?e._render.apply(e,t):Object(i.logWarn)("No render function was provided, please use .setRender on the renderer")};p(c)?(Object(i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit "+c),a()):u?a():(this.cmd.unshift(a),Object(n.a)(r,"outstream",this.callback,this.documentContext))}.bind(this)}function u(e){return!(!e||!e.url&&!e.renderNow)}function l(e,t,r){var n=null;e.config&&e.config.documentResolver&&(n=e.config.documentResolver(t,document,r)),n||(n=document),e.documentContext=n,e.render(t,e.documentContext)}function p(e){var t=d.adUnits,r=Object(o.b)(t,(function(t){return t.code===e}));if(!r)return!1;var n=Object(a.a)(r,"renderer"),i=!!(n&&n.url&&n.render),s=Object(a.a)(r,"mediaTypes.video.renderer"),c=!!(s&&s.url&&s.render);return!!(i&&!0!==n.backupOnly||c&&!0!==s.backupOnly)}c.install=function(e){return new c({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode,renderNow:e.renderNow})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),Object(i.logMessage)("Prebid Renderer event for id "+t+" type "+r)},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){Object(i.logError)("Error processing Renderer command: ",e)}}},function(e,t,r){"use strict";function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return d})),r.d(t,"h",(function(){return c})),r.d(t,"g",(function(){return u}));var n="accessDevice",i="syncUser",a="enrichEids",o="fetchBids",s="reportAnalytics",d="transmitEids",c="transmitUfpd",u="transmitPreciseGeo"},function(e,t,r){"use strict";r.d(t,"c",(function(){return g})),r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return y}));var n=r(2),i=r(3);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},d=new WeakMap;function c(e){var t=void 0===e?{}:e,r=t.now,i=void 0===r?s:r,a=t.mkNode,o=void 0===a?p:a,c=t.mkTimer,u=void 0===c?l:c,f=t.mkRenamer,b=void 0===f?function(e){return e}:f,g=t.nodes,m=void 0===g?d:g;return function(){return function e(t,r){void 0===r&&(r=function(e){return{forEach:function(t){t(e)}}}),r=b(r);var a,s=(a="timestamps",function(e){return t.dfWalk({visit:function(t,r){var n=r[a];if(n.hasOwnProperty(e))return n[e]}})});function d(e,n){var i=r(e);t.dfWalk({follow:function(e,t){return t.propagate&&(!e||!e.stopPropagation)},visit:function(e,t){i.forEach((function(r){null==e?t.metrics[r]=n:(t.groups.hasOwnProperty(r)||(t.groups[r]=[]),t.groups[r].push(n))}))}})}function c(e){return u(i,(function(t){return d(e,t)}))}function l(){var e={};return t.dfWalk({visit:function(t,r){e=Object(n.default)({},!t||t.includeGroups?r.groups:null,r.metrics,e)}}),e}var p={startTiming:c,measureTime:function(e,t){return c(e).stopAfter(t)()},measureHookTime:function(e,t,r){var n=c(e);return r(function(e){var t=n.stopBefore(e);return t.bail=e.bail&&n.stopBefore(e.bail),t.stopTiming=n,t.untimed=e,t}(t))},checkpoint:function(e){t.timestamps[e]=i()},timeSince:function(e,t){var r=s(e),n=null!=r?i()-r:null;return null!=t&&d(t,n),n},timeBetween:function(e,t,r){var n=s(e),i=s(t),a=null!=n&&null!=i?i-n:null;return null!=r&&d(r,a),a},setMetric:d,getMetrics:l,fork:function(n){var i=void 0===n?{}:n,a=i.propagate,s=void 0===a||a,d=i.stopPropagation,c=void 0!==d&&d,u=i.includeGroups;return e(o([[t,{propagate:s,stopPropagation:c,includeGroups:void 0!==u&&u}]]),r)},join:function(e,r){var n=void 0===r?{}:r,i=n.propagate,a=void 0===i||i,o=n.stopPropagation,s=void 0!==o&&o,d=n.includeGroups,c=void 0!==d&&d,u=m.get(e);null!=u&&u.addParent(t,{propagate:a,stopPropagation:s,includeGroups:c})},newMetrics:function(){return e(t.newSibling(),r)},renameWith:function(r){return e(t,r)},toJSON:function(){return l()}};return m.set(p,t),p}(o([]))}}function u(e,t,r){return function(){t&&t();try{return e.apply(this,arguments)}finally{r&&r()}}}function l(e,t){var r=e(),n=!1;function i(){n||(t(e()-r),n=!0)}return i.stopBefore=function(e){return u(e,i)},i.stopAfter=function(e){return u(e,null,i)},i}function p(e){return{metrics:{},timestamps:{},groups:{},addParent:function(t,r){e.push([t,r])},newSibling:function(){return p(e.slice())},dfWalk:function(t){var r,n=void 0===t?{}:t,i=n.visit,o=n.follow,s=void 0===o?function(){return!0}:o,d=n.visited,c=void 0===d?new Set:d,u=n.inEdge;if(!c.has(this)){if(c.add(this),null!=(r=i(u,this)))return r;for(var l,p=a(e);!(l=p()).done;){var f=l.value,b=f[0],g=f[1];if(s(u,g)&&null!=(r=b.dfWalk({visit:i,follow:s,visited:c,inEdge:g})))return r}}}}}var f=function(){var e=function(){},t=function(){return{}},r={forEach:e},n=function(){return null};n.stopBefore=function(e){return e},n.stopAfter=function(e){return e};var i=Object.defineProperties({dfWalk:e,newSibling:function(){return i},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((function(e){return[e,{get:t}]}))));return c({now:function(){return 0},mkNode:function(){return i},mkRenamer:function(){return function(){return r}},mkTimer:function(){return n},nodes:{get:e,set:e}})()}(),b=!0;function g(e){return b&&e||f}i.b.getConfig("performanceMetrics",(function(e){b=!!e.performanceMetrics}));var m,v=(m=c(),function(){return b?m():f});function h(e,t){return function(r,n){return function(i){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var d=this;return g(t.apply(d,o)).measureHookTime(e+r,i,(function(e){return n.call.apply(n,[d,e].concat(o))}))}}}var y=h("requestBids.",(function(e){return e.metrics}));h("addBidResponse.",(function(e,t){return t.metrics}))},function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return d})),r.d(t,"g",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"h",(function(){return l})),r.d(t,"i",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"j",(function(){return b}));var n=r(2),i=r(14),a="component",o=a+"Type",s=a+"Name",d="adapterCode",c="storageType",u="configName",l="syncType",p="syncUrl",f="_config";function b(e){return function(t,r,c){var u,l=((u={})[o]=t,u[s]=r,u[a]=t+"."+r,u);return t===i.b&&(l[d]=e(r)),Object(n.default)(l,c)}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return f})),r.d(t,"e",(function(){return b})),r.d(t,"d",(function(){return m})),r.d(t,"c",(function(){return v}));var n=r(0),i=r(23),a=r(14),o=r(21),s=r(19),d=r(17),c=r(3),u=r(7),l=r(34),p="html5",f="cookie",b=[];function g(e,t){var r=void 0===e?{}:e,i=r.moduleName,g=r.moduleType,m=(void 0===t?{}:t).isAllowed,v=void 0===m?o.a:m;function h(e,t){var r,n=i,o=c.b.getCurrentBidder();return o&&g===a.b&&u.a.aliasRegistry[o]===i&&(n=o),e({valid:v(d.a,Object(l.a)(g,n,(r={},r[s.g]=t,r)))})}function y(e,t,r){if(!r||"function"!=typeof r)return h(e,t);b.push((function(){var n=h(e,t);r(n)}))}var O=function(e){return y((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){Object(n.logError)("Local storage api disabled")}return!1}),p,e)};return{setCookie:function(e,t,r,n,i,a){return y((function(a){if(a&&a.valid){var o=i&&""!==i?" ;domain="+encodeURIComponent(i):"",s=r&&""!==r?" ;expires="+r:"",d=null!=n&&"none"==n.toLowerCase()?"; Secure":"";document.cookie=e+"="+encodeURIComponent(t)+s+"; path=/"+o+(n?"; SameSite="+n:"")+d}}),f,a)},getCookie:function(e,t){return y((function(t){if(t&&t.valid){var r=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return r?decodeURIComponent(r[2]):null}return null}),f,t)},localStorageIsEnabled:function(e){return y((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),p,e)},cookiesAreEnabled:function(e){return y((function(e){return!(!e||!e.valid)&&Object(n.checkCookieSupport)()}),f,e)},setDataInLocalStorage:function(e,t,r){return y((function(r){r&&r.valid&&O()&&window.localStorage.setItem(e,t)}),p,r)},getDataFromLocalStorage:function(e,t){return y((function(t){return t&&t.valid&&O()?window.localStorage.getItem(e):null}),p,t)},removeDataFromLocalStorage:function(e,t){return y((function(t){t&&t.valid&&O()&&window.localStorage.removeItem(e)}),p,t)},hasLocalStorage:O,findSimilarCookies:function(e,t){return y((function(t){if(t&&t.valid){var r=[];if(Object(n.hasDeviceAccess)())for(var i=document.cookie.split(";");i.length;){var a=i.pop(),o=a.indexOf("=");o=o<0?a.length:o,decodeURIComponent(a.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&r.push(decodeURIComponent(a.slice(o+1)))}return r}}),f,t)}}}function m(e){var t=void 0===e?{}:e,r=t.moduleType,n=t.moduleName,i=t.bidderCode;function o(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return i?((r&&r!==a.b||n)&&o(),r=a.b,n=i):n&&r||o(),g({moduleType:r,moduleName:n})}function v(e){return g({moduleName:e,moduleType:a.c})}Object(o.b)(d.a,"deviceAccess config",(function(){if(!Object(n.hasDeviceAccess)())return{allow:!1}})),Object(o.b)(d.a,"bidderSettings.*.storageAllowed",(function(e,t){if(void 0===t&&(t=i.a),e[s.e]===a.b){var r=t.get(e[s.a],"storageAllowed");if(r&&!0!==r){var n=e[s.g];r=Array.isArray(r)?r.some((function(e){return e===n})):r===n}else r=!!r;return r?void 0:{allow:r}}}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return u}));var n=r(2),i=r(0),a=r(19);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){void 0===e&&(e=Object(i.prefixLog)("Activity control:"));var t={};function r(e){return t[e]=t[e]||[]}function s(t,r,i,o){var s;try{s=i(o)}catch(n){e.logError("Exception in rule "+r+" for '"+t+"'",n),s={allow:!1,reason:n}}return s&&Object(n.default)({activity:t,name:r,component:o[a.c]},s)}var d={};function c(t){var r=t.activity,n=t.name,i=t.allow,a=t.reason,o=n+" "+(i?"allowed":"denied")+" '"+r+"' for '"+t.component+"'"+(a?":":""),s=d.hasOwnProperty(o);if(s&&clearTimeout(d[o]),d[o]=setTimeout((function(){return delete d[o]}),1e3),!s){var c=[o];a&&c.push(a),(i?e.logInfo:e.logWarn).apply(e,c)}}return[function(e,t,n,i){void 0===i&&(i=10);var a=r(e),o=a.findIndex((function(e){var t=e[0];return i<t})),s=[i,t,n];return a.splice(o<0?a.length:o,0,s),function(){var e=a.indexOf(s);e>=0&&a.splice(e,1)}},function(e,t){for(var n,i,a,d=o(r(e));!(a=d()).done;){var u=a.value,l=u[0],p=u[1],f=u[2];if(n!==l&&i)break;n=l;var b=s(e,p,f,t);if(b){if(!b.allow)return c(b),!1;i=b}}return i&&c(i),!0}]}(),c=d[0],u=d[1]},function(e,t,r){"use strict";r.d(t,"h",(function(){return p})),r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return T})),r.d(t,"i",(function(){return w})),r.d(t,"d",(function(){return A})),r.d(t,"g",(function(){return C})),r.d(t,"f",(function(){return P})),r.d(t,"e",(function(){return R})),r.d(t,"b",(function(){return B})),r.d(t,"j",(function(){return M}));var n=r(2),i=r(11),a=r(0),o=r(5),s=r(10),d=r(4),c=r(1);function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=[],f=Object.keys(d.NATIVE_KEYS).map((function(e){return d.NATIVE_KEYS[e]})),b={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},g=d.NATIVE_ASSET_TYPES,m=d.NATIVE_IMAGE_TYPES,v=d.PREBID_NATIVE_DATA_KEYS_TO_ORTB,h=d.NATIVE_KEYS_THAT_ARE_NOT_ASSETS,y=d.NATIVE_KEYS,O=q(v),j=q(g),_={img:1,js:2,1:"img",2:"js"},I=1;function E(e){if(e&&e.type&&function(e){if(!e||!Object(o.c)(Object.keys(b),e))return Object(a.logError)(e+" nativeParam is not supported"),!1;return!0}(e.type)&&(e=b[e.type]),!e||!e.ortb||S(e.ortb))return e}function T(e){e.forEach((function(e){var t=e.nativeParams||Object(i.a)(e,"mediaTypes.native");t&&(e.nativeParams=E(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!Object(a.isPlainObject)(e))return void Object(a.logError)("Native assets object is empty or not an object: ",e);var t={ver:"1.2",assets:[]};for(var r in e)if(!h.includes(r))if(y.hasOwnProperty(r)){var n=e[r],i=0;n.required&&Object(a.isBoolean)(n.required)&&(i=Number(n.required));var o={id:t.assets.length,required:i};if(r in v)o.data={type:g[v[r]]},n.len&&(o.data.len=n.len);else if("icon"===r||"image"===r){if(o.img={type:"icon"===r?m.ICON:m.MAIN},n.aspect_ratios)if(Object(a.isArray)(n.aspect_ratios))if(n.aspect_ratios.length){var s=n.aspect_ratios[0],d=s.min_width,c=s.min_height;Object(a.isInteger)(d)&&Object(a.isInteger)(c)?(o.img.wmin=d,o.img.hmin=c):Object(a.logError)("image.aspect_ratios min_width or min_height are invalid: ",d,c);var u=n.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return e.ratio_width+":"+e.ratio_height}));u.length>0&&(o.img.ext={aspectratios:u})}else Object(a.logError)("image.aspect_ratios was passed, but it's empty:",n.aspect_ratios);else Object(a.logError)("image.aspect_ratios was passed, but it's not a an array:",n.aspect_ratios);n.sizes&&(2===n.sizes.length&&Object(a.isInteger)(n.sizes[0])&&Object(a.isInteger)(n.sizes[1])?(o.img.w=n.sizes[0],o.img.h=n.sizes[1],delete o.img.hmin,delete o.img.wmin):Object(a.logError)("image.sizes was passed, but its value is not an array of integers:",n.sizes))}else"title"===r?o.title={len:n.len||140}:"ext"===r&&(o.ext=n,delete o.required);t.assets.push(o)}else Object(a.logError)("Unrecognized native asset code: "+r+". Asset will be ignored.");return t}(e.nativeParams))}))}function S(e){var t=e.assets;if(!Array.isArray(t)||0===t.length)return Object(a.logError)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;var r=t.map((function(e){return e.id}));return t.length!==new Set(r).size||r.some((function(e){return e!==parseInt(e,10)}))?(Object(a.logError)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?(Object(a.logError)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((function(e){return function(e){if(!Object(a.isPlainObject)(e))return Object(a.logError)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!Object(a.isNumber)(e.img.w)&&!Object(a.isNumber)(e.img.wmin))return Object(a.logError)("for img asset there must be 'w' or 'wmin' property"),!1;if(!Object(a.isNumber)(e.img.h)&&!Object(a.isNumber)(e.img.hmin))return Object(a.logError)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!Object(a.isNumber)(e.title.len))return Object(a.logError)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!Object(a.isNumber)(e.data.type))return Object(a.logError)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&Object(a.isNumber)(e.video.minduration)&&Object(a.isNumber)(e.video.maxduration)))return Object(a.logError)("video asset is not properly configured"),!1;return!0}(e)}))}function w(e,t){var r,n=(void 0===t?{}:t).index,d=(void 0===n?s.a.index:n).getAdUnit(e);if(!d)return!1;var c=d.nativeOrtbRequest;return function(e,t){if(!Object(i.a)(e,"link.url"))return Object(a.logError)("native response doesn't have 'link' property. Ortb response: ",e),!1;var r=t.assets.filter((function(e){return 1===e.required})).map((function(e){return e.id})),n=e.assets.map((function(e){return e.id})),s=r.every((function(e){return Object(o.c)(n,e)}));s||Object(a.logError)("didn't receive a bid with all required assets. Required ids: "+r+", but received ids in response: "+n);return s}((null==(r=e.native)?void 0:r.ortb)||N(e.native,c),c)}function A(e,t){var r=t.native.ortb||U(t.native);return"click"===e.action?function(e,t,r){void 0===t&&(t=null);var n=(void 0===r?{}:r).fetchURL,i=void 0===n?a.triggerPixel:n;if(t){var o,s=(e.assets||[]).filter((function(e){return e.link})).reduce((function(e,t){return e[t.id]=t.link,e}),{}),d=(null==(o=e.link)?void 0:o.clicktrackers)||[],c=s[t],u=d;c&&(u=c.clicktrackers||[]),u.forEach((function(e){return i(e)}))}else{var l;((null==(l=e.link)?void 0:l.clicktrackers)||[]).forEach((function(e){return i(e)}))}}(r,null==e?void 0:e.assetId):function(e,t){var r=void 0===t?{}:t,n=r.runMarkup,i=void 0===n?function(e){return Object(a.insertHtmlIntoIframe)(e)}:n,o=r.fetchURL,s=void 0===o?a.triggerPixel:o,d=(e.eventtrackers||[]).filter((function(e){return e.event===I})).reduce((function(e,t){return _.hasOwnProperty(t.method)&&e[_[t.method]].push(t.url),e}),{img:[],js:[]}),c=d.img,u=d.js;e.imptrackers&&(c=c.concat(e.imptrackers));c.forEach((function(e){return s(e)})),u=u.map((function(e){return'<script async src="'+e+'"><\/script>'})),e.jstracker&&(u=u.concat([e.jstracker]));u.length&&i(u.join("\n"))}(r),e.action}function C(e,t){var r=(void 0===t?{}:t).index,a=void 0===r?s.a.index:r,o={},c=a.getAdUnit(e);Object(i.a)(c,"nativeParams.rendererUrl")?e.native.rendererUrl=k(c.nativeParams.rendererUrl):Object(i.a)(c,"nativeParams.adTemplate")&&(e.native.adTemplate=k(c.nativeParams.adTemplate));var u=!1!==Object(i.a)(c,"nativeParams.sendTargetingKeys"),l=function(e){var t={};Object(i.a)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_"+e}));return Object(n.default)({},d.NATIVE_KEYS,t)}(c),p=Object(n.default)({},e.native,e.native.ext);return delete p.ext,Object.keys(p).forEach((function(t){var r=l[t],n=k(e.native[t])||k(Object(i.a)(e,"native.ext."+t));if("adTemplate"!==t&&r&&n){var a=Object(i.a)(c,"nativeParams."+t+".sendId");if("boolean"!=typeof a&&(a=Object(i.a)(c,"nativeParams.ext."+t+".sendId")),a)n=r+":"+e.adId;var s=Object(i.a)(c,"nativeParams."+t+".sendTargetingKeys");"boolean"!=typeof s&&(s=Object(i.a)(c,"nativeParams.ext."+t+".sendTargetingKeys")),("boolean"==typeof s?s:u)&&(o[r]=n)}})),o}function x(e,t,r,n){var i,a,o=(void 0===n?{}:n).index,c=void 0===o?s.a.index:o,u={message:"assetResponse",adId:e.adId},l=c.getAdUnit(t),p=t.native;return t.native.ortb?u.ortb=t.native.ortb:null!=(i=l.mediaTypes)&&null!=(a=i.native)&&a.ortb&&(u.ortb=N(t.native,l.nativeOrtbRequest)),u.assets=[],(null==r?Object.keys(p):r).forEach((function(e){if("adTemplate"===e&&p[e])u.adTemplate=k(p[e]);else if("rendererUrl"===e&&p[e])u.rendererUrl=k(p[e]);else if("ext"===e)Object.keys(p[e]).forEach((function(t){if(p[e][t]){var r=k(p[e][t]);u.assets.push({key:t,value:r})}}));else if(p[e]&&d.NATIVE_KEYS.hasOwnProperty(e)){var t=k(p[e]);u.assets.push({key:e,value:t})}})),u}function P(e,t){var r=e.assets.map((function(e){return Object(a.getKeyByValue)(d.NATIVE_KEYS,e)}));return x(e,t,r)}function R(e,t){return x(e,t,null)}function k(e){return(null==e?void 0:e.url)||e}function D(e){if(S(e)){for(var t,r={},n=function(){var e=t.value;if(e.title){var n={required:!!e.required&&Boolean(e.required),len:e.title.len};r.title=n}else if(e.img){var i={required:!!e.required&&Boolean(e.required)};if(e.img.w&&e.img.h)i.sizes=[e.img.w,e.img.h];else if(e.img.wmin&&e.img.hmin){var a=function(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}(e.img.wmin,e.img.hmin);i.aspect_ratios=[{min_width:e.img.wmin,min_height:e.img.hmin,ratio_width:e.img.wmin/a,ratio_height:e.img.hmin/a}]}e.img.type===m.MAIN?r.image=i:r.icon=i}else if(e.data){var o=Object.keys(g).find((function(t){return g[t]===e.data.type})),s=Object.keys(v).find((function(e){return v[e]===o}));r[s]={required:!!e.required&&Boolean(e.required)},e.data.len&&(r[s].len=e.data.len)}},i=u(e.assets);!(t=i()).done;)n();return r}}function B(e){if(!e||!Object(a.isArray)(e))return e;if(!e.some((function(e){var t;return null==(t=((null==e?void 0:e.mediaTypes)||{})[c.c])?void 0:t.ortb})))return e;for(var t,r=Object(a.deepClone)(e),i=u(r);!(t=i()).done;){var o=t.value;o.mediaTypes&&o.mediaTypes[c.c]&&o.mediaTypes[c.c].ortb&&(o.mediaTypes[c.c]=Object(n.default)(Object(a.pick)(o.mediaTypes[c.c],h),D(o.mediaTypes[c.c].ortb)),o.nativeParams=E(o.mediaTypes[c.c]))}return r}function U(e){var t={link:{},eventtrackers:[]};return Object.entries(e).forEach((function(e){var r=e[0],n=e[1];switch(r){case"clickUrl":t.link.url=n;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(n)?n:[n];break;case"impressionTrackers":(Array.isArray(n)?n:[n]).forEach((function(e){t.eventtrackers.push({event:I,method:_.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(n)?n.join(""):n}})),t}function N(e,t){var r=Object(n.default)({},U(e),{assets:[]});function i(e,n){var i=t.assets.find(e);null!=i&&(n(i=Object(a.deepClone)(i)),r.assets.push(i))}return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(t){var r=k(e[t]);switch(t){case"title":i((function(e){return null!=e.title}),(function(e){e.title={text:r}}));break;case"image":case"icon":var n="image"===t?m.MAIN:m.ICON;i((function(e){return null!=e.img&&e.img.type===n}),(function(e){e.img={url:r}}));break;default:t in v&&i((function(e){return null!=e.data&&e.data.type===g[v[t]]}),(function(e){e.data={value:r}}))}})),r}function M(e,t){var r={},n=(null==t?void 0:t.assets)||[];r.clickUrl=e.link.url,r.privacyLink=e.privacy;for(var i,a=function(){var e=i.value,t=n.find((function(t){return e.id===t.id}));e.title?r.title=e.title.text:e.img?r[t.img.type===m.MAIN?"image":"icon"]={url:e.img.url,width:e.img.w,height:e.img.h}:e.data&&(r[O[j[t.data.type]]]=e.data.value)},o=u((null==e?void 0:e.assets)||[]);!(i=o()).done;)a();r.impressionTrackers=[];var s,d=[];null!=t&&t.imptrackers&&(s=r.impressionTrackers).push.apply(s,t.imptrackers);for(var c,l=u((null==e?void 0:e.eventtrackers)||[]);!(c=l()).done;){var p=c.value;p.event===I&&p.method===_.img&&r.impressionTrackers.push(p.url),p.event===I&&p.method===_.js&&d.push(p.url)}return d=d.map((function(e){return'<script async src="'+e+'"><\/script>'})),null!=e&&e.jstracker&&d.push(e.jstracker),d.length&&(r.javascriptTrackers=d.join("\n")),r}function q(e){var t={};for(var r in e)t[e[r]]=r;return t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(16),i=r(27),a=r(11),o=r(0),s=r(6),d=r(4),c=Object(i.a)("resolveScope");function u(e){return null==e?this.defaultScope:e}var l=new(function(){function e(e,t){Object.defineProperty(this,c,{value:u}),this.getSettings=e,this.defaultScope=t}var t=e.prototype;return t.get=function(e,t){var r=this.getOwn(e,t);return void 0===r&&(r=this.getOwn(null,t)),r},t.getOwn=function(e,t){return e=Object(n.a)(this,c)[c](e),Object(a.a)(this.getSettings(),e+"."+t)},t.getScopes=function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))},t.settingsFor=function(e){return Object(o.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(e))},t.ownSettingsFor=function(e){return e=Object(n.a)(this,c)[c](e),this.getSettings()[e]||{}},e}())((function(){return Object(s.a)().bidderSettings||{}}),d.JSON_MAPPING.BD_SETTING_STANDARD)},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c}));var n=r(3),i=r(0);function a(e,t){if(void 0===t&&(t=window),!e)return e;if(/\w+:\/\//.exec(e))return e;var r=t.location.protocol;try{r=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?r+e:r+"//"+e}function o(e,t){var r=void 0===t?{}:t,n=r.noLeadingWww,i=void 0!==n&&n,o=r.noPort,s=void 0!==o&&o;try{e=new URL(a(e))}catch(e){return}return e=s?e.hostname:e.host,i&&e.startsWith("www.")&&(e=e.substring(4)),e}function s(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}var d,c=function(e,t){return void 0===t&&(t=window),t.top!==t?e:function(){var a=s(t.document),o=t.location.href;return r===a&&o===n||(r=a,n=o,i=e()),i};var r,n,i}((d=window,function(){var e,t,r,c,u=[],l=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(d),p=n.b.getConfig("maxNestedIframes"),f=!1,b=0,g=!1,m=!1,v=!1;do{var h=e,y=m,O=void 0,j=!1,_=null;m=!1,e=e?e.parent:d;try{O=e.location.href||null}catch(e){j=!0}if(j)if(y){var I=h.context;try{t=_=I.sourceUrl,v=!0,g=!0,e===d.top&&(f=!0),I.canonicalUrl&&(r=I.canonicalUrl)}catch(e){}}else{Object(i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var E=h.document.referrer;E&&(_=E,e===d.top&&(f=!0))}catch(e){}!_&&l&&l[b-1]&&(_=l[b-1],e===d.top&&(v=!0)),_&&!g&&(t=_)}else{if(O&&(t=_=O,g=!1,e===d.top)){f=!0;var T=s(e.document);T&&(r=T)}e.context&&e.context.sourceUrl&&(m=!0)}u.push(_),b++}while(e!==d.top&&b<p);u.reverse();try{c=d.top.document.referrer}catch(e){}var S=f||v?t:null,w=n.b.getConfig("pageUrl")||r||null,A=n.b.getConfig("pageUrl")||S||a(w,d);return S&&S.indexOf("?")>-1&&-1===A.indexOf("?")&&(A=""+A+S.substring(S.indexOf("?"))),{reachedTop:f,isAmp:g,numIframes:b-1,stack:u,topmostLocation:t||null,location:S,canonicalUrl:w,page:A,domain:o(A)||null,ref:c||null,legacy:{reachedTop:f,isAmp:g,numIframes:b-1,stack:u,referer:t||null,canonicalUrl:w}}}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return u}));r(7);var n=r(11),i=r(0),a=r(3),o=(r(5),r(8)),s=r(10),d="outstream",c="instream";function u(e,t){var r=(void 0===t?{}:t).index,i=void 0===r?s.a.index:r,a=Object(n.a)(i.getMediaTypes(e),"video"),o=a&&Object(n.a)(a,"context"),d=a&&Object(n.a)(a,"useCacheKey"),c=i.getAdUnit(e);return l(e,c,a,o,d)}var l=Object(o.b)("sync",(function(e,t,r,n,o){return r&&(o||n!==d)?a.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(i.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with jwpb.setConfig({ cache: {url: "..."} });\n      '),!1):!(n===d&&!o)||!!(e.renderer||t&&t.renderer||r.renderer)}),"checkVideoBidSetup")},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0);function i(e,t){var r=void 0===t?{}:t,i=r.src,a=void 0===i?"client":i,o=r.bidder,s=void 0===o?"":o,d=r.bidId,c=r.transactionId,u=r.auctionId,l=a,p=e||0;this.bidderCode=s,this.width=0,this.height=0,this.statusMessage=function(){switch(p){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=Object(n.getUniqueIdentifierStr)(),this.requestId=d,this.transactionId=c,this.auctionId=u,this.mediaType="banner",this.source=l,this.getStatusCode=function(){return p},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function a(e,t){return new i(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=0;function i(e){return"__private_"+n+++"_"+e}},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}r.d(t,"e",(function(){return p})),r.d(t,"d",(function(){return O})),r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return _})),r.d(t,"a",(function(){return S}));var d=r(16),c=r(27),u=r(0),l=r(12),p=Object.freeze({}),f=Object(c.a)("enabled"),b=Object(c.a)("data"),g=Object(c.a)("defer"),m=Object(c.a)("ready"),v=Object(c.a)("resolve"),h=function(){function e(){Object.defineProperty(this,v,{value:y}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),this.generatedTime=void 0,this.reset()}var t,r,n,i=e.prototype;return i.reset=function(){Object(d.a)(this,g)[g]=Object(l.b)(),Object(d.a)(this,f)[f]=!1,Object(d.a)(this,b)[b]=null,Object(d.a)(this,m)[m]=!1,this.generatedTime=null},i.enable=function(){Object(d.a)(this,f)[f]=!0},i.setConsentData=function(e,t){void 0===t&&(t=Object(u.timestamp)()),this.generatedTime=t,Object(d.a)(this,v)[v](e)},i.getConsentData=function(){return Object(d.a)(this,b)[b]},t=e,(r=[{key:"enabled",get:function(){return Object(d.a)(this,f)[f]}},{key:"ready",get:function(){return Object(d.a)(this,m)[m]}},{key:"promise",get:function(){return Object(d.a)(this,m)[m]?l.a.resolve(Object(d.a)(this,b)[b]):(Object(d.a)(this,f)[f]||Object(d.a)(this,v)[v](null),Object(d.a)(this,g)[g].promise)}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){Object(d.a)(this,m)[m]=!0,Object(d.a)(this,b)[b]=e,Object(d.a)(this,g)[g].resolve(e)}var O=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.getConsentMeta=function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}},t}(h),j=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.getConsentMeta=function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:Object(u.isStr)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}},t}(h),_=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.getConsentMeta=function(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}},t}(h);var I,E,T,S=(I={},E={},T={},{register:function(e,t,r){r&&((I[t]=I[t]||{})[e]=r,E.hasOwnProperty(t)?E[t]!==r&&(E[t]=T):E[t]=r)},get:function(e){var t={modules:I[e]||{}};return E.hasOwnProperty(e)&&E[e]!==T&&(t.gvlid=E[e]),t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(11);function i(e){return null==e||!e.gdprApplies||!0===Object(n.a)(e,"vendorData.purpose.consents.1")}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r(2),i=r(3),a=r(0),o=s();function s(e,t){void 0===e&&(e=3e3);var r=void 0===t?{}:t,o=r.request,s=r.done;return function(t,r,d,c){void 0===c&&(c={});try{var u,l=c.method||(d?"POST":"GET"),p=document.createElement("a");p.href=t;var f="object"==typeof r&&null!==r?r:{success:function(){Object(a.logMessage)("xhr success")},error:function(e){Object(a.logError)("xhr error",null,e)}};if("function"==typeof r&&(f.success=r),(u=new window.XMLHttpRequest).onreadystatechange=function(){if(4===u.readyState){"function"==typeof s&&s(p.origin);var e=u.status;e>=200&&e<300||304===e?f.success(u.responseText,u):f.error(u.statusText,u)}},i.b.getConfig("disableAjaxTimeout")||(u.ontimeout=function(){Object(a.logError)("  xhr timeout after ",u.timeout,"ms")}),"GET"===l&&d){var b=Object(a.parseUrl)(t,c);Object(n.default)(b.search,d),t=Object(a.buildUrl)(b)}u.open(l,t,!0),i.b.getConfig("disableAjaxTimeout")||(u.timeout=e),c.withCredentials&&(u.withCredentials=!0),Object(a._each)(c.customHeaders,(function(e,t){u.setRequestHeader(t,e)})),c.preflight&&u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("Content-Type",c.contentType||"text/plain"),"function"==typeof o&&o(p.origin),"POST"===l&&d?u.send(d):u.send()}catch(e){Object(a.logError)("xhr construction",e),"object"==typeof r&&null!==r&&r.error(e)}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(5),i=r(0),a=new WeakMap,o=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan","airgrid","clean.io"];function s(e,t,r,s,d){if(t&&e){if(Object(n.c)(o,t)){s||(s=document);var c=p(s,e);if(c)return r&&"function"==typeof r&&(c.loaded?r():c.callbacks.push(r)),c.tag;var u=a.get(s)||{},l={loaded:!1,tag:null,callbacks:[]};return u[e]=l,a.set(s,u),r&&"function"==typeof r&&l.callbacks.push(r),Object(i.logWarn)("module "+t+" is loading external JavaScript"),function(t,r,n,a){n||(n=document);var o=n.createElement("script");o.type="text/javascript",o.async=!0;var s=p(n,e);s&&(s.tag=o);o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,r())}:o.onload=function(){r()};o.src=t,a&&Object(i.setScriptAttributes)(o,a);return Object(i.insertElement)(o,n),o}(e,(function(){l.loaded=!0;try{for(var e=0;e<l.callbacks.length;e++)l.callbacks[e]()}catch(e){Object(i.logError)("Error executing callback","adloader.js:loadExternalScript",e)}}),s,d)}Object(i.logError)(t+" not whitelisted for loading external JavaScript")}else Object(i.logError)("cannot load external script without url and moduleCode");function p(e,t){var r=a.get(e);return r&&r[t]?r[t]:null}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(11),i={};function a(e,t,r){var n=function(e,t){var r=i[e]=i[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return n[t]=(n[t]||0)+1,n[t]}var o={incrementRequestsCounter:function(e){return a(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return a(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return a(e,"winsCounter",t)},getRequestsCounter:function(e){return Object(n.a)(i,e+".requestsCounter")||0},getBidderRequestsCounter:function(e,t){return Object(n.a)(i,e+".bidders."+t+".requestsCounter")||0},getBidderWinsCounter:function(e,t){return Object(n.a)(i,e+".bidders."+t+".winsCounter")||0}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(2),i=r(0),a=r(3),o=r(5),s=r(20),d=r(21),c=r(17),u=r(19),l=r(14),p=r(34);a.b.setDefaults({userSync:Object(i.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var f=Object(s.c)("usersync");var b=function(e){var t={},r={image:[],iframe:[]},s=new Set,d={},f={image:!0,iframe:!1},b=e.config;function g(){if(b.syncEnabled&&e.browserSupportsCookies){try{!function(){if(!f.iframe)return;m(r.iframe,(function(e){var t=e[0],n=e[1];Object(i.logMessage)("Invoking iframe user sync for bidder: "+t),Object(i.insertUserSyncIframe)(n),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(r,t)}))}(),function(){if(!f.image)return;m(r.image,(function(e){var t=e[0],r=e[1];Object(i.logMessage)("Invoking image pixel user sync for bidder: "+t),Object(i.triggerPixel)(r)}))}()}catch(e){return Object(i.logError)("Error firing user syncs",e)}r={image:[],iframe:[]}}}function m(e,t){Object(i.shuffle)(e).forEach(t)}function v(e,t){var r=b.filterSettings;if(function(e,t){if(e.all&&e[t])return Object(i.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'+t+'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.'),!1;var r=e.all?e.all:e[t],n=e.all?"all":t;if(!r)return!1;var a=r.filter,o=r.bidders;if(a&&"include"!==a&&"exclude"!==a)return Object(i.logWarn)('UserSync "filterSettings.'+n+".filter\" setting '"+a+"' is not a valid option; use either 'include' or 'exclude'."),!1;if("*"!==o&&!(Array.isArray(o)&&o.length>0&&o.every((function(e){return Object(i.isStr)(e)&&"*"!==e}))))return Object(i.logWarn)('Detected an invalid setup in userSync "filterSettings.'+n+".bidders\"; use either '*' (to represent all bidders) or an array of bidders."),!1;return!0}(r,e)){f[e]=!0;var n=r.all?r.all:r[e],a="*"===n.bidders?[t]:n.bidders;return{include:function(e,t){return!Object(o.c)(e,t)},exclude:function(e,t){return Object(o.c)(e,t)}}[n.filter||"include"](a,t)}return!f[e]}return a.b.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Object(i.isPlainObject)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}b=Object(n.default)(b,e.userSync)})),e.regRule(c.e,"userSync config",(function(e){if(!b.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[u.e]===l.b){var r=e[u.h],n=e[u.d];if(!t.canBidderRegisterSync(r,n))return{allow:!1,reason:r+" syncs are not enabled for "+n}}})),t.registerSync=function(t,n,a){var o;return s.has(n)?Object(i.logMessage)('already fired syncs for "'+n+'", ignoring registerSync call'):b.syncEnabled&&Object(i.isArray)(r[t])?n?0!==b.syncsPerBidder&&Number(d[n])>=b.syncsPerBidder?Object(i.logWarn)('Number of user syncs exceeded for "'+n+'"'):void(e.isAllowed(c.e,Object(p.a)(l.b,n,(o={},o[u.h]=t,o[u.i]=a,o)))&&(r[t].push([n,a]),d=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(d,n))):Object(i.logWarn)("Bidder is required for registering sync"):Object(i.logWarn)('User sync type "'+t+'" not supported')},t.bidderDone=s.add.bind(s),t.syncUsers=function(e){if(void 0===e&&(e=0),e)return setTimeout(g,Number(e));g()},t.triggerUserSyncs=function(){b.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!b.filterSettings||!v(e,t)},t}(Object.defineProperties({config:a.b.getConfig("userSync"),isAllowed:d.a,regRule:d.b},{browserSupportsCookies:{get:function(){return!Object(i.isSafariBrowser)()&&f.cookiesAreEnabled()}}}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(7),i=r(19),a=Object(i.j)((function(e){return n.a.resolveAlias(e)}))},function(e,t){
/*
* @license MIT
* Fun Hooks v0.9.10
* (c) @snapwich
*/
s.SYNC=1,s.ASYNC=2,s.QUEUE=4;var r=Object.freeze({useProxy:!0,ready:0}),n=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,a=0;if(t)r=t;else{for(;a<i&&!(a in n);)a++;r=n[a++]}for(;a<i;)a in n&&(r=e(r,n[a],a,n)),a++;return r};function a(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return i.call(a(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function s(e){var t,d={},c=[];function u(e,t){return"function"==typeof e?b.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?b.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},a=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),a=n[0],o=n[1]||"sync";if(!i[a]){var s=e[a];i[a]=e[a]=b(o,s,r?[r,a]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function p(e){var r=Array.isArray(e)?e:e.split(".");return i.call(r,(function(n,i,a){var o=n[i],s=!1;return o||(a===r.length-1?(t||c.push((function(){s||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),n[i]=f((function(e){n[i]=e,s=!0}))):n[i]={})}),d)}function f(e){var t=[],r=[],i=function(){},a={before:function(e,r){return d.call(this,t,"before",e,r)},after:function(e,t){return d.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{o(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},s={install:function(n,a,o){this.type=n,i=o,o(t,r),e&&e(a)}};return n.set(a.after,s),a;function d(e,n,a,o){var s={hook:a,type:n,priority:o||10,remove:function(){var n=e.indexOf(s);-1!==n&&(e.splice(n,1),i(t,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),i(t,r),this}}function b(r,i,d){var u=i.after&&n.get(i.after);if(u){if(u.type!==r)throw"fun-hooks: recreated hookable with different type";return i}var l,b,g=d?p(d):f(),m={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return t||c.push(v),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?b=new Proxy(i,m):o(b=function(){return m.apply?m.apply(i,this,a(arguments)):i.apply(this,arguments)},g),n.get(b.after).install(r,b,(function(e,t){var n,i=[];e.length||t.length?(e.forEach(o),n=i.push(void 0)-1,t.forEach(o),l=function(e,t,o){var s,d=0,c="async"===r&&"function"==typeof o[o.length-1]&&o.pop();function u(e){"sync"===r?s=e:c&&c.apply(null,arguments)}function l(e){if(i[d]){var n=a(arguments);return l.bail=u,n.unshift(l),i[d++].apply(t,n)}"sync"===r?s=e:c&&c.apply(null,arguments)}return i[n]=function(){var n=a(arguments,1);"async"===r&&c&&(delete l.bail,n.push(l));var i=e.apply(t,n);"sync"===r&&l(i)},l.apply(null,o),s}):l=void 0;function o(e){i.push(e.hook)}v()})),b;function v(){!t&&("sync"!==r||e.ready&s.SYNC)&&("async"!==r||e.ready&s.ASYNC)?"sync"!==r&&e.ready&s.QUEUE?m.apply=function(){var e=arguments;c.push((function(){b.apply(e[1],e[2])}))}:m.apply=function(){throw"fun-hooks: hooked function not ready"}:m.apply=l}}return(e=o({},r,e)).ready?u.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(c)}:t=!0,u.get=p,u}e.exports=s},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f}));var n=r(5),i=r(0),a=r(3),o={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},d={buckets:[{max:20,increment:.01}]},c={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},u={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t,r){void 0===r&&(r=1);var n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":p(e,o,r),med:""===n?"":p(e,s,r),high:""===n?"":p(e,d,r),auto:""===n?"":p(e,u,r),dense:""===n?"":p(e,c,r),custom:""===n?"":p(e,t,r)}}function p(e,t,r){var o="";if(!f(t))return o;var s=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),d=0,c=Object(n.b)(t.buckets,(function(t){if(e>s.max*r){var n=t.precision;void 0===n&&(n=2),o=(t.max*r).toFixed(n)}else{if(e<=t.max*r&&e>=d*r)return t.min=d,t;d=t.max}}));return c&&(o=function(e,t,r){var n=void 0!==t.precision?t.precision:2,o=t.increment*r,s=t.min*r,d=Math.floor,c=a.b.getConfig("cpmRoundingFunction");"function"==typeof c&&(d=c);var u,l,p=Math.pow(10,n+2),f=(e*p-s*p)/(o*p);try{u=d(f)*o+s}catch(e){l=!0}(l||"number"!=typeof u)&&(Object(i.logWarn)("Invalid rounding function passed in config"),u=Math.floor(f)*o+s);return(u=Number(u.toFixed(10))).toFixed(n)}(e,c,r)),o}function f(e){if(Object(i.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},function(e,t,r){"use strict";function n(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,a=0,o=t.length,s=e;a<o&&"__proto__"!==(i=t[a++])&&"constructor"!==i&&"prototype"!==i;)s=s[i]=a===o?r:typeof(n=s[i])==typeof t?n:0*t[a]!=0||~(""+t[a]).indexOf(".")?{}:[]}r.d(t,"a",(function(){return n}))},function(e,t){e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];r[n]=i&&"object"==typeof i?e(i):i}return r}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return spec}));var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_src_utils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_src_utils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_src_adloader_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),_src_config_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),_src_polyfill_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(41),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_9__),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(20),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(24),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(29),_src_Renderer_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(15),_src_video_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(25),GVLID=91,ADAPTER_VERSION=36,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=Object(_src_storageManager_js__WEBPACK_IMPORTED_MODULE_10__.d)({bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=136,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",PUBLISHER_TAG_OUTSTREAM_SRC="https://static.criteo.net/js/ld/publishertag.renderer.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.b,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.d,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.c],getUserSyncs:function(e,t,r,n){if(canFastBid(_src_config_js__WEBPACK_IMPORTED_MODULE_6__.b.getConfig("criteo.fastBidVersion")))return[];var i=Object(_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_11__.a)(),a="criteoPrebidAdapter";if(e.iframeEnabled&&Object(_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_12__.a)(r)){var o=[];o.push("origin="+a),o.push("topUrl="+i.domain),r&&(r.gdprApplies&&o.push("gdpr="+(1==r.gdprApplies?1:0)),r.consentString&&o.push("gdpr_consent="+r.consentString)),n&&o.push("us_privacy="+n);var s=Math.random().toString(),d={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:a,requestId:s,tld:i.domain,topUrl:i.domain,version:"7.54.1".replace(/\./g,"_")};window.addEventListener("message",(function e(t){if(t.data&&"https://gum.criteo.com"==t.origin&&t.data.requestId===s){this.removeEventListener("message",e),t.stopImmediatePropagation();var r=t.data;r.optout?(deleteFromAllStorages(BUNDLE_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):r.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,r.bundle,GUID_RETENTION_TIME_HOUR)}}),!0);var c=JSON.stringify(d).replace(/"/g,"%22");return[{type:"iframe",url:"https://gum.criteo.com/syncframe?"+o.join("&")+"#"+c}]}return[]},isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId)&&!(hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var r,n,i,a,o=t.ortb2||{};Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)(t,{publisherExt:null==(r=o.site)?void 0:r.ext,userExt:null==(n=o.user)?void 0:n.ext,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_6__.b.getConfig("criteo.ceh"),coppa:_src_config_js__WEBPACK_IMPORTED_MODULE_6__.b.getConfig("coppa")});var s=_src_config_js__WEBPACK_IMPORTED_MODULE_6__.b.getConfig("criteo.fastBidVersion"),d=canFastBid(s);if(!publisherTagAvailable()&&d){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();var c=getFastBidUrl(s);setTimeout((function(){Object(_src_adloader_js__WEBPACK_IMPORTED_MODULE_4__.a)(c,BIDDER_CODE)}),t.timeout)}if(publisherTagAvailable()){var u=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"7.54.1",{createOutstreamVideoRenderer:createOutstreamVideoRenderer});i=u.buildCdbUrl(),a=u.buildCdbRequest()}else{var l=buildContext(e,t);i=buildCdbUrl(l),a=buildCdbRequest(l,e,t)}if(a)return{method:"POST",url:i,data:a,bidRequests:e}},interpretResponse:function(e,t){var r=e.body||e;if(publisherTagAvailable()){var n=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(n)return n.interpretResponse(r,t)}var i=[];return r&&r.slots&&Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.isArray)(r.slots)&&r.slots.forEach((function(n){var a,o,s,d,c,u,l=Object(_src_polyfill_js__WEBPACK_IMPORTED_MODULE_8__.b)(t.bidRequests,(function(e){return e.adUnitCode===n.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===n.zoneid)})),p=l.bidId,f={requestId:p,cpm:n.cpm,currency:n.currency,netRevenue:!0,ttl:n.ttl||60,creativeId:n.creativecode,width:n.width,height:n.height,dealId:n.deal};if(null!=(a=r.ext)&&null!=(o=a.paf)&&o.transmission&&null!=(s=n.ext)&&null!=(d=s.paf)&&d.content_id){var b={content_id:n.ext.paf.content_id,transmission:e.ext.paf.transmission};f.meta=Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({},f.meta,{paf:b})}if(n.adomain&&(f.meta=Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({},f.meta,{advertiserDomains:[n.adomain].flat()})),null!=(c=n.ext)&&null!=(u=c.meta)&&u.networkName&&(f.meta=Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({},f.meta,{networkName:n.ext.meta.networkName})),n.native)l.params.nativeCallback?f.ad=createNativeAd(p,n.native,l.params.nativeCallback):(f.native=createPrebidNativeAd(n.native),f.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.c);else if(n.video){f.vastUrl=n.displayurl,f.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.d,Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(l,"mediaTypes.video.context")===_src_video_js__WEBPACK_IMPORTED_MODULE_14__.b&&(f.renderer=createOutstreamVideoRenderer(n))}else f.ad=n.creative;i.push(f)})),i},onTimeout:function(e){if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach((function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))}},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function readFromAllStorages(e){var t=storage.getCookie(e),r=storage.getDataFromLocalStorage(e);return t||r||void 0}function saveOnAllStorages(e,t,r){var n=new Date;n.setTime(n.getTime()+60*r*60*1e3);var i="expires="+n.toUTCString();storage.setCookie(e,t,i),storage.setDataInLocalStorage(e,t)}function deleteFromAllStorages(e){storage.setCookie(e,"",0),storage.removeDataFromLocalStorage(e)}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var r,n="";t&&t.refererInfo&&(n=t.refererInfo.page);var i=Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.parseUrl)(null==t||null==(r=t.refererInfo)?void 0:r.topmostLocation).search,a={url:n,debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,amp:!1};return e.forEach((function(e){"amp"===e.params.integrationMode&&(a.amp=!0)})),a}function buildCdbUrl(e){var t=CDB_ENDPOINT;t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("7.54.1"),t+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");var r=readFromAllStorages(BUNDLE_COOKIE_NAME);return r&&(t+="&bundle="+r),readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1"),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,r){var n,i,a,o,s,d,c,u,l,p,f,b,g,m,v,h,y={publisher:{url:e.url,ext:r.publisherExt},regs:{coppa:!0===r.coppa?1:!1===r.coppa?0:void 0,gpp:null==(n=r.ortb2)||null==(i=n.regs)?void 0:i.gpp,gpp_sid:null==(a=r.ortb2)||null==(o=a.regs)?void 0:o.gpp_sid},slots:t.map((function(e){var t;m||(m=e.userIdAsEids),b=e.params.networkId||b,g=e.schain||g;var r={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(r.zoneid=e.params.zoneId),Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"ortb2Imp.ext")&&(r.ext=e.ortb2Imp.ext),Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"ortb2Imp.rwdd")&&(r.rwdd=e.ortb2Imp.rwdd),e.params.ext&&(r.ext=Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({},r.ext,e.params.ext)),null!=(t=e.nativeOrtbRequest)&&t.assets&&(r.ext=Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({},r.ext,{assets:e.nativeOrtbRequest.assets})),e.params.publisherSubId&&(r.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(r.native=!0,checkNativeSendId(e)||Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.logWarn)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?r.sizes=parseSizes(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"mediaTypes.banner.sizes"),parseSize):r.sizes=[],hasVideoMediaType(e)){var n={playersizes:parseSizes(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay,plcmt:e.mediaTypes.video.plcmt},i=e.params.video;void 0!==i&&(n.skip=n.skip||i.skip||0,n.placement=n.placement||i.placement,n.minduration=n.minduration||i.minduration,n.playbackmethod=n.playbackmethod||i.playbackmethod,n.startdelay=n.startdelay||i.startdelay||0),r.video=n}return enrichSlotWithFloors(r,e),r}))};(b&&(y.publisher.networkid=b),g&&(y.source={ext:{schain:g}}),y.user=(null==(s=r.ortb2)?void 0:s.user)||{},y.site=(null==(d=r.ortb2)?void 0:d.site)||{},r&&r.ceh&&(y.user.ceh=r.ceh),r&&r.gdprConsent&&(y.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(y.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),y.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(y.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(y.user.uspIab=r.uspConsent),r&&null!=(c=r.ortb2)&&null!=(u=c.device)&&u.sua)&&(y.user.ext=y.user.ext||{},y.user.ext.sua=(null==(v=r.ortb2)||null==(h=v.device)?void 0:h.sua)||{});return m&&(y.user.ext=y.user.ext||{},y.user.ext.eids=[].concat(m)),r&&null!=(l=r.ortb2)&&l.bcat&&(y.bcat=r.ortb2.bcat),r&&null!=(p=r.ortb2)&&p.badv&&(y.badv=r.ortb2.badv),r&&null!=(f=r.ortb2)&&f.bapp&&(y.bapp=r.ortb2.bapp),y}function parseSizes(e,t){return void 0===t&&(t=function(e){return e}),null==e?[]:Array.isArray(e[0])?e.map((function(e){return t(e)})):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"mediaTypes.native")}function hasValidVideoMediaType(e){var t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(r){void 0===Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"mediaTypes.video."+r)&&void 0===Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(e,"params.video."+r)&&(t=!1,Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.logError)("Criteo Bid Adapter: mediaTypes.video."+r+" is required"))})),t){var r=e.mediaTypes.video.placement||e.params.video.placement;if("instream"==e.mediaTypes.video.context&&1===r)return!0;if("outstream"==e.mediaTypes.video.context&&1!==r)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((function(e){return e.url}))}}function createNativeAd(e,t,r){var n="criteo_prebid_native_slots";return window[n]=window[n]||{},window[n][e]={callback:r,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'+n+';\n  if(!slots){continue;}\n  var responseSlot = slots["'+e+'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>'}function pickAvailableGetFloorFunc(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{var t=parseFloat(e.params.bidFloor);return function(){return{currency:e.params.bidFloorCur,floor:t}}}catch(e){}}function enrichSlotWithFloors(e,t){try{var r={},n=pickAvailableGetFloorFunc(t);if(n){var i,a,o;if(null!=(i=t.mediaTypes)&&i.banner)r.banner={},parseSizes(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(t,"mediaTypes.banner.sizes")).forEach((function(e){return r.banner[parseSize(e).toString()]=n.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.b})}));if(null!=(a=t.mediaTypes)&&a.video)r.video={},parseSizes(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.a)(t,"mediaTypes.video.playerSize")).forEach((function(e){return r.video[parseSize(e).toString()]=n.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.d})}));null!=(o=t.mediaTypes)&&o.native&&(r.native={},r.native["*"]=n.call(t,{size:"*",mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.c})),Object.keys(r).length>0&&(e.ext||(e.ext={}),Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)(e.ext,{floors:r}))}}catch(e){Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.logError)("Could not parse floors from Prebid: "+e)}}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){var t;if(e===FAST_BID_VERSION_LATEST)t="";else if(e){String(e).split(".")[0]<102&&Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.logWarn)("Specifying a Fastbid version which is not supporting version selection."),t="."+e}else t="."+FAST_BID_VERSION_CURRENT;return PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,t)}function createOutstreamVideoRenderer(e){if(void 0!==e.ext.videoPlayerConfig&&void 0!==e.ext.videoPlayerType){var t=_src_Renderer_js__WEBPACK_IMPORTED_MODULE_13__.a.install({url:PUBLISHER_TAG_OUTSTREAM_SRC,config:{documentResolver:function(e,t,r){return null!=r?r:t}}});return t.setRender((function(t,r){var n={slotid:e.impid,vastUrl:e.displayurl,vastXml:e.creative,documentContext:r},i=e.ext.videoPlayerConfig;window.CriteoOutStream[e.ext.videoPlayerType].play(n,i)})),t}}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.logWarn)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);Object(criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_9__.verify)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.logInfo)("Using Criteo FastBid"),eval(publisherTag)):(Object(_src_utils_js__WEBPACK_IMPORTED_MODULE_2__.logWarn)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}Object(_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_5__.e)(spec),Object(_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_1__.b)("criteoBidAdapter")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),i=r(43);t.verify=function(e,t,r,a){var o=new n.BigInteger(n.b64toHex(t)),s=new n.BigInteger(n.b64toHex(r)),d=o.modPowInt(a,s);return n.removeExtraSymbols(d.toHexString())===i.Sha256.hash(e)}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,r="",n=this.t,i=this.DB-n*this.DB%4;if(n-- >0)for(i<this.DB&&(e=this[n]>>i)>0&&(t=!0,r=l(e));n>=0;)i<4?(e=(this[n]&(1<<i)-1)<<4-i,e|=this[--n]>>(i+=this.DB-4)):(e=this[n]>>(i-=4)&15,i<=0&&(i+=this.DB,--n)),e>0&&(t=!0),t&&(r+=l(e));return t?r:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var r=t.length,n=!1,i=0;--r>=0;){var a=u(t,r);a<0?"-"==t.charAt(r)&&(n=!0):(n=!1,0==i?this[this.t++]=a:i+4>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=4)>=this.DB&&(i-=this.DB))}0,this.clamp(),n&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=a();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var r=a();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(e/this.DB),o=this.s<<r&this.DM,s=this.t-1;s>=0;--s)t[s+a+1]=this[s]>>n|o,o=(this[s]&i)<<r;for(s=a-1;s>=0;--s)t[s]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),i=t.abs(),a=n.t;for(r.t=a+i.t;--a>=0;)r[a]=0;for(a=0;a<i.t;++a)r[a+n.t]=n.am(0,i[a],r,a,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.divRemTo=function(t,r,n){var i=t.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=r&&r.fromHexString("0"),void(null!=n&&this.copyTo(n));null==n&&(n=a());var d=a(),c=this.s,u=t.s,l=this.DB-o(i[i.t-1]);l>0?(i.lShiftTo(l,d),s.lShiftTo(l,n)):(i.copyTo(d),s.copyTo(n));var p=d.t,f=d[p-1];if(0!=f){var b=f*(1<<this.F1)+(p>1?d[p-2]>>this.F2:0),g=this.FV/b,m=(1<<this.F1)/b,v=1<<this.F2,h=n.t,y=h-p,O=null==r?a():r;for(d.dlShiftTo(y,O),n.compareTo(O)>=0&&(n[n.t++]=1,n.subTo(O,n)),e.ONE.dlShiftTo(p,O),O.subTo(d,d);d.t<p;)d[d.t++]=0;for(;--y>=0;){var j=n[--h]==f?this.DM:Math.floor(n[h]*g+(n[h-1]+v)*m);if((n[h]+=d.am(0,j,n,y,0,p))<j)for(d.dlShiftTo(y,O),n.subTo(O,n);n[h]<--j;)n.subTo(O,n)}null!=r&&(n.drShiftTo(p,r),c!=u&&e.ZERO.subTo(r,r)),n.t=p,n.clamp(),l>0&&n.rShiftTo(l,n),c<0&&e.ZERO.subTo(n,n)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,a=(1<<n)-1;t[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&a)<<i,t[o-r]=this[o]>>n;n>0&&(t[this.t-r-1]|=(this.s&a)<<i),t.t=this.t-r,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new p(t):new f(t),this.exp(e,r)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var n=a(),i=a(),s=r.convert(this),d=o(t)-1;for(s.copyTo(n);--d>=0;)if(r.sqrTo(n,i),(t&1<<d)>0)r.mulTo(i,s,n);else{var c=n;n=i,i=c}return r.revert(n)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.am1=function(e,t,r,n,i,a){for(;--a>=0;){var o=t*this[e++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i},e.prototype.am2=function(e,t,r,n,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var d=32767&this[e],c=this[e++]>>15,u=s*d+c*o;i=((d=o*d+((32767&u)<<15)+r[n]+(1073741823&i))>>>30)+(u>>>15)+s*c+(i>>>30),r[n++]=1073741823&d}return i},e.prototype.am3=function(e,t,r,n,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var d=16383&this[e],c=this[e++]>>14,u=s*d+c*o;i=((d=o*d+((16383&u)<<14)+r[n]+i)>>28)+(u>>14)+s*c,r[n++]=268435455&d}return i},e}();function a(){return new i(null)}function o(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}t.BigInteger=i,t.nbi=a,t.nbits=o;var s,d,c=[];for(s="0".charCodeAt(0),d=0;d<=9;++d)c[s++]=d;for(s="a".charCodeAt(0),d=10;d<36;++d)c[s++]=d;for(s="A".charCodeAt(0),d=10;d<36;++d)c[s++]=d;function u(e,t){var r=c[e.charCodeAt(t)];return null==r?-1:r}t.intAt=u;function l(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.int2char=l;t.b64toHex=function(e){var t,r="",n=0,i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));a<0||(0==n?(r+=l(a>>2),i=3&a,n=1):1==n?(r+=l(i<<2|a>>4),i=15&a,n=2):2==n?(r+=l(i),r+=l(a>>2),i=3&a,n=3):(r+=l(i<<2|a>>4),r+=l(15&a),n=0))}return 1==n&&(r+=l(i<<2)),r},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var p=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),f=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(i.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function b(e){var t=a();return t.fromHexString(e.toString()),t}t.nbv=b,i.ZERO=b(0),i.ONE=b(1),"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=i.prototype.am2,n=30):"Netscape"!=navigator.appName?(i.prototype.am=i.prototype.am1,n=26):(i.prototype.am=i.prototype.am3,n=28),i.prototype.DB=n,i.prototype.DM=(1<<n)-1,i.prototype.DV=1<<n;i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-n,i.prototype.F2=2*n-52},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=(t+=String.fromCharCode(128)).length/4+2,a=Math.ceil(i/16),o=new Array(a),s=0;s<a;s++){o[s]=new Array(16);for(var d=0;d<16;d++)o[s][d]=t.charCodeAt(64*s+4*d)<<24|t.charCodeAt(64*s+4*d+1)<<16|t.charCodeAt(64*s+4*d+2)<<8|t.charCodeAt(64*s+4*d+3)<<0}var c=8*(t.length-1)/Math.pow(2,32),u=8*(t.length-1)>>>0;o[a-1][14]=Math.floor(c),o[a-1][15]=u;for(s=0;s<a;s++){for(var l=new Array(64),p=0;p<16;p++)l[p]=o[s][p];for(p=16;p<64;p++)l[p]=e.q1(l[p-2])+l[p-7]+e.q0(l[p-15])+l[p-16]>>>0;var f=n[0],b=n[1],g=n[2],m=n[3],v=n[4],h=n[5],y=n[6],O=n[7];for(p=0;p<64;p++){var j=O+e.z1(v)+e.Ch(v,h,y)+r[p]+l[p],_=e.z0(f)+e.Maj(f,b,g);O=y,y=h,h=v,v=m+j>>>0,m=g,g=b,b=f,f=j+_>>>0}n[0]=n[0]+f>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+m>>>0,n[4]=n[4]+v>>>0,n[5]=n[5]+h>>>0,n[6]=n[6]+y>>>0,n[7]=n[7]+O>>>0}var I=new Array(n.length);for(O=0;O<n.length;O++)I[O]=("00000000"+n[O].toString(16)).slice(-8);return I.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,r){return e&t^~e&r},e.Maj=function(e,t,r){return e&t^e&r^t&r},e}();t.Sha256=n},function(e,t,r){"use strict";r.r(t),r.d(t,"pluginClass",(function(){return ql}));var n={};r.r(n),r.d(n,"code",(function(){return ro})),r.d(n,"generate",(function(){return no})),r.d(n,"validate",(function(){return io}));var i={};r.r(i),r.d(i,"code",(function(){return Do})),r.d(i,"generate",(function(){return Bo})),r.d(i,"validate",(function(){return No}));var a={};r.r(a),r.d(a,"code",(function(){return Mo})),r.d(a,"generate",(function(){return qo})),r.d(a,"validate",(function(){return Wo}));var o={};r.r(o),r.d(o,"code",(function(){return zo})),r.d(o,"generate",(function(){return Lo})),r.d(o,"validate",(function(){return Fo}));var s={};r.r(s),r.d(s,"code",(function(){return Jo})),r.d(s,"generate",(function(){return Yo})),r.d(s,"validate",(function(){return Xo}));var d={};r.r(d),r.d(d,"spec",(function(){return vs})),r.d(d,"code",(function(){return hs})),r.d(d,"generate",(function(){return ys})),r.d(d,"validate",(function(){return Os}));var c={};r.r(c),r.d(c,"code",(function(){return js})),r.d(c,"generate",(function(){return _s})),r.d(c,"validate",(function(){return Is}));var u={};r.r(u),r.d(u,"code",(function(){return Sd})),r.d(u,"generate",(function(){return wd})),r.d(u,"validate",(function(){return Ad}));var l={};r.r(l),r.d(l,"code",(function(){return Cd})),r.d(l,"generate",(function(){return xd})),r.d(l,"validate",(function(){return Pd}));var p={};r.r(p),r.d(p,"code",(function(){return Hd})),r.d(p,"generate",(function(){return Jd})),r.d(p,"validate",(function(){return Yd}));var f={};r.r(f),r.d(f,"code",(function(){return vc})),r.d(f,"generate",(function(){return hc})),r.d(f,"validate",(function(){return yc}));var b={};r.r(b),r.d(b,"code",(function(){return Oc})),r.d(b,"generate",(function(){return jc})),r.d(b,"validate",(function(){return _c}));var g={};r.r(g),r.d(g,"code",(function(){return tu})),r.d(g,"generate",(function(){return ru})),r.d(g,"validate",(function(){return nu}));var m={};r.r(m),r.d(m,"code",(function(){return mu})),r.d(m,"generate",(function(){return vu})),r.d(m,"validate",(function(){return hu}));var v={};r.r(v),r.d(v,"code",(function(){return yu})),r.d(v,"generate",(function(){return Ou})),r.d(v,"validate",(function(){return ju}));var h={};r.r(h),r.d(h,"code",(function(){return _u})),r.d(h,"generate",(function(){return Iu})),r.d(h,"validate",(function(){return Eu}));var y={};r.r(y),r.d(y,"code",(function(){return Tu})),r.d(y,"generate",(function(){return Su})),r.d(y,"validate",(function(){return wu}));var O={};r.r(O),r.d(O,"code",(function(){return Ru})),r.d(O,"generate",(function(){return ku})),r.d(O,"validate",(function(){return Du}));var j={};r.r(j),r.d(j,"code",(function(){return qu})),r.d(j,"generate",(function(){return Wu})),r.d(j,"validate",(function(){return zu}));var _={};r.r(_),r.d(_,"code",(function(){return Zu})),r.d(_,"generate",(function(){return el})),r.d(_,"validate",(function(){return tl}));var I={};r.r(I),r.d(I,"code",(function(){return rl})),r.d(I,"generate",(function(){return nl})),r.d(I,"validate",(function(){return il}));var E={};r.r(E),r.d(E,"code",(function(){return al})),r.d(E,"generate",(function(){return ol})),r.d(E,"validate",(function(){return sl}));var T={};r.r(T),r.d(T,"code",(function(){return Tl})),r.d(T,"generate",(function(){return Sl})),r.d(T,"validate",(function(){return wl}));var S=r(2),w=r(6),A=r(0),C=r(11),x=r(38),P=r(9),R=r(22),k=r(4),D=r(10),B=r(5),U=r(15),N=r(3),M=k.EVENTS,q=M.AD_RENDER_FAILED,W=M.AD_RENDER_SUCCEEDED;function z(e){var t=e.reason,r=e.message,n=e.bid,i=e.id,a={reason:t,message:r};n&&(a.bid=n),i&&(a.adId=i),Object(A.logError)(r),P.emit(q,a)}function L(e){var t=e.doc,r=e.bid,n=e.id,i={doc:t};r&&(i.bid=r),n&&(i.adId=n),P.emit(W,i)}var F=k.EVENTS.BID_WON,V=k.EVENTS.STALE_RENDER,G=new WeakSet,K={"Prebid Request":function(e,t,r){if(null==r)return void z({reason:k.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad for cross-origin render request: '"+t.adId+"'",id:t.adId});if(r.status===k.BID_STATUS.RENDERED&&(Object(A.logWarn)("Ad id "+r.adId+" has been rendered before"),P.emit(V,r),Object(C.a)(N.b.getConfig("auctionOptions"),"suppressStaleRender")))return;try{!function(e,t){var r=e.adId,n=e.ad,i=e.adUrl,a=e.width,o=e.height,s=e.renderer,d=e.cpm,c=e.originalCpm;Object(U.c)(s)?Object(U.b)(s,e):r&&(J(e),t({message:"Prebid Response",ad:Object(A.replaceAuctionPrice)(n,c||d),adUrl:Object(A.replaceAuctionPrice)(i,c||d),adId:r,width:a,height:o}))}(r,e)}catch(e){return void z({reason:k.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:r})}D.a.addWinningBid(r),P.emit(F,r)},"Prebid Event":function(e,t,r){if(null==r)return void Object(A.logError)("Cannot find ad '"+t.adId+"' for x-origin event request");if(r.status!==k.BID_STATUS.RENDERED)return void Object(A.logWarn)("Received x-origin event request without corresponding render request for ad '"+t.adId+"'");switch(t.event){case k.EVENTS.AD_RENDER_FAILED:z({bid:r,id:t.adId,reason:t.info.reason,message:t.info.message});break;case k.EVENTS.AD_RENDER_SUCCEEDED:L({doc:null,bid:r,id:t.adId});break;default:Object(A.logError)("Received x-origin event request for unsupported event: '"+t.event+"' (adId: '"+t.adId+"')")}}};function H(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId&&r.message){var n=Object(B.b)(D.a.getBidsReceived(),(function(e){return e.adId===r.adId}));K.hasOwnProperty(r.message)&&K[r.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw Object(A.logError)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),r,n)}}function J(e){var t=e.adId,r=e.adUnitCode,n=e.width,i=e.height;["div","iframe"].forEach((function(e){var a=function(e){var n=function(e,t){return Object(A.isGptPubadsDefined)()?function(e){var t=Object(B.b)(window.googletag.pubads().getSlots(),(function(t){return Object(B.b)(t.getTargetingKeys(),(function(r){return Object(B.c)(t.getTargeting(r),e)}))}));return t?t.getSlotElementId():null}(e):Object(A.isApnGetTagDefined)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,r),i=document.getElementById(n);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(a){var o=a.style;o.width=n?n+"px":"100%",o.height=i+"px"}else Object(A.logWarn)("Unable to locate matching page element for adUnitCode "+r+".  Can't resize it to ad's dimensions.  Please review setup.")}))}Object(S.default)(K,{"Prebid Native":function(e,t,r){if(null==r)return void Object(A.logError)("Cannot find ad for x-origin event request: '"+t.adId+"'");G.has(r)||(G.add(r),D.a.addWinningBid(r),P.emit(F,r));switch(t.action){case"assetRequest":e(Object(R.f)(t,r));break;case"allAssetRequest":e(Object(R.e)(t,r));break;case"resizeNativeHeight":r.height=t.height,r.width=t.width,J(r);break;default:Object(R.d)(t,r)}}});var Y=r(33),X=r(1),Q=r(8),$=r(23),Z=[],ee=1;N.b.getConfig("ttlBuffer",(function(e){"number"==typeof e.ttlBuffer?ee=e.ttlBuffer:Object(A.logError)("Invalid value for ttlBuffer",e.ttlBuffer)}));var te=Object.keys(k.TARGETING_KEYS).map((function(e){return k.TARGETING_KEYS[e]})),re={isActualBid:function(e){return e.getStatusCode()===k.STATUS.GOOD},isBidNotExpired:function(e){return e.responseTimestamp+1e3*(e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:ee))>Object(A.timestamp)()},isUnusedBid:function(e){return e&&(e.status&&!Object(B.c)([k.BID_STATUS.RENDERED],e.status)||!e.status)}};function ne(e){return!Object.values(re).some((function(t){return!t(e)}))}var ie=Object(Q.b)("sync",(function(e,t,r,n){if(void 0===r&&(r=0),void 0===n&&(n=!1),!n){var i=[],a=N.b.getConfig("sendBidsControl.dealPrioritization"),o=Object(A.groupBy)(e,"adUnitCode");return Object.keys(o).forEach((function(e){var n=[],s=Object(A.groupBy)(o[e],"bidderCode");Object.keys(s).forEach((function(e){return n.push(s[e].reduce(t))})),r>0?(n=a?n.sort(ae(!0)):n.sort((function(e,t){return t.cpm-e.cpm})),i.push.apply(i,n.slice(0,r))):i.push.apply(i,n)})),i}return e}));function ae(e){return void 0===e&&(e=!1),function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var oe=function(e){var t={},r={};function n(e,t){return e.adserverTargeting&&t&&(Object(A.isArray)(t)&&Object(B.c)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function i(t){return"string"==typeof t?[t]:Object(A.isArray)(t)?t:e.getAdUnitCodes()||[]}function a(){var t=e.getBidsReceived();if(N.b.getConfig("useBidCache")){var n=N.b.getConfig("bidCacheFilterFunction");"function"==typeof n&&(t=t.filter((function(e){return r[e.adUnitCode]===e.auctionId||!!n(e)})))}else t=t.filter((function(e){return r[e.adUnitCode]===e.auctionId}));return t=t.filter((function(e){return Object(C.a)(e,"video.context")!==X.a})).filter(ne),ie(t,A.getOldestHighestCpmBid)}function o(e,r){var n=t.getWinningBids(e,r),i=s();return n=n.map((function(e){var t;return(t={})[e.adUnitCode]=Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,r){var n,i=[e.adserverTargeting[r]],a=((n={})[r.substring(0,20)]=i,n);if(r===k.TARGETING_KEYS.DEAL){var o,s=((o={})[(r+"_"+e.bidderCode).substring(0,20)]=i,o);return[].concat(t,[a,s])}return[].concat(t,[a])}),[]),t}))}function s(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(te).filter(A.uniques)}function d(e,t,r,n){return Object.keys(t.adserverTargeting).filter(c()).forEach((function(r){e.length&&e.filter(function(e){return function(r){return r.adUnitCode===t.adUnitCode&&r.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){Object(A.isArray)(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(A.uniques),delete t.adserverTargeting[e]}}(r))})),e.push(t),e}function c(){var e=s();return e=e.concat(R.a),function(t){return-1===e.indexOf(t)}}function u(e){var t;return(t={})[e.adUnitCode]=Object.keys(e.adserverTargeting).filter(c()).map((function(t){var r;return(r={})[t.substring(0,20)]=[e.adserverTargeting[t]],r})),t}function l(e,t){return t.map((function(t){var r;return(r={})[(t+"_"+e.bidderCode).substring(0,20)]=[e.adserverTargeting[t]],r}))}return t.setLatestAuctionForAdUnit=function(e,t){r[e]=t},t.resetPresetTargeting=function(t,r){if(Object(A.isGptPubadsDefined)()){var n=i(t),a=e.getAdUnits().filter((function(e){return Object(B.c)(n,e.code)})),o=Z.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=Object(A.isFn)(r)&&r(e);a.forEach((function(r){(r.code===e.getAdUnitPath()||r.code===e.getSlotElementId()||Object(A.isFn)(t)&&t(r.code))&&e.updateTargetingFromMap(o)}))}))}},t.resetPresetTargetingAST=function(e){i(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var r=Object.keys(t.keywords),n={};r.forEach((function(e){Object(B.c)(Z,e.toLowerCase())||(n[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:n})}}))},t.getAllTargeting=function(t,r){void 0===r&&(r=a());var s=i(t),c=o(s,r).concat(function(e,t){return t.filter((function(t){return Object(B.c)(e,t.adUnitCode)})).map((function(e){return Object(S.default)({},e)})).reduce(d,[]).map(u).filter((function(e){return e}))}(s,r)).concat(N.b.getConfig("enableSendAllBids")?function(e,t){var r=te.concat(R.a),i=N.b.getConfig("sendBidsControl.bidLimit"),a=ie(t,A.getHighestCpm,i),o=N.b.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),s=o?o.map((function(e){return k.TARGETING_KEYS[e]})):r;return a.map((function(t){var i;if(n(t,e))return(i={})[t.adUnitCode]=l(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==s.indexOf(e)}))),i})).filter((function(e){return e}))}(s,r):function(e,t){if(!0===N.b.getConfig("targetingControls.alwaysIncludeDeals")){var r=te.concat(R.a);return ie(t,A.getHighestCpm).map((function(t){var i;if(t.dealId&&n(t,e))return(i={})[t.adUnitCode]=l(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]}))),i})).filter((function(e){return e}))}return[]}(s,r)).concat(function(t){function r(e){return Object(C.a)(e,k.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return Object(B.c)(t,e.code)&&r(e)})).map((function(e){var t;return(t={})[e.code]=function(e){var t=r(e);return Object.keys(t).map((function(e){var r;return Object(A.isStr)(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),Object(A.isArray)(t[e])||(t[e]=[t[e]]),(r={})[e]=t[e],r}))}(e),t}))}(s));c.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===Z.indexOf(Object.keys(e)[0])&&(Z=Object.keys(e).concat(Z))}))}))}));var p=Object.keys(Object(S.default)({},k.DEFAULT_TARGETING_KEYS,k.NATIVE_KEYS)),f=N.b.getConfig("targetingControls.allowTargetingKeys"),b=N.b.getConfig("targetingControls.addTargetingKeys");if(null!=b&&null!=f)throw new Error('Only one of "targetingControls.allowTargetingKeys" or "targetingControls.addTargetingKeys" can be set');f=null!=b?p.concat(b):f||p,Array.isArray(f)&&f.length>0&&(c=function(e,t){var r=Object(S.default)({},k.TARGETING_KEYS,k.NATIVE_KEYS),n=Object.keys(r),i={};Object(A.logInfo)("allowTargetingKeys - allowed keys [ "+t.map((function(e){return r[e]})).join(", ")+" ]"),e.map((function(e){var a=Object.keys(e)[0],o=e[a].filter((function(e){var a=Object.keys(e)[0],o=0===n.filter((function(e){return 0===a.indexOf(r[e])})).length||Object(B.b)(t,(function(e){var t=r[e];return 0===a.indexOf(t)}));return i[a]=!o,o}));e[a]=o}));var a=Object.keys(i).filter((function(e){return i[e]}));return Object(A.logInfo)("allowTargetingKeys - removed keys [ "+a.join(", ")+" ]"),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}(c,f)),c=function(e){return e.map((function(e){var t;return(t={})[Object.keys(e)[0]]=e[Object.keys(e)[0]].map((function(e){var t;return(t={})[Object.keys(e)[0]]=e[Object.keys(e)[0]].join(","),t})).reduce((function(e,t){return Object(S.default)(t,e)}),{}),t})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=Object(S.default)({},e[r],t[r]),e}),{})}(c);var g=N.b.getConfig("targetingControls.auctionKeyMaxChars");return g&&(Object(A.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of "+g+" characters.  Running checks on auction keys..."),c=function(e,t){var r=Object(A.deepClone)(e);return Object.keys(r).map((function(e){return{adUnitCode:e,adserverTargeting:r[e]}})).sort(ae()).reduce((function(e,n,i,a){var o,s=(o=n.adserverTargeting,Object.keys(o).reduce((function(e,t){return e+(t+"%3d")+encodeURIComponent(o[t])+"%26"}),""));i+1===a.length&&(s=s.slice(0,-3));var d=n.adUnitCode,c=s.length;return c<=t?(t-=c,Object(A.logInfo)("AdUnit '"+d+"' auction keys comprised of "+c+" characters.  Deducted from running threshold; new limit is "+t,r[d]),e[d]=r[d]):Object(A.logWarn)("The following keys for adUnitCode '"+d+"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was "+c+", the current allotted amount was "+t+".\n",r[d]),i+1===a.length&&0===Object.keys(e).length&&Object(A.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(c,g)),s.forEach((function(e){c[e]||(c[e]={})})),c},N.b.getConfig("targetingControls",(function(e){null!=Object(C.a)(e,"targetingControls.allowTargetingKeys")&&null!=Object(C.a)(e,"targetingControls.addTargetingKeys")&&Object(A.logError)('Only one of "targetingControls.allowTargetingKeys" or "targetingControls.addTargetingKeys" can be set')})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(r){Object.keys(e).filter(t?t(r):Object(A.isAdUnitCodeMatchingSlot)(r)).forEach((function(t){Object.keys(e[t]).forEach((function(r){var n=e[t][r];"string"==typeof n&&-1!==n.indexOf(",")&&(n=n.split(",")),e[t][r]=n})),Object(A.logMessage)("Attempting to set targeting-map for slot: "+r.getSlotElementId()+" with targeting-map:",e[t]),r.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e,t){void 0===t&&(t=a());var r=i(e);return t.filter((function(e){return Object(B.c)(r,e.adUnitCode)})).filter((function(e){return!0===$.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(A.uniques).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(A.getHighestCpm)}))},t.setTargetingForAst=function(e){var r=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){Object(A.logError)("unable to reset targeting for AST"+e)}Object.keys(r).forEach((function(e){return Object.keys(r[e]).forEach((function(t){if(Object(A.logMessage)("Attempting to set targeting for targetId: "+e+" key: "+t+" value: "+r[e][t]),Object(A.isStr)(r[e][t])||Object(A.isArray)(r[e][t])){var n={};t.search(/pt[0-9]/)<0?n[t.toUpperCase()]=r[e][t]:n[t]=r[e][t],window.apntag.setKeywords(e,n,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&Object(A.isFn)(window.apntag.setKeywords))return!0},t}(D.a),se=r(26),de=r(31),ce=r(12);function ue(){return Object(w.a)().installedModules.includes("debugging")}function le(e){return new ce.a((function(t){Object(de.a)(e,"debugging",t)}))}var pe=function(e){var t,r,n,i,a,o,s,d=void 0===e?{}:e,c=d.load,u=void 0===c?(n=(r=void 0===t?{}:t).alreadyInstalled,i=void 0===n?ue:n,a=r.script,o=void 0===a?le:a,s=null,function(){return null==s&&(s=new ce.a((function(e,t){setTimeout((function(){if(i())e();else{var r="https://cdn.jsdelivr.net/npm/prebid.js@7.54.1/dist/debugging-standalone.js";Object(A.logMessage)('Debugging module not installed, loading it from "'+r+'"...'),Object(w.a)()._installDebugging=!0,o(r).then((function(){Object(w.a)()._installDebugging({DEBUG_KEY:"__jwpb_debugging__",hook:Q.b,config:N.b,createBid:se.a,logger:Object(A.prefixLog)("DEBUG:")})})).then(e,t)}}))}))),s}):c,l=d.hook,p=void 0===l?Object(Q.a)("requestBids"):l,f=null,b=!1;function g(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(f||ce.a.resolve()).then((function(){return e.apply(t,n)}))}function m(){p.getHooks({hook:g}).remove(),b=!1}return{enable:function(){b||(f=u(),p.before(g,99),b=!0)},disable:m,reset:function(){f=null,m()}}}();pe.reset;N.b.getConfig("debugging",(function(e){var t=e.debugging;null!=t&&t.enabled?pe.enable():pe.disable()}));var fe=r(32),be=r(20),ge=r(7),me=r(18),ve=r(24),he=Object(be.c)("fpdEnrichment"),ye=Object(A.memoize)((function(e){if(void 0===e&&(e=window.location.host),!he.cookiesAreEnabled())return e;var t,r,n=e.split(".");if(2===n.length)return e;var i=-2,a="_rdc"+Date.now();do{t=n.slice(i).join(".");var o=new Date(Object(A.timestamp)()+1e4).toUTCString();he.setCookie(a,"writeable",o,"Lax",t,void 0),"writeable"===he.getCookie(a,void 0)?(r=!1,he.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(i+=-1,r=Math.abs(i)<=n.length)}while(r);return t})),Oe=["architecture","bitness","model","platformVersion","fullVersionList"],je=function(e){var t;void 0===e&&(e=null==(t=window.navigator)?void 0:t.userAgentData);var r=Object(A.isEmpty)(e)?null:Object.freeze(Ie(1,e));return function(){return r}}(),_e=function(e){var t;void 0===e&&(e=null==(t=window.navigator)?void 0:t.userAgentData);var r={},n=new WeakMap;return function(t){if(void 0===t&&(t=Oe),!n.has(t)){var i=Array.from(t);i.sort(),n.set(t,i.join("|"))}var a=n.get(t);if(!r.hasOwnProperty(a))try{r[a]=e.getHighEntropyValues(t).then((function(e){return Object(A.isEmpty)(e)?null:Object.freeze(Ie(2,e))})).catch((function(){return null}))}catch(e){r[a]=ce.a.resolve(null)}return r[a]}}();function Ie(e,t){function r(e,t){var r={brand:e};return Object(A.isStr)(t)&&!Object(A.isEmptyStr)(t)&&(r.version=t.split(".")),r}var n={source:e};return t.platform&&(n.platform=r(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(n.browsers=(t.fullVersionList||t.brands).map((function(e){return r(e.brand,e.version)}))),t.hasOwnProperty("mobile")&&(n.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((function(e){var r=t[e];Object(A.isStr)(r)&&(n[e]=r)})),n}var Ee=["dooh","app","site"];function Te(e){return function(t){return Ee.reduce((function(r,n){return Se(t,n)&&(null!=r?(Object(A.logWarn)(e+" specifies both '"+r+"' and '"+n+"'; dropping the latter."),delete t[n]):r=n),r}),null),t}}function Se(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}function we(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ce={getRefererInfo:ve.a,findRootDomain:ye,getWindowTop:A.getWindowTop,getWindowSelf:A.getWindowSelf,getHighEntropySUA:_e,getLowEntropySUA:je},xe=Te("FPD"),Pe=Object(Q.b)("sync",(function(e){return ce.a.all([e,(t=N.b.getConfig("firstPartyData.uaHints"),Array.isArray(t)&&0!==t.length?Ce.getHighEntropySUA(t):ce.a.resolve(Ce.getLowEntropySUA())).catch((function(){return null}))]).then((function(e){var t=e[0],r=e[1],n=Ce.getRefererInfo();!function(e){["app","site","device"].forEach((function(t){var r=N.b.getConfig(t);null!=r&&(e[t]=Object(A.mergeDeep)({},r,e[t]))}))}(t),Object.entries(De).forEach((function(e){var r=e[0],i=(0,e[1])(t,n);i&&Object.keys(i).length>0&&(t[r]=Object(A.mergeDeep)({},i,t[r]))})),r&&Object(x.a)(t,"device.sua",Object(S.default)({},r,t.device.sua)),t=xe(t);for(var i,a=we(Ee);!(i=a()).done;){var o=i.value;if(Se(t,o)){t[o]=Object(A.mergeDeep)({},Be(t,n),t[o]);break}}return t}));var t}));function Re(e){try{return e(Ce.getWindowTop())}catch(t){return e(Ce.getWindowSelf())}}function ke(e){return Object(A.getDefinedParams)(e,Object.keys(e))}var De={site:function(e,t){if(!Ee.filter((function(e){return"site"!==e})).some(Se.bind(null,e)))return ke({page:t.page,ref:t.ref})},device:function(){return Re((function(e){return{w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:Object(A.getDNT)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}}))},regs:function(){var e={};Re((function(e){return e.navigator.globalPrivacyControl}))&&Object(x.a)(e,"ext.gpc",1);var t=N.b.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function Be(e,t){var r,n,i=Object(ve.b)(t.page,{noLeadingWww:!0});return ke({domain:i,keywords:null==(r=Re((function(e){return e.document.querySelector("meta[name='keywords']")})))||null==(n=r.content)||null==n.replace?void 0:n.replace(/\s/g,""),publisher:ke({domain:Ce.findRootDomain(i)})})}var Ue=Object(w.a)(),Ne=Y.a.triggerUserSyncs,Me=k.EVENTS,qe=Me.ADD_AD_UNITS,We=Me.BID_WON,ze=Me.REQUEST_BIDS,Le=Me.SET_TARGETING,Fe=Me.STALE_RENDER,Ve=k.AD_RENDER_FAILED_REASON,Ge=Ve.PREVENT_WRITING_ON_MAIN_DOCUMENT,Ke=Ve.NO_AD,He=Ve.EXCEPTION,Je=Ve.CANNOT_FIND_AD,Ye=Ve.MISSING_DOC_OR_ADID,Xe={bidWon:function(e){var t=D.a.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(A.flatten).filter(A.uniques);if(!Object(A.contains)(t,e))return void Object(A.logError)('The "'+e+'" placement is not defined.');return!0}};function Qe(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function $e(e,t){var r=[];return Object(A.isArray)(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return Object(A.isArrayOfNums)(e,2)}))?r=e:Object(A.isArrayOfNums)(e,2)&&r.push(e)),r}function Ze(e){var t=Object(A.deepClone)(e),r=t.mediaTypes.banner,n=$e(r.sizes);return n.length>0?(r.sizes=n,t.sizes=n):(Object(A.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function et(e){var t=Object(A.deepClone)(e),r=t.mediaTypes.video;if(r.playerSize){var n="number"==typeof r.playerSize[0]?2:1,i=$e(r.playerSize,n);i.length>0?(2===n&&Object(A.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=i,t.sizes=i):(Object(A.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function tt(e){var t=Object(A.deepClone)(e),r=t.mediaTypes.native;if(r.ortb){var n=Object.keys(k.NATIVE_KEYS).filter((function(e){return k.NATIVE_KEYS[e].includes("hb_native_")})),i=Object.keys(r).filter((function(e){return n.includes(e)}));i.length>0&&(Object(A.logError)("when using native OpenRTB format, you cannot use legacy native properties. Deleting "+i+" keys from request."),i.forEach((function(e){return delete t.mediaTypes.native[e]})))}return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&(Object(A.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&(Object(A.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&(Object(A.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function rt(e,t){var r=Object(C.a)(e,"mediaTypes."+t+".pos");if(!Object(A.isNumber)(r)||isNaN(r)||!isFinite(r)){var n="Value of property 'pos' on ad unit "+e.code+" should be of type: Number";Object(A.logWarn)(n),P.emit(k.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:n}),delete e.mediaTypes[t].pos}return e}function nt(e){var t=function(t){return"adUnit.code '"+e.code+"' "+t},r=e.mediaTypes,n=e.bids;return null==n||Object(A.isArray)(n)?null==n&&null==e.ortb2Imp?(Object(A.logError)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):r&&0!==Object.keys(r).length?(null==e.ortb2Imp||null!=n&&0!==n.length||(e.bids=[{bidder:null}],Object(A.logMessage)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):(Object(A.logError)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):(Object(A.logError)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var t=pe,r=null;try{r=e.getItem("__jwpb_debugging__")}catch(e){}null!==r&&t.enable()}}(),Ue.bidderSettings=Ue.bidderSettings||{},Ue.libLoaded=!0,Ue.version="v7.54.1",Object(A.logInfo)("Prebid.js v7.54.1 loaded"),Ue.installedModules=Ue.installedModules||[],Ue.adUnits=Ue.adUnits||[],Ue.triggerUserSyncs=Ne;var it={validateAdUnit:nt,validateBannerMediaType:Ze,validateSizes:$e};Object(S.default)(it,{validateNativeMediaType:tt}),Object(S.default)(it,{validateVideoMediaType:et});var at,ot=Object(Q.b)("sync",(function(e){var t=[];return e.forEach((function(e){if(null!=(e=nt(e))){var r,n,i,a=e.mediaTypes;a.banner&&(r=Ze(e),a.banner.hasOwnProperty("pos")&&(r=rt(r,"banner"))),a.video&&(n=et(r||e),a.video.hasOwnProperty("pos")&&(n=rt(n,"video"))),a.native&&(i=tt(n||(r||e)));var o=Object(S.default)({},r,n,i);t.push(o)}})),t}),"checkAdUnitSetup");function st(e){var t=D.a[e]().filter(A.bind.call(A.adUnitsFilter,this,D.a.getAdUnitCodes())),r=D.a.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(A.uniques).map((function(e){return t.filter((function(t){return t.auctionId===r&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){var t;return(t={})[e[0].adUnitCode]={bids:e},t})).reduce((function(e,t){return Object(S.default)(e,t)}),{})}function dt(e,t,r){var n=t.querySelector(r);e.parentNode&&e.parentNode===n||Object(A.insertElement)(e,t,r)}Ue.getAdserverTargetingForAdUnitCodeStr=function(e){if(Object(A.logInfo)("Invoking jwpb.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Ue.getAdserverTargetingForAdUnitCode(e);return Object(A.transformAdServerTargetingObj)(t)}Object(A.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Ue.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=D.a.getAllBidsForAdUnitCode(e).filter(ne);return t.length?t.reduce(A.getHighestCpm):{}}Object(A.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Ue.getAdserverTargetingForAdUnitCode=function(e){return Ue.getAdserverTargeting(e)[e]},Ue.getAdserverTargeting=function(e){return Object(A.logInfo)("Invoking jwpb.getAdserverTargeting",arguments),oe.getAllTargeting(e)},Ue.getConsentMetadata=function(){return Object(A.logInfo)("Invoking jwpb.getConsentMetadata"),{gdpr:ge.b.getConsentMeta(),usp:ge.e.getConsentMeta(),gpp:ge.d.getConsentMeta(),coppa:!!N.b.getConfig("coppa")}},Ue.getNoBids=function(){return Object(A.logInfo)("Invoking jwpb.getNoBids",arguments),st("getNoBids")},Ue.getNoBidsForAdUnitCode=function(e){return{bids:D.a.getNoBids().filter((function(t){return t.adUnitCode===e}))}},Ue.getBidResponses=function(){return Object(A.logInfo)("Invoking jwpb.getBidResponses",arguments),st("getBidsReceived")},Ue.getBidResponsesForAdUnitCode=function(e){return{bids:D.a.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},Ue.setTargetingForGPTAsync=function(e,t){if(Object(A.logInfo)("Invoking jwpb.setTargetingForGPTAsync",arguments),Object(A.isGptPubadsDefined)()){var r=oe.getAllTargeting(e);oe.resetPresetTargeting(e,t),oe.setTargetingForGPT(r,t),Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){"hb_adid"===t&&D.a.setStatusForBids(r[e][t],k.BID_STATUS.BID_TARGETING_SET)}))})),P.emit(Le,r)}else Object(A.logError)("window.googletag is not defined on the page")},Ue.setTargetingForAst=function(e){Object(A.logInfo)("Invoking jwpb.setTargetingForAn",arguments),oe.isApntagDefined()?(oe.setTargetingForAst(e),P.emit(Le,oe.getAllTargeting())):Object(A.logError)("window.apntag is not defined on the page")},Ue.renderAd=Object(Q.b)("async",(function(e,t,r){if(Object(A.logInfo)("Invoking jwpb.renderAd",arguments),Object(A.logMessage)("Calling renderAd with adId :"+t),t)try{var n=D.a.findBidByAdId(t);if(!n){var i="Error trying to write ad. Cannot find ad by given id : "+t;return void z({reason:Je,message:i,id:t})}if(n.status===k.BID_STATUS.RENDERED&&(Object(A.logWarn)("Ad id "+n.adId+" has been rendered before"),P.emit(Fe,n),Object(C.a)(N.b.getConfig("auctionOptions"),"suppressStaleRender")))return;if(n.ad=Object(A.replaceAuctionPrice)(n.ad,n.originalCpm||n.cpm),n.adUrl=Object(A.replaceAuctionPrice)(n.adUrl,n.originalCpm||n.cpm),r&&r.clickThrough){var a=r.clickThrough;n.ad=Object(A.replaceClickThrough)(n.ad,a),n.adUrl=Object(A.replaceClickThrough)(n.adUrl,a)}D.a.addWinningBid(n),P.emit(We,n);var o=n.height,s=n.width,d=n.ad,c=n.mediaType,u=n.adUrl,l=n.renderer,p=n.adUnitCode,f=Ue.adUnits.filter((function(e){return e.code===p})),b=Ue.videoModule;if(f.video&&b)return void b.renderBid(f.video.divId,n);if(!e){var g="Error trying to write ad Id :"+t+" to the page. Missing document";return void z({reason:Ye,message:g,id:t})}var m=document.createComment("Creative "+n.creativeId+" served by "+n.bidder+" Prebid.js Header Bidding");if(Object(A.insertElement)(m,e,"html"),Object(U.c)(l))Object(U.b)(l,n,e),dt(m,e,"html"),L({doc:e,bid:n,id:t});else if(e===document&&!Object(A.inIframe)()||"video"===c){var v="Error trying to write ad. Ad render call ad id "+t+" was prevented from writing to the main document.";z({reason:Ge,message:v,bid:n,id:t})}else if(d)e.write(d),e.close(),Qe(e,s,o),dt(m,e,"html"),Object(A.callBurl)(n),L({doc:e,bid:n,id:t});else if(u){var h=Object(A.createInvisibleIframe)();h.height=o,h.width=s,h.style.display="inline",h.style.overflow="hidden",h.src=u,Object(A.insertElement)(h,e,"body"),Qe(e,s,o),dt(m,e,"html"),Object(A.callBurl)(n),L({doc:e,bid:n,id:t})}else{var y="Error trying to write ad. No ad for bid response id: "+t;z({reason:Ke,message:y,bid:n,id:t})}}catch(e){var O="Error trying to write ad Id :"+t+" to the page:"+e.message;z({reason:He,message:O,id:t})}else{var j="Error trying to write ad Id :"+t+" to the page. Missing adId";z({reason:Ye,message:j,id:t})}})),Ue.removeAdUnit=function(e){(Object(A.logInfo)("Invoking jwpb.removeAdUnit",arguments),e)?(Object(A.isArray)(e)?e:[e]).forEach((function(e){for(var t=Ue.adUnits.length-1;t>=0;t--)Ue.adUnits[t].code===e&&Ue.adUnits.splice(t,1)})):Ue.adUnits=[]},Ue.requestBids=(at=Object(Q.b)("async",(function(e){var t=void 0===e?{}:e,r=t.bidsBackHandler,n=t.timeout,i=t.adUnits,a=t.adUnitCodes,o=t.labels,s=t.auctionId,d=t.ttlBuffer,c=t.ortb2,u=t.metrics,l=t.defer;P.emit(ze);var p=n||N.b.getConfig("bidderTimeout");Object(A.logInfo)("Invoking jwpb.requestBids",arguments),a&&a.length?i=i.filter((function(e){return Object(B.c)(a,e.code)})):a=i&&i.map((function(e){return e.code}));var f={global:Object(A.mergeDeep)({},N.b.getAnyConfig("ortb2")||{},c||{}),bidder:Object.fromEntries(Object.entries(N.b.getBidderConfig()).map((function(e){return[e[0],e[1].ortb2]})).filter((function(e){return e[0],null!=e[1]})))};return Pe(ce.a.resolve(f.global)).then((function(e){return f.global=e,ct({bidsBackHandler:r,timeout:p,adUnits:i,adUnitCodes:a,labels:o,auctionId:s,ttlBuffer:d,ortb2Fragments:f,metrics:u,defer:l})}))}),"requestBids"),Object(Q.f)(at,(function(e){void 0===e&&(e={});var t=e.adUnits||Ue.adUnits;return e.adUnits=Object(A.isArray)(t)?t.slice():[t],e.metrics=Object(me.a)(),e.metrics.checkpoint("requestBids"),e.defer=Object(ce.b)({promiseFactory:function(e){return new Promise(e)}}),at.call(this,e),e.defer.promise})));var ct=Object(Q.b)("async",(function(e){var t=void 0===e?{}:e,r=t.bidsBackHandler,n=t.timeout,i=t.adUnits,a=t.ttlBuffer,o=t.adUnitCodes,s=t.labels,d=t.auctionId,c=t.ortb2Fragments,u=t.metrics,l=t.defer,p=Object(ge.c)(N.b.getConfig("s2sConfig")||[]);function f(e,t,n){if("function"==typeof r)try{r(e,t,n)}catch(e){Object(A.logError)("Error executing bidsBackHandler",null,e)}l.resolve({bids:e,timedOut:t,auctionId:n})}if((i=Object(me.c)(u).measureTime("requestBids.validate",(function(){return ot(i)}))).forEach((function(e){var t,r,n=Object.keys(e.mediaTypes||{banner:"banner"}),i=e.bids.map((function(e){return e.bidder})),o=ge.a.bidderRegistry,s=i.filter((function(e){return!p.has(e)})),d=(null==(t=e.ortb2Imp)||null==(r=t.ext)?void 0:r.tid)||Object(A.generateUUID)();e.transactionId=d,null==a||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=a),Object(x.a)(e,"ortb2Imp.ext.tid",d),s.forEach((function(t){var r=o[t],i=r&&r.getSpec&&r.getSpec(),a=i&&i.supportedMediaTypes||["banner"];n.some((function(e){return Object(B.c)(a,e)}))?fe.a.incrementBidderRequestsCounter(e.code,t):(Object(A.logWarn)(Object(A.unsupportedBidderMessage)(e,t)),e.bids=e.bids.filter((function(e){return e.bidder!==t})))})),fe.a.incrementRequestsCounter(e.code)})),i&&0!==i.length){var b=D.a.createAuction({adUnits:i,adUnitCodes:o,callback:f,cbTimeout:n,labels:s,auctionId:d,ortb2Fragments:c,metrics:u}),g=i.length;g>15&&Object(A.logInfo)("Current auction "+b.getAuctionId()+" contains "+g+" adUnits.",i),o.forEach((function(e){return oe.setLatestAuctionForAdUnit(e,b.getAuctionId())})),b.callBids()}else Object(A.logMessage)("No adUnits configured. No bids requested."),f()}),"startAuction");Ue.requestBids.before((function(e,t){function r(e){for(var t;t=e.shift();)t()}r(be.e),r(ut),e.call(this,t)}),49),Ue.addAdUnits=function(e){Object(A.logInfo)("Invoking jwpb.addAdUnits",arguments),Ue.adUnits.push.apply(Ue.adUnits,Object(A.isArray)(e)?e:[e]),P.emit(qe)},Ue.onEvent=function(e,t,r){Object(A.logInfo)("Invoking jwpb.onEvent",arguments),Object(A.isFn)(t)?!r||Xe[e].call(null,r)?P.on(e,t,r):Object(A.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):Object(A.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},Ue.offEvent=function(e,t,r){Object(A.logInfo)("Invoking jwpb.offEvent",arguments),r&&!Xe[e].call(null,r)||P.off(e,t,r)},Ue.getEvents=function(){return Object(A.logInfo)("Invoking jwpb.getEvents"),P.getEvents()},Ue.registerBidAdapter=function(e,t){Object(A.logInfo)("Invoking jwpb.registerBidAdapter",arguments);try{ge.a.registerBidAdapter(e(),t)}catch(e){Object(A.logError)("Error registering bidder adapter : "+e.message)}},Ue.registerAnalyticsAdapter=function(e){Object(A.logInfo)("Invoking jwpb.registerAnalyticsAdapter",arguments);try{ge.a.registerAnalyticsAdapter(e)}catch(e){Object(A.logError)("Error registering analytics adapter : "+e.message)}},Ue.createBid=function(e){return Object(A.logInfo)("Invoking jwpb.createBid",arguments),Object(se.a)(e)};var ut=[],lt=Object(Q.b)("async",(function(e){e&&!Object(A.isEmpty)(e)?(Object(A.logInfo)("Invoking jwpb.enableAnalytics for: ",e),ge.a.enableAnalytics(e)):Object(A.logError)("jwpb.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");Ue.enableAnalytics=function(e){ut.push(lt.bind(this,e))},Ue.aliasBidder=function(e,t,r){Object(A.logInfo)("Invoking jwpb.aliasBidder",arguments),e&&t?ge.a.aliasBidAdapter(e,t,r):Object(A.logError)("bidderCode and alias must be passed as arguments","jwpb.aliasBidder")},Ue.aliasRegistry=ge.a.aliasRegistry,N.b.getConfig("aliasRegistry",(function(e){"private"===e.aliasRegistry&&delete Ue.aliasRegistry})),Ue.getAllWinningBids=function(){return D.a.getAllWinningBids()},Ue.getAllPrebidWinningBids=function(){return D.a.getBidsReceived().filter((function(e){return e.status===k.BID_STATUS.BID_TARGETING_SET}))},Ue.getHighestCpmBids=function(e){return oe.getWinningBids(e)},Ue.markWinningBidAsUsed=function(e){var t=pt(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");t.length>0&&D.a.addWinningBid(t[0])};var pt=function(e,t){var r=[];return e.adUnitCode&&e.adId?r=D.a.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?r=oe.getWinningBids(e.adUnitCode):e.adId?r=D.a.getBidsReceived().filter((function(t){return t.adId===e.adId})):Object(A.logWarn)(t),r};function ft(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Object(A.logError)("Error processing command :","prebid.js",e)}}))}Ue.getConfig=N.b.getAnyConfig,Ue.readConfig=N.b.readAnyConfig,Ue.mergeConfig=N.b.mergeConfig,Ue.mergeBidderConfig=N.b.mergeBidderConfig,Ue.setConfig=N.b.setConfig,Ue.setBidderConfig=N.b.setBidderConfig,Ue.que.push((function(){window.addEventListener("message",H,!1)})),Ue.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Object(A.logError)("Error processing command :",e.message,e.stack)}else Object(A.logError)("Commands written into jwpb.cmd.push must be wrapped in a function")},Ue.que.push=Ue.cmd.push,Ue.processQueue=function(){Q.b.ready(),ft(Ue.que),ft(Ue.cmd)},Ue.triggerBilling=function(e){var t=pt(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),r=t.find((function(t){return t.requestId===e.requestId}))||t[0];if(t.length>0&&r)try{ge.a.callBidBillableBidder(r)}catch(e){Object(A.logError)("Error when triggering billing :",e)}else Object(A.logWarn)("The bid provided to triggerBilling did not match any bids received.")};var bt=Ue,gt=["request","imp","bidResponse","response"],mt=["default","pbs"],vt=gt[0],ht=gt[1],yt=gt[2],Ot=gt[3],jt=mt[0],_t=mt[1],It=new Set(gt);var Et,Tt,St,wt,At,Ct,xt,Pt=(Et={},{registerOrtbProcessor:function(e){var t=e.type,r=e.name,n=e.fn,i=e.priority,a=void 0===i?0:i,o=e.dialects,s=void 0===o?[jt]:o;if(!It.has(t))throw new Error("ORTB processor type must be one of: "+gt.join(", "));s.forEach((function(e){Et.hasOwnProperty(e)||(Et[e]={}),Et[e].hasOwnProperty(t)||(Et[e][t]={}),Et[e][t][r]={priority:a,fn:n}}))},getProcessors:function(e){return Et[e]||{}}}),Rt=Pt.registerOrtbProcessor,kt=Pt.getProcessors,Dt=!1,Bt={iab:function(e){var t=e.onSuccess,r=e.onError,n=e.onEvent;function i(e,i){Object(A.logInfo)("Received a response from CMP",e),i?(n(e),!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||Mt(e,{onSuccess:t,onError:r})):r("CMP unable to register callback function.  Please check CMP setup.")}var a={},o=function(){for(var e,t,r=window;;){try{if("function"==typeof r.__tcfapi){t=r.__tcfapi,e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}(),s=o.cmpFrame,d=o.cmpFunction;if(!s)return r("TCF2 CMP not found.");"function"==typeof d?(Object(A.logInfo)("Detected CMP API is directly accessible, calling it now..."),d("addEventListener",2,i)):(Object(A.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,r){window.__tcfapi=function(e,r,n,i){var o,s=Math.random()+"",d=((o={}).__tcfapiCall={command:e,version:r,parameter:i,callId:s},o);a[s]=n,t.postMessage(d,"*")},window.addEventListener("message",(function(e){var t="string"==typeof e.data&&Object(B.c)(e.data,"__tcfapiReturn")?JSON.parse(e.data):e.data;if(t.__tcfapiReturn&&t.__tcfapiReturn.callId){var r=t.__tcfapiReturn;a.hasOwnProperty(r.callId)&&a[r.callId](r.returnValue,r.success)}}),!1),window.__tcfapi(e,2,r)}("addEventListener",s,i))},static:function(e){var t=e.onSuccess,r=e.onError;Mt(At,{onSuccess:t,onError:r})}};function Ut(e){var t,r,n=!1,i=null,a=!1;function o(e){null!=i&&clearTimeout(i),n||null==e||(0===e?t():i=setTimeout(t,e))}function s(t,r,i){if(o(null),n=!0,ge.b.setConsentData(t),"function"==typeof e){for(var a=arguments.length,s=new Array(a>3?a-3:0),d=3;d<a;d++)s[d-3]=arguments[d];e.apply(void 0,[r,i].concat(s))}}if(Object(B.c)(Object.keys(Bt),Tt)){var d={onSuccess:function(e){return s(e,!1)},onError:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];s.apply(void 0,[null,!0,e].concat(r))},onEvent:function(e){r=e,a||(a=!0,null!=Ct&&o(Ct))}};t=function(){var e=function(e){s(e,!1,(a?"Timeout waiting for user action on CMP":"CMP did not load")+", continuing auction...")};Mt(r,{onSuccess:e,onError:function(){return e(qt(void 0))}})},Bt[Tt](d),null!=Ct&&a||o(St)}else s(null,!1,"CMP framework ("+Tt+") is not a supported framework.  Aborting consentManagement module and resuming auction.")}var Nt=Object(me.b)("gdpr",(function(e,t){var r;r=function(r,n){if(n){var i=A.logWarn;r&&(i=A.logError,n+=" Canceling auction as per consentManagement config.");for(var a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];i.apply(void 0,[n].concat(o))}r?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():Object(A.logError)("Error executing bidsBackHandler")):e.call(this,t)},xt?(Object(A.logInfo)("User consent information already known.  Pulling internally stored information..."),r(!1)):Ut(r)}));function Mt(e,t){var r,n,i=t.onSuccess,a=t.onError;r=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:wt,n=e&&e.tcString,"boolean"==typeof r&&(!0!==r||n&&Object(A.isStr)(n))?i(qt(e)):a("CMP returned unexpected value during lookup process.",e)}function qt(e){return xt={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:wt},e&&e.addtlConsent&&Object(A.isStr)(e.addtlConsent)&&(xt.addtlConsent=e.addtlConsent),xt.apiVersion=2,xt}N.b.getConfig("consentManagement",(function(e){return function(e){if((e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))&&"object"==typeof e){var t;if(Object(A.isStr)(e.cmpApi)?Tt=e.cmpApi:(Tt="iab",Object(A.logInfo)("consentManagement config did not specify cmp.  Using system default setting (iab).")),Object(A.isNumber)(e.timeout)?St=e.timeout:(St=1e4,Object(A.logInfo)("consentManagement config did not specify timeout.  Using system default setting (10000).")),Ct=Object(A.isNumber)(e.actionTimeout)?e.actionTimeout:null,wt=!0===e.defaultGdprScope,Object(A.logInfo)("consentManagement module has been activated..."),"static"===Tt)if(Object(A.isPlainObject)(e.consentData))null!=(null==(t=At=e.consentData)?void 0:t.getTCData)&&(At=At.getTCData),St=0;else Object(A.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.");Dt||Object(w.a)().requestBids.before(Nt,50),Dt=!0,ge.b.enable(),Ut()}else Object(A.logWarn)("consentManagement (gdpr) config not defined, exiting consent manager")}(e.consentManagement)})),Pe.before((function(e,t){return e(t.then((function(e){var t=ge.b.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&Object(x.a)(e,"regs.ext.gdpr",t.gdprApplies?1:0),Object(x.a)(e,"user.ext.consent",t.consentString)),e})))})),Rt({type:vt,name:"gdprAddtlConsent",fn:function(e,t){var r,n=null==(r=t.gdprConsent)?void 0:r.addtlConsent;n&&"string"==typeof n&&Object(x.a)(e,"user.ext.ConsentedProvidersSettings.consented_providers",n)}}),Object(w.b)("consentManagement");var Wt,zt,Lt="iab",Ft=50,Vt=!1,Gt={iab:function(e){var t=e.onSuccess,r=e.onError;var n=(d={},{consentDataCallback:function(e,n){n&&e.uspString&&(d.usPrivacy=e.uspString),d.usPrivacy?Jt(d,{onSuccess:t,onError:r}):r("Unable to get USP consent string.")}}),i={},a=function(){for(var e,t,r=window;;){try{if("function"==typeof r.__uspapi){t=r.__uspapi,e=r;break}}catch(e){}try{if(r.frames.__uspapiLocator){e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{uspapiFrame:e,uspapiFunction:t}}(),o=a.uspapiFrame,s=a.uspapiFunction;var d;if(!o)return r("USP CMP not found.");function c(e,t){try{e("registerDeletion",t,ge.a.callDataDeletionRequest)}catch(e){Object(A.logError)("Error invoking CMP `registerDeletion`:",e)}}Object(A.isFn)(s)?(Object(A.logInfo)("Detected USP CMP is directly accessible, calling it now..."),s("getUSPData",1,n.consentDataCallback),c(s,1)):(Object(A.logInfo)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),l("getUSPData",o,n.consentDataCallback),c(l,o));var u=!1;function l(e,t,r){var n,a,o,s,d;u||(window.addEventListener("message",(function(e){var t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&i.hasOwnProperty(t.callId)&&(i[t.callId](t.returnValue,t.success),delete i[t.callId])}),!1),u=!0),n=e,a=1,o=r,s=Math.random()+"",d={__uspapiCall:{command:n,version:a,callId:s}},i[s]=o,t.postMessage(d,"*")}},static:function(e){var t=e.onSuccess,r=e.onError;Jt(Wt,{onSuccess:t,onError:r})}};function Kt(e){var t=null,r=!1;function n(n,i){if(null!=t&&clearTimeout(t),r=!0,ge.e.setConsentData(n),null!=e){for(var a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];e.apply(void 0,[i].concat(o))}}if(Gt[Lt]){var i={onSuccess:n,onError:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.apply(void 0,[null,e+" Resuming auction without consent data as per consentManagement config."].concat(r))}};Gt[Lt](i),r||(0===Ft?Jt(void 0,i):t=setTimeout(i.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),Ft))}else n(null,"USP framework ("+Lt+") is not a supported framework. Aborting consentManagement module and resuming auction.")}var Ht=Object(me.b)("usp",(function(e,t){var r=this;Vt||Yt(),Kt((function(n){if(null!=n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];A.logWarn.apply(void 0,[n].concat(a))}e.call(r,t)}))}));function Jt(e,t){var r=t.onSuccess,n=t.onError;!e||!e.usPrivacy?n("USPAPI returned unexpected value during lookup process.",e):(!function(e){e&&e.usPrivacy&&(zt=e.usPrivacy)}(e),r(zt))}function Yt(e){void 0===e&&(e=!1),Vt||(Object(A.logInfo)("USPAPI consentManagement module has been activated"+(e?"":" using default values (api: '"+Lt+"', timeout: "+Ft+"ms)")),Vt=!0,ge.e.enable()),Kt()}N.b.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.usp)&&"object"==typeof e||Object(A.logWarn)("consentManagement.usp config not defined, using defaults"),e&&Object(A.isStr)(e.cmpApi)?Lt=e.cmpApi:(Lt="iab",Object(A.logInfo)("consentManagement.usp config did not specify cmpApi. Using system default setting (iab).")),e&&Object(A.isNumber)(e.timeout)?Ft=e.timeout:(Ft=50,Object(A.logInfo)("consentManagement.usp config did not specify timeout. Using system default setting (50).")),"static"===Lt&&(Object(A.isPlainObject)(e.consentData)&&Object(A.isPlainObject)(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(Wt={usPrivacy:e.consentData.getUSPData.uspString}),Ft=0):Object(A.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),Yt(!0)}(e.consentManagement)})),Object(Q.a)("requestBids").before(Ht,50),Pe.before((function(e,t){return e(t.then((function(e){var t=ge.e.getConsentData();return t&&Object(x.a)(e,"regs.ext.us_privacy",t),e})))})),Object(w.b)("consentManagementUsp");var Xt,Qt,$t,Zt,er=!1,tr={iab:function(e){var t=e.onSuccess,r=e.onError,n={},i=!1;var a=function(){for(var e,t=window,r=!1;;){try{if("function"==typeof t.__gpp){e=t,r=!0;break}}catch(e){}try{if(t.frames.__gppLocator){e=t;break}}catch(e){}if(t===window.top)break;t=t.parent}return{cmpFrame:e,cmpDirectAccess:r}}(),o=a.cmpFrame,s=a.cmpDirectAccess;if(!o)return r("GPP CMP not found.");var d=s?function(e,t){var r=e.command,n=e.callback,i=e.parameter,a=e.version,s=void 0===a?1:a;"function"==typeof t?t(o.__gpp(r,n,i,s)):o.__gpp(r,n,i,s)}:function(e,t){var r,a=e.command,s=e.callback,d=e.parameter,c=e.version,u=void 0===c?1:c;i||(window.addEventListener("message",(function(e){var t="string"==typeof e.data&&e.data.includes("__gppReturn")?JSON.parse(e.data):e.data;if(t.__gppReturn&&t.__gppReturn.callId){var r=t.__gppReturn;n.hasOwnProperty(r.callId)&&n[r.callId](r.returnValue)}}),!1),i=!0);var l=Math.random().toString(),p=((r={}).__gppCall={command:a,parameter:d,version:u,callId:l},r);n[l]="function"==typeof s?s:t,o.postMessage(p,"*")};var c=s?"Detected GPP CMP API is directly accessible, calling it now...":"Detected GPP CMP is outside the current iframe where Prebid.js is located, calling it now...";Object(A.logInfo)(c),d({command:"addEventListener",callback:function(e){e&&(Object(A.logInfo)("Received a "+(s?"direct":"postmsg")+" response from GPP CMP for event",e),"sectionChange"===e.eventName||"loaded"===e.pingData.cmpStatus?d({command:"getGPPData"},(function(e){Object(A.logInfo)("Received a "+(s?"direct":"postmsg")+" response from GPP CMP for getGPPData",e),or(e,{onSuccess:t,onError:r})})):"error"===e.pingData.cmpStatus&&r("CMP returned with a cmpStatus:error response.  Please check CMP setup."))}})},static:function(e){var t=e.onSuccess,r=e.onError;or($t,{onSuccess:t,onError:r})}};function rr(e){return e&&Array.isArray(e.applicableSection)&&e.applicableSection.length>0&&0!==e.applicableSection[0]}function nr(e){return e&&Array.isArray(e.applicableSections)&&e.applicableSections.length>0&&0!==e.applicableSections[0]}function ir(e){var t=!1,r=null;function n(n,i,a){if(null!=r&&clearTimeout(r),t=!0,ge.d.setConsentData(n),"function"==typeof e){for(var o=arguments.length,s=new Array(o>3?o-3:0),d=3;d<o;d++)s[d-3]=arguments[d];e.apply(void 0,[i,a].concat(s))}}if(Object(B.c)(Object.keys(tr),Xt)){var i={onSuccess:function(e){return n(e,!1)},onError:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.apply(void 0,[null,!0,e].concat(r))}};if(tr[Xt](i),!t){var a=function(){var e=function(e){n(e,!1,"GPP CMP did not load, continuing auction...")};or(Zt,{onSuccess:e,onError:function(){return e(sr(void 0))}})};0===Qt?a():r=setTimeout(a,Qt)}}else n(null,!1,"GPP CMP framework ("+Xt+") is not a supported framework.  Aborting consentManagement module and resuming auction.")}var ar=Object(me.b)("gpp",(function(e,t){var r;r=function(r,n){if(n){var i=A.logWarn;r&&(i=A.logError,n+=" Canceling auction as per consentManagement config.");for(var a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];i.apply(void 0,[n].concat(o))}r?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():Object(A.logError)("Error executing bidsBackHandler")):e.call(this,t)},Zt?(Object(A.logInfo)("User consent information already known.  Pulling internally stored information..."),r(!1)):ir(r)}));function or(e,t){var r,n,i=t.onSuccess,a=t.onError;r=e&&e.gppString,n=nr(e)?e.applicableSections:rr(e)?e.applicableSection:[],Array.isArray(n)&&(!Array.isArray(n)||r&&Object(A.isStr)(r))?i(sr(e)):a("CMP returned unexpected value during lookup process.",e)}function sr(e){return(Zt={gppString:e?e.gppString:void 0,fullGppData:e||void 0}).applicableSections=nr(e)?e.applicableSections:rr(e)?e.applicableSection:[],Zt.apiVersion=1,Zt}N.b.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.gpp)&&"object"==typeof e?(Object(A.isStr)(e.cmpApi)?Xt=e.cmpApi:(Xt="iab",Object(A.logInfo)("consentManagement.gpp config did not specify cmp.  Using system default setting (iab).")),Object(A.isNumber)(e.timeout)?Qt=e.timeout:(Qt=1e4,Object(A.logInfo)("consentManagement.gpp config did not specify timeout.  Using system default setting (10000).")),"static"===Xt&&(Object(A.isPlainObject)(e.consentData)?($t=e.consentData,Qt=0):Object(A.logError)("consentManagement.gpp config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),Object(A.logInfo)("consentManagement.gpp module has been activated..."),er||Object(w.a)().requestBids.before(ar,50),er=!0,ge.d.enable(),ir()):Object(A.logWarn)("consentManagement.gpp config not defined, exiting consent manager module")}(e.consentManagement)})),Pe.before((function(e,t){return e(t.then((function(e){var t=ge.d.getConsentData();return t&&(Array.isArray(t.applicableSections)&&Object(x.a)(e,"regs.gpp_sid",t.applicableSections),Object(x.a)(e,"regs.gpp",t.gppString)),e})))})),Object(w.b)("consentManagementGpp");var dr=r(37),cr=r(13),ur={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}},lr=r(30),pr=r(29),fr=new WeakMap;function br(e,t){if(void 0===t&&(t={}),!fr.has(e)){var r=Object.entries(e);r.sort((function(e,t){return(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1})),fr.set(e,r.map((function(e){return[e[0],e[1].fn]})))}var n=fr.get(e).filter((function(e){var r=e[0];return!t.hasOwnProperty(r)||t[r]})).map((function(e){var r=e[0],n=e[1];return t.hasOwnProperty(r)?t[r].bind(this,n):n}));return function(){var e=this,t=Array.from(arguments);n.forEach((function(r){r.apply(e,t)}))}}function gr(e){return(e=Object(A.parseSizesInput)(e)).map((function(e){var t=e.split("x"),r=t[0],n=t[1];return{w:parseInt(r,10),h:parseInt(n,10)}}))}var mr=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),vr={instream:1};var hr,yr={1:X.b,2:X.d,4:X.c};var Or,jr,_r,Ir=((hr={})[vt]={fpd:{priority:99,fn:function(e,t){Object(A.mergeDeep)(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:Te("ORTB request")},props:{fn:function(e,t){var r;Object(S.default)(e,{id:e.id||t.auctionId,test:e.test||0});var n=parseInt(t.timeout,10);isNaN(n)||(e.tmax=n),Object(x.a)(e,"source.tid",(null==(r=e.source)?void 0:r.tid)||t.auctionId)}}},hr[ht]={fpd:{priority:99,fn:function(e,t){Object(A.mergeDeep)(e,t.ortb2Imp)}},id:{fn:function(e,t){e.id=t.bidId}},banner:{fn:function(e,t,r){if(!r.mediaType||r.mediaType===X.b){var n=Object(C.a)(t,"mediaTypes.banner");if(n){var i={topframe:!0===Object(A.inIframe)()?0:1};n.sizes&&(i.format=gr(n.sizes)),n.hasOwnProperty("pos")&&(i.pos=n.pos),e.banner=Object(A.mergeDeep)(i,e.banner)}}}},pbadslot:{fn:function(e){var t,r,n,i,a=null==(t=e.ext)||null==(r=t.data)?void 0:r.pbadslot;a&&"string"==typeof a||(null==(n=e.ext)||(null==(i=n.data)||delete i.pbadslot))}}},hr[yt]={mediaType:{priority:99,fn:function(e,t,r){if(!e.mediaType){var n=r.mediaType;if(!n&&!yr.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=n||yr[t.mtype]}}},banner:{fn:(jr=(void 0===Or?{}:Or).createPixel,_r=void 0===jr?function(e){return Object(A.createTrackPixelHtml)(decodeURIComponent(e))}:jr,function(e,t){e.mediaType===X.b&&(t.adm&&t.nurl?(e.ad=t.adm,e.ad+=_r(t.nurl)):t.adm?e.ad=t.adm:t.nurl&&(e.adUrl=t.nurl))})},props:{fn:function(e,t,r){var n;Object.entries({requestId:null==(n=r.bidRequest)?void 0:n.bidId,seatBidId:t.id,cpm:t.price,currency:r.ortbResponse.cur||r.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||r.ttl,netRevenue:r.netRevenue}).filter((function(e){e[0];return void 0!==e[1]})).forEach((function(t){var r=t[0],n=t[1];return e[r]=n})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain)}}},hr);function Er(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.shift(),i=t.length>1?Er.apply(void 0,t):t[0];return Object.fromEntries(gt.map((function(e){return[e,Object(S.default)({},n[e],i[e])]})))}function Tr(e){var t=void 0===e?{}:e,r=t.context,n=void 0===r?{}:r,i=t.processors,a=void 0===i?Ar:i,o=t.overrides,s=void 0===o?{}:o,d=t.imp,c=t.request,u=t.bidResponse,l=t.response,p=new WeakMap;function f(e,t,r,n){var i;return function(){return null==i&&(i=function(){var i=r.bind(this,br(a()[e]||{},s[e]||{}));return t&&(i=t.bind(this,i)),function(){try{return i.apply(this,arguments)}catch(e){n.call.apply(n,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),i.apply(this,arguments)}}var b=f(ht,d,(function(e,t,r){var n={};return e(n,t,r),n}),(function(e,t,r){Object(A.logError)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:r})})),g=f(vt,c,(function(e,t,r,n){var i={imp:t};return e(i,r,n),i}),(function(e,t,r,n){throw Object(A.logError)("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:r,context:n}),e})),m=f(yt,u,(function(e,t,r){var n={};return e(n,t,r),n}),(function(e,t,r){Object(A.logError)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:r})})),v=f(Ot,l,(function(e,t,r,n){var i={bids:t};return e(i,r,n),i}),(function(e,t,r,n){throw Object(A.logError)("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:r,context:n}),e}));return{toORTB:function(e){var t=e.bidderRequest,r=e.bidRequests,i=e.context,a=void 0===i?{}:i;r=r||t.bids;var o={req:Object(S.default)({bidRequests:r},n,a),imp:{}};o.req.impContext=o.imp;var s=r.map((function(e){var r=Object(S.default)({bidderRequest:t,reqContext:o.req},n,a),i=b(e,r);if(null!=i){if(i.hasOwnProperty("id"))return Object(S.default)(r,{bidRequest:e,imp:i}),o.imp[i.id]=r,i;Object(A.logError)("Converted ORTB imp does not specify an id, ignoring bid request",e,i)}})).filter(Boolean),d=g(s,t,o.req);return o.req.bidderRequest=t,null!=d&&p.set(d,o),d},fromORTB:function(e){var t=e.request,r=e.response,n=p.get(t);if(null==n)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function i(e,r){return void 0===r&&(r={}),Object(S.default)(e,{ortbRequest:t},r,e)}var a=Object.fromEntries((t.imp||[]).map((function(e){return[e.id,e]}))),o=(r.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(t){if(a.hasOwnProperty(t.impid)&&n.imp.hasOwnProperty(t.impid))return m(t,i(n.imp[t.impid],{imp:a[t.impid],seatbid:e,ortbResponse:r}));Object(A.logError)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)}))})).filter(Boolean);return v(o,r,i(n.req))}}}Ir[ht].native={fn:function(e,t,r){if(!r.mediaType||r.mediaType===X.c){var n,i=t.nativeOrtbRequest;if(i)null!=(n=(i=Object(S.default)({},r.nativeRequest,i)).assets)&&n.length?e.native=Object(A.mergeDeep)({},{request:JSON.stringify(i),ver:i.ver},e.native):Object(A.logWarn)("mediaTypes.native is set, but no assets were specified. Native request skipped.",t)}}},Ir[yt].native={fn:function(e,t){if(e.mediaType===X.c){var r;if(r="string"==typeof t.adm?JSON.parse(t.adm):t.adm,!Object(A.isPlainObject)(r)||!Array.isArray(r.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:r}}}},Ir[ht].video={fn:function(e,t,r){if(!r.mediaType||r.mediaType===X.d){var n=Object(C.a)(t,"mediaTypes.video");if(!Object(A.isEmpty)(n)){var i=Object.fromEntries(Object.entries(n).filter((function(e){var t=e[0];return mr.has(t)})));if(n.playerSize){var a=gr(n.playerSize);a.length>1&&Object(A.logWarn)("video request specifies more than one playerSize; all but the first will be ignored"),Object(S.default)(i,a[0])}var o=vr[n.context];null!=o&&(i.placement=o),e.video=Object(A.mergeDeep)(i,e.video)}}}},Ir[yt].video={fn:function(e,t,r){if(e.mediaType===X.d){if(Object(C.a)(r.imp,"video.w")&&Object(C.a)(r.imp,"video.h")){var n=[r.imp.video.w,r.imp.video.h];e.playerWidth=n[0],e.playerHeight=n[1]}t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl)}}};var Sr,wr,Ar=Object(A.memoize)((function(){return Er(Ir,kt(jt))})),Cr=((Sr={})[X.b]="banner",Sr[X.c]="native",Sr[X.d]="video",Sr);function xr(e,t,r,n){var i=void 0===n?{}:n,a=i.adUnit,o=i.bidderRequests,s=i.index,d=void 0===s?D.a.index:s,c=i.bidderRegistry,u=void 0===c?ge.a.bidderRegistry:c,l=t.params,p=u[t.bidder];p&&p.getSpec().transformBidParams&&(a=a||d.getAdUnit(t),o=o||[r.bidderRequest],l=p.getSpec().transformBidParams(l,!0,a,o)),l&&Object(x.a)(e,"ext.prebid.bidder."+t.bidder,l)}var Pr,Rr=((wr={})[vt]={extPrebid:{fn:function(e,t){var r;Object(x.a)(e,"ext.prebid",Object(A.mergeDeep)({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null==(r=e.ext)?void 0:r.prebid)),N.b.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var t,r;Object(x.a)(e,"ext.prebid.channel",Object(S.default)({name:"pbjs",version:Object(w.a)().version},null==(t=e.ext)||null==(r=t.prebid)?void 0:r.channel))}},extPrebidAliases:{fn:function(e,t,r,n){var i=(void 0===n?{}:n).am,a=void 0===i?ge.a:i;if(a.aliasRegistry[t.bidderCode]){var o=a.bidderRegistry[t.bidderCode];o&&o.getSpec().skipPbsAliasing||Object(x.a)(e,"ext.prebid.aliases."+t.bidderCode,a.aliasRegistry[t.bidderCode])}}}},wr[ht]={params:{fn:xr},adUnitCode:{fn:function(e,t){var r=t.adUnitCode;r&&Object(x.a)(e,"ext.prebid.adunitcode",r)}}},wr[yt]={mediaType:{fn:function(e,t,r){var n,i,a=r.mediaType;a||(a=yr.hasOwnProperty(t.mtype)?yr[t.mtype]:null==(n=t.ext)||null==(i=n.prebid)?void 0:i.type,Cr.hasOwnProperty(a)||(a=X.b)),e.mediaType=a},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===X.d){var r=Object(C.a)(t,"ext.prebid.cache.vastXml")||{},n=r.cacheId,i=r.url;if(!n||!i){var a=Object(C.a)(t,"ext.prebid.targeting")||{},o=a.hb_uuid,s=a.hb_cache_host,d=a.hb_cache_path;o&&s&&d&&(n=o,i="https://"+s+d+"?uuid="+o)}n&&i&&Object(S.default)(e,{videoCacheKey:n,vastUrl:i})}},priority:-10},bidderCode:{fn:function(e,t,r){var n;e.bidderCode=r.seatbid.seat,e.adapterCode=Object(C.a)(t,"ext.prebid.meta.adaptercode")||(null==(n=r.bidRequest)?void 0:n.bidder)||e.bidderCode}},pbsBidId:{fn:function(e,t){var r=Object(C.a)(t,"ext.prebid.bidid");Object(A.isStr)(r)&&(e.pbsBidId=r)}},adserverTargeting:{fn:function(e,t){var r=Object(C.a)(t,"ext.prebid.targeting");Object(A.isPlainObject)(r)&&(e.adserverTargeting=r)}},extPrebidMeta:{fn:function(e,t){e.meta=Object(A.mergeDeep)({},Object(C.a)(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn:function(e,t){var r=Object(C.a)(t,"ext.prebid.events.win");Object(A.isStr)(r)&&(e.pbsWurl=r)}}},wr[Ot]={serverSideStats:{fn:function(e,t,r){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((function(e){var n=e[0],i=e[1],a=Object(C.a)(t,"ext."+n+"."+r.bidderRequest.bidderCode);a&&(r.bidderRequest[i]=a,r.bidRequests.forEach((function(e){return e[i]=a})))}))}}},wr),kr=Object(A.memoize)((function(){return Er(Ar(),Rr,kt(_t))}));function Dr(e,t,r){if(t===r)return e;var n=e;if("function"==typeof Object(w.a)().convertCurrency)try{n=Object(w.a)().convertCurrency(e,t,r)}catch(e){}return n}function Br(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ur(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nr=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),Mr=Tr({processors:kr,context:{netRevenue:!0},imp:function(e,t,r){Object(S.default)(r,t.pbsData);var n=e(t,r);if((t.bids||[]).forEach((function(e){e.ortb2Imp&&Object.keys(e.ortb2Imp).length>0&&Object(x.a)(n,"ext.prebid.imp."+e.bidder,e.ortb2Imp)})),Object.values(Cr).some((function(e){return n[e]})))return n.secure=r.s2sBidRequest.s2sConfig.secure,n},request:function(e,t,r,n){if(t.length){var i=n.s2sBidRequest,a=n.requestedBidders,o=n.eidPermissions,s=e(t,r,n);return s.tmax=i.s2sConfig.timeout,Object(x.a)(s,"source.tid",r.auctionId),[s.app,s.dooh,s.site].forEach((function(e){var t;!e||null!=(t=e.publisher)&&t.id||Object(x.a)(e,"publisher.id",i.s2sConfig.accountId)})),Object(A.isArray)(o)&&o.length>0&&(a&&Object(A.isArray)(a)&&(o=o.map((function(e){return Object(S.default)({},e,{bidders:e.bidders.filter((function(e){return a.includes(e)}))})}))),Object(x.a)(s,"ext.prebid.data.eidpermissions",o)),s}Object(A.logError)("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},bidResponse:function(e,t,r){var n,i,a=r.actualBidRequests.get(r.seatbid.seat);null==a&&(a=r.actualBidRequests.get(null)),a&&Object(S.default)(r,{bidRequest:a,bidderRequest:r.actualBidderRequests.find((function(e){return e.bidderCode===a.bidder}))});var o=e(t,r);o.requestBidder=null==(n=a)?void 0:n.bidder,null!=(i=o.native)&&i.ortb&&(o.adm=o.native.ortb),o.requestTimestamp=r.requestTimestamp;var s=0!==t.price?k.STATUS.GOOD:k.STATUS.NO_BID;return{bid:Object(S.default)(Object(se.a)(s,{src:k.S2S.SRC,bidId:a?a.bidId||a.bid_Id:null,transactionId:r.adUnit.transactionId,auctionId:r.bidderRequest.auctionId}),o),adUnit:r.adUnit.code}},overrides:(Pr={},Pr[ht]={id:function(e,t,r,n){t.id=n.impId},params:function(e,t,r,n){for(var i,a=n.s2sBidRequest.s2sConfig.adapterOptions,o=Br(n.actualBidRequests.values());!(i=o()).done;){var s=i.value;xr(t,s,n,n),a&&a[s.bidder]&&Object(S.default)(t.ext.prebid.bidder[s.bidder],a[s.bidder])}},bidfloor:function(e,t,r,n){for(var i,a,o=Br(n.actualBidRequests.values());!(a=o()).done;){var s={};if(e(s,a.value,n),null==s.bidfloorcur||null==s.bidfloor){i=null;break}if(null==i)i=s;else{var d=Dr(s.bidfloor,s.bidfloorcur,i.bidfloorcur);null!=d&&d<i.bidfloor&&(i=s)}}null!=i&&Object(S.default)(t,i)}},Pr[vt]={fpd:function(e,t,r,n){var i,a,o;(Object(A.mergeDeep)(t,null==(i=n.s2sBidRequest.ortb2Fragments)?void 0:i.global),n.s2sBidRequest.s2sConfig.extPrebid&&"object"==typeof n.s2sBidRequest.s2sConfig.extPrebid)&&Object(x.a)(t,"ext.prebid",Object(A.mergeDeep)((null==(o=t.ext)?void 0:o.prebid)||{},n.s2sBidRequest.s2sConfig.extPrebid));var s=Object.entries((null==(a=n.s2sBidRequest.ortb2Fragments)?void 0:a.bidder)||{}).filter((function(e){var t=e[0],r=n.s2sBidRequest.s2sConfig.bidders;return n.s2sBidRequest.s2sConfig.allowUnknownBidderCodes||r&&r.includes(t)})).map((function(e){return{bidders:[e[0]],config:{ortb2:e[1]}}}));s.length&&Object(x.a)(t,"ext.prebid.bidderconfig",s)},extPrebidAliases:function(e,t,r,n){n.actualBidderRequests.forEach((function(r){return e(t,r,n)}))},sourceExtSchain:function(e,t,r,n){var i,a=Object(C.a)(t,"ext.prebid.schains")||[],o=new Set(a.flatMap((function(e){return e.bidders})));a=Object.values(a.concat(n.actualBidderRequests.filter((function(e){return!o.has(e.bidderCode)})).map((function(e){return{bidders:[e.bidderCode],schain:Object(C.a)(e,"bids.0.schain")}}))).filter((function(e){var t=e.bidders,r=e.schain;return(null==t?void 0:t.length)>0&&r})).reduce((function(e,t){var r=t.bidders,n=t.schain,a=JSON.stringify(n);return e.hasOwnProperty(a)||(e[a]={bidders:new Set,schain:n}),r.forEach((function(t){return e[a].bidders.add(t)})),(null==i||e[a].bidders.size>i.bidders.size)&&(i=e[a]),e}),{})).map((function(e){var t=e.bidders,r=e.schain;return{bidders:Array.from(t),schain:r}})),null!=i&&Object(x.a)(t,"source.ext.schain",i.schain),a.length&&Object(x.a)(t,"ext.prebid.schains",a)}},Pr[Ot]={serverSideStats:function(e,t,r,n){n.actualBidderRequests.forEach((function(i){return e(t,r,Object(S.default)({},n,{bidderRequest:i,bidRequests:i.bids}))}))},fledgeAuctionConfigs:function(e,t,r,n){var i=Object.values(n.impContext).flatMap((function(e){return(e.fledgeConfigs||[]).map((function(t){return{adUnitCode:e.adUnit.code,config:t.config}}))}));i.length>0&&(t.fledgeAuctionConfigs=i)}},Pr)});var qr,Wr,zr=N.b.getConfig,Lr=k.S2S.SRC,Fr=0,Vr={bidders:Object.freeze([]),timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}]}};function Gr(e){if(e){var t=Array.isArray(e)?e:[e],r=[];return t.every((function(t,n,i){if((function(e){["endpoint","syncEndpoint"].forEach((function(t){if(Object(A.isStr)(e[t])){var r=e[t];e[t]={p1Consent:r,noP1Consent:r}}!Object(A.isPlainObject)(e[t])||e[t].p1Consent&&e[t].noP1Consent||["p1Consent","noP1Consent"].forEach((function(r){e[t][r]||Object(A.logWarn)("s2sConfig."+t+"."+r+" not defined.  PBS request will be skipped in some P1 scenarios.")}))}))}(e),!1!==function(e){if(e.defaultVendor){var t=e.defaultVendor,r=Object.keys(e);if(!ur[t])return Object(A.logError)("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(ur[t]).forEach((function(n){Vr[n]!==e[n]&&Object(B.c)(r,n)||(e[n]=ur[t][n])}))}return e.enabled="boolean"==typeof e.enabled&&e.enabled}(t))&&!1!==function(e){var t=Object.keys(e);if(["accountId","endpoint"].filter((function(e){return!Object(B.c)(t,e)&&(Object(A.logError)(e+" missing in server to server config"),!0)})).length>0)return!1}(t))return Array.isArray(t.bidders)&&(i[n].bidders=t.bidders.filter((function(e){return-1===r.indexOf(e)&&(r.push(e),!0)}))),!0;return Object(A.logWarn)("prebidServer: s2s config is disabled"),!1}))?qr=t:void 0}}function Kr(e,t){if(0!==e.length){var r=e.shift();r.no_cookie?function(e,t,r,n,i){i.syncUrlModifier&&"function"==typeof i.syncUrlModifier[r]&&(t=i.syncUrlModifier[r](e,t,r));!function(e,t,r,n,i){t?"image"===e||"redirect"===e?(Object(A.logMessage)('Invoking image pixel user sync for bidder: "'+r+'"'),Object(A.triggerPixel)(t,n,i)):"iframe"===e?(Object(A.logMessage)('Invoking iframe user sync for bidder: "'+r+'"'),Object(A.insertUserSyncIframe)(t,n,i)):(Object(A.logError)('User sync type "'+e+'" not supported for bidder: "'+r+'"'),n()):(Object(A.logError)('No sync url for bidder "'+r+'": '+t),n())}(e,t,r,n,i.syncTimeout)}(r.usersync.type,r.usersync.url,r.bidder,A.bind.call(Kr,null,e,t),t):Kr(e,t)}}N.b.setDefaults({s2sConfig:Vr}),zr("s2sConfig",(function(e){return Gr(e.s2sConfig)}));var Hr={};function Jr(e){var t,r,n=function(e,t){if([e,t].every(A.isStr))return Hr[""+e+t]}(e.auctionId,e.adId);Object(A.isStr)(n)&&(Object(A.logMessage)('Invoking image pixel for wurl on BID_WIN: "'+n+'"'),Object(A.triggerPixel)(n),t=e.auctionId,r=e.adId,[t,r].every(A.isStr)&&(Hr[""+t+r]=void 0))}function Yr(e,t){return Object(pr.a)(t)?e.p1Consent:e.noP1Consent}function Xr(e){var t,r,n;return Array.isArray(e)&&e.length>0&&(t=e[0].gdprConsent,r=e[0].uspConsent,n=e[0].gppConsent),{gdprConsent:t,uspConsent:r,gppConsent:n}}var Qr=Object(Q.b)("sync",(function(e,t,r,n){var i=n.onResponse,a=n.onError,o=n.onBid,s=n.onFledge,d=Xr(t).gdprConsent,c=Object(A.deepClone)(e.ad_units),u=c.map((function(e){return e.bids.map((function(e){return e.bidder})).filter(A.uniques)})).reduce(A.flatten,[]).filter(A.uniques),l=e.metrics.measureTime("buildRequests",(function(){return function(e,t,r,n,i){var a=Object(A.timestamp)(),o=new Set,s=[];r.forEach((function(e){var r=new Map;e.bids.forEach((function(n){null!=n.mediaTypes&&Object(A.logWarn)("Prebid Server adapter does not (yet) support bidder-specific mediaTypes for the same adUnit. Size mapping configuration will be ignored for adUnit: "+e.code+", bidder: "+n.bidder),r.set(n.bidder,Object(A.getBidRequest)(n.bid_id,t))}));for(var n=e.code,i=1;o.has(n);)i++,n=e.code+"-"+i;o.add(n),s.push(Object(S.default)({},e,{adUnitCode:e.code},Object(A.getDefinedParams)(r.values().next().value||{},["userId","userIdAsEids","schain"]),{pbsData:{impId:n,actualBidRequests:r,adUnit:e}}))}));var d=Object(S.default)({},Object.fromEntries(Object.entries(t[0]).filter((function(e){var t=e[0];return!Nr.has(t)}))),{fledgeEnabled:t.some((function(e){return e.fledgeEnabled}))});return Mr.toORTB({bidderRequest:d,bidRequests:s,context:{currency:N.b.getConfig("currency.adServerCurrency")||"USD",ttl:e.s2sConfig.defaultTtl||60,requestTimestamp:a,s2sBidRequest:e,requestedBidders:n,actualBidderRequests:t,eidPermissions:i,nativeRequest:e.s2sConfig.ortbNative}})}(e,t,c,u,Wr)})),p=l&&JSON.stringify(l);Object(A.logInfo)("BidRequest: "+p);var f=Yr(e.s2sConfig.endpoint,d);if(l&&p&&f){var b=e.metrics.startTiming("net");r(f,{success:function(t){var r;b();try{r=JSON.parse(t);var n=e.metrics.measureTime("interpretResponse",(function(){return function(e,t){return Mr.fromORTB({response:e,request:t})}(r,l)})),a=n.bids,d=n.fledgeAuctionConfigs;a.forEach(o),d&&d.forEach(s)}catch(e){Object(A.logError)(e)}!r||r.status&&Object(B.c)(r.status,"Error")?(Object(A.logError)("error parsing response: ",r?r.status:"not valid JSON"),i(!1,u)):i(!0,u,r)},error:function(){b(),a.apply(this,arguments)}},p,{contentType:"text/plain",withCredentials:!0})}else Object(A.logError)("PBS request not made.  Check endpoints.")}),"processPBSRequest");Object(A.getPrebidInternal)().setEidPermissions=function(e){Wr=e},ge.a.registerBidAdapter(new function(){var e=new dr.a("prebidServer");return e.callBids=function(e,t,r,n,i){var a=e.metrics=Object(me.c)(Object(C.a)(t,"0.metrics")).newMetrics().renameWith((function(t){return["adapter.s2s."+t,"adapters.s2s."+e.s2sConfig.defaultVendor+"."+t]}));n=a.startTiming("total").stopBefore(n),t.forEach((function(e){return Object(me.c)(e.metrics).join(a,{continuePropagation:!1})}));var o=Xr(t),s=o.gdprConsent,d=o.uspConsent,c=o.gppConsent;if(Array.isArray(qr)){if(e.s2sConfig&&e.s2sConfig.syncEndpoint&&Yr(e.s2sConfig.syncEndpoint,s))!function(e,t,r,n,i){if(qr.length!==Fr){Fr++;var a={},o=zr("userSync.filterSettings");if(o){var s=o.all,d=o.iframe||s,c=o.image||s;d&&(a=Object(S.default)({iframe:d},a)),c&&(a=Object(S.default)({image:c},a))}var u={uuid:Object(A.generateUUID)(),bidders:e,account:i.accountId,filterSettings:a},l=i.userSyncLimit;Object(A.isNumber)(l)&&l>0&&(u.limit=l),t&&(u.gdpr=t.gdprApplies?1:0,!1!==t.gdprApplies&&(u.gdpr_consent=t.consentString)),r&&(u.us_privacy=r),n&&(u.gpp_sid=n.applicableSections.join(),u.gpp=n.gppString),"boolean"==typeof i.coopSync&&(u.coopSync=i.coopSync);var p=JSON.stringify(u);Object(lr.a)(Yr(i.syncEndpoint,t),(function(e){try{Kr((e=JSON.parse(e)).bidder_status,i)}catch(e){Object(A.logError)(e)}}),p,{contentType:"text/plain",withCredentials:!0})}}(e.s2sConfig.bidders.map((function(e){return ge.a.aliasRegistry[e]||e})).filter((function(e,t,r){return r.indexOf(e)===t})),s,d,c,e.s2sConfig);Qr(e,t,i,{onResponse:function(r,i,o){r&&t.forEach((function(e){return P.emit(k.EVENTS.BIDDER_DONE,e)})),function(e,t){var r,n;return(null==e||null==(r=e.extPrebid)?void 0:r.returnallbidstatus)&&(null==t||null==(n=t.ext)?void 0:n.seatnonbid)}(e.s2sConfig,o)&&P.emit(k.EVENTS.SEAT_NON_BID,{seatnonbid:o.ext.seatnonbid,auctionId:t[0].auctionId,requestedBidders:i,response:o,adapterMetrics:a}),n(),function(e,t,r,n){e.forEach((function(e){var i=ge.a.getBidAdapter(e);i&&i.registerSyncs&&N.b.runWithBidder(e,A.bind.call(i.registerSyncs,i,[],t,r,n))}))}(i,s,d,c)},onError:n,onBid:function(t){var n,i,a,o=t.adUnit,s=t.bid,d=s.metrics=e.metrics.fork().renameWith();d.checkpoint("addBidResponse"),null!=s.requestId&&null!=s.requestBidder||e.s2sConfig.allowUnknownBidderCodes?d.measureTime("addBidResponse.validate",(function(){return Object(cr.c)(o,s)}))?(r(o,s),s.pbsWurl&&(n=s.auctionId,i=s.adId,a=s.pbsWurl,[n,i].every(A.isStr)&&(Hr[""+n+i]=a))):r.reject(o,s,k.REJECTION_REASON.INVALID):(Object(A.logWarn)("PBS adapter received bid from unknown bidder ("+s.bidder+"), but 's2sConfig.allowUnknownBidderCodes' is not set. Ignoring bid."),r.reject(o,s,k.REJECTION_REASON.BIDDER_DISALLOWED))},onFledge:function(e){var t=e.adUnitCode,r=e.config;Object(cr.a)(t,r)}})}},P.on(k.EVENTS.BID_WON,Jr),Object(S.default)(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:Lr})},"prebidServer"),Object(w.b)("prebidServerBidAdapter");var $r={growthCodeId:{getValue:function(e){return e.gc_id},source:"growthcode.io",atype:1,getUidExt:function(e){var t=Object(A.pick)(e,["h1","h2","h3"]);if(Object.keys(t).length)return t}},trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},pairId:{source:"google.com",atype:571187},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){var t="";return e&&e.ext&&e.ext.DeviceID&&(t=e.ext.DeviceID),t},getUidExt:function(e){return e&&e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=Object(A.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},bidswitch:{source:"bidswitch.net",atype:3,getValue:function(e){return e.id}},medianet:{source:"media.net",atype:3,getValue:function(e){return e.id}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{atype:3,getSource:function(e){var t;return null!=e&&null!=(t=e.ext)&&t.ssp?e.ext.ssp+".merkleinc.com":"merkleinc.com"},getValue:function(e){return e.id},getUidExt:function(e){return e.keyID?{keyID:e.keyID}:e.ext?e.ext:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return void 0===e.snowflake.id?e.snowflake:e.snowflake.id},source:"novatiq.com"},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},euid:{source:"euid.eu",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxdt.net",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imppid:{source:"ppid.intimatemerger.com",atype:1},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1},"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}},tncid:{source:"thenewco.it",atype:3},gravitompId:{source:"gravito.net",atype:1},czechAdId:{source:"czechadid.cz",atype:1},oneKeyData:{getValue:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0])return e.identifiers[0].value},source:"paf",atype:1,getEidExt:function(e){if(e&&e.preferences)return{preferences:e.preferences}},getUidExt:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0]){var t=e.identifiers[0];return{version:t.version,type:t.type,source:t.source}}}}};function Zr(e,t){var r=$r[t];if(r&&e){var n={};n.source=Object(A.isFn)(r.getSource)?r.getSource(e):r.source;var i=Object(A.isFn)(r.getValue)?r.getValue(e):e;if(Object(A.isStr)(i)){var a={id:i,atype:r.atype};if(Object(A.isFn)(r.getUidExt)){var o=r.getUidExt(e);o&&(a.ext=o)}if(n.uids=[a],Object(A.isFn)(r.getEidExt)){var s=r.getEidExt(e);s&&(n.ext=s)}return n}}return null}function en(e){var t=[],r=function(r){if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else if(Array.isArray(e[r]))e[r].forEach((function(e,n,i){var a=Zr(e,r);a&&t.push(a)}));else{var n=Zr(e[r],r);n&&t.push(n)}};for(var n in e)r(n);return t}var tn,rn,nn,an,on,sn,dn=Object(Q.b)("sync",(function(){})),cn=r(28),un=r(14),ln=r(21),pn=r(17),fn=r(34),bn=be.a,gn=be.b,mn="_pbjs_userid_consent_data",vn=30,hn=Object(be.c)("userId"),yn={isAllowed:ln.a},On=!1,jn=[],_n=[],In=[],En=function(){return null==sn&&(sn=Object(me.a)()),sn};function Tn(e){return En().fork().renameWith((function(t){return["userId.mod."+t,"userId.mods."+e+"."+t]}))}function Sn(e,t){t=t||e.storageMgr;var r="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,n=e.config.storage.name;return function(e,i,a){t.setCookie(n+(e||""),i,a,"Lax",r)}}function wn(e,t){var r=e.config.storage,n=e.storageMgr;try{var i=new Date(Date.now()+864e5*r.expires).toUTCString(),a=Object(A.isPlainObject)(t)?JSON.stringify(t):t;if(r.type===bn){var o=Sn(e);o(null,a,i),"number"==typeof r.refreshInSeconds&&o("_last",(new Date).toUTCString(),i)}else r.type===gn&&(n.setDataInLocalStorage(r.name+"_exp",i),n.setDataInLocalStorage(r.name,encodeURIComponent(a)),"number"==typeof r.refreshInSeconds&&n.setDataInLocalStorage(r.name+"_last",(new Date).toUTCString()))}catch(e){Object(A.logError)(e)}}function An(e){var t,r,n,i;switch(null==(t=e.config)||null==(r=t.storage)?void 0:r.type){case bn:var a=Sn(e,hn),o=new Date(Date.now()-864e5).toUTCString();n=function(e){return a(e,"",o)},i=["","_last"];break;case gn:n=function(t){return hn.removeDataFromLocalStorage(e.config.storage.name+t)},i=["","_last","_exp"]}n&&i.forEach((function(e){try{n(e)}catch(e){Object(A.logError)(e)}}))}function Cn(e){var t,r=Object(A.getPrebidInternal)().setEidPermissions;"function"==typeof r&&Object(A.isArray)(e)&&r((t=[],e.filter((function(e){return Object(A.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(r){Object(C.a)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(C.a)($r,r+".source")&&t.push({source:$r[r].source,bidders:e.config.bidders})}))})),t))}function xn(e,t){void 0===t&&(t=void 0);var r,n=e.storageMgr,i=e.config.storage,a=t?i.name+"_"+t:i.name;try{if(i.type===bn)r=n.getCookie(a);else if(i.type===gn){var o=n.getDataFromLocalStorage(i.name+"_exp");""===o?r=n.getDataFromLocalStorage(a):o&&new Date(o).getTime()-Date.now()>0&&(r=decodeURIComponent(n.getDataFromLocalStorage(a)))}"string"==typeof r&&"{"===r.trim().charAt(0)&&(r=JSON.parse(r))}catch(e){Object(A.logError)(e)}return r}function Pn(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),Object(A.cyrb53Hash)(JSON.stringify(t))}function Rn(e,t){t=En().fork().startTiming("userId.callbacks.total").stopBefore(t);var r=Object(A.delayExecution)((function(){clearTimeout(void 0),t()}),e.length);e.forEach((function(e){var t=Tn(e.submodule.name).startTiming("callback").stopBefore(r);try{e.callback((function(r){r?(e.config.storage&&wn(e,r),e.idObj=e.submodule.decode(r,e.config),Jn(e.idObj)):Object(A.logInfo)("User ID: "+e.submodule.name+" - request id responded with an empty value"),t()}),xn.bind(null,e))}catch(r){Object(A.logError)("Error in userID module '"+e.submodule.name+"':",r),t()}e.callback=void 0}))}function kn(e,t){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&Object(A.isArray)(e.bids)&&e.bids.forEach((function(e){var r=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter((function(e){return!e.config.bidders||!Object(A.isArray)(e.config.bidders)||Object(B.c)(e.config.bidders,t)})).filter((function(e){return Object(A.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(r){e[r]=t.idObj[r]})),e}),{}):{}}(t,e.bidder);Object.keys(r).length&&(e.userId=r,e.userIdAsEids=en(r))}))}))}var Dn,Bn={};function Un(e){void 0===e&&(e=qn()||[]);var t=an&&e.find((function(e){return e.source===an}));if(t&&"string"==typeof Object(C.a)(t,"uids.0.id")){var r=t.uids[0].id.replace(/[\W_]/g,"");if(r.length>=32&&r.length<=150)return r;Object(A.logWarn)("User ID - Googletag Publisher Provided ID for "+an+" is not between 32 and 150 characters - "+r)}}var Nn=Object(me.b)("userId",(function(e,t,r){var n=this,i=void 0===r?{}:r,a=i.delay,o=void 0===a?ce.a.timeout:a,s=i.getIds,d=void 0===s?Gn:s;ce.a.race([d().catch((function(){return null})),o(nn)]).then((function(){kn(t.adUnits||Object(w.a)().adUnits,tn),En().join(Object(me.c)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(n,t)}))}));function Mn(){return e=tn,Array.isArray(e)&&e.length?e.filter((function(e){return Object(A.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(r){e[r]=t.idObj[r]})),e}),{}):{};var e}function qn(){return en(Mn())}function Wn(e){return en(function(e,t){if(!Array.isArray(e)||!e.length)return{};var r=e.filter((function(e){var r;return Object(A.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length&&(null==(r=$r[Object.keys(e.idObj)[0]])?void 0:r.source)===t}));return Object(A.isEmpty)(r)?[]:r[0].idObj}(tn,e))[0]}function zn(e,t,r){return Dn().then((function(){var n={};if(Object(A.isFn)(r)){Object(A.logInfo)("User ID - Getting encrypted signal from custom function : "+r.name+" & source : "+e+" ");var i=r(e);n[e]=i?Ln(i):null}else{var a=Wn(e);Object(A.logInfo)("User ID - Getting encrypted signal for eids :"+JSON.stringify(a)),Object(A.isEmpty)(a)||(n[a.source]=!0===t?Ln(a):a.uids[0].id)}return Object(A.logInfo)("User ID - Fetching encrypted eids: "+n[e]),n[e]}))}function Ln(e,t){void 0===t&&(t=1);var r="";switch(t){case 1:r="object"==typeof e?window.btoa(JSON.stringify(e)):window.btoa(e)}return t+"||"+r}function Fn(){if(Object(A.isGptPubadsDefined)()){window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[];var e=N.b.getConfig("userSync.encryptedSignalSources");if(e){var t=e.registerDelay||0;setTimeout((function(){e.sources&&e.sources.forEach((function(e){var t=e.source,r=e.encrypt,n=e.customFunc;t.forEach((function(e){window.googletag.encryptedSignalProviders.push({id:e,collectorFunction:function(){return zn(e,r,n)}})}))}))}),t)}else Object(A.logWarn)("User ID - ESP : encryptedSignalSources config not defined under userSync Object")}}function Vn(e,t){var r=(void 0===e?{}:e).submoduleNames;return Dn({refresh:!0,submoduleNames:r}).then((function(){return t&&Object(A.isFn)(t)&&t(),Mn()}))}function Gn(){return Dn().then((function(){return Mn()}),(function(e){return e===Bn?Promise.resolve().then(Gn):(Object(A.logError)("Error initializing userId",e),ce.a.reject(e))}))}var Kn=Object(Q.b)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function Hn(e,t,r,n){if(e.config.storage){var i,a=xn(e),o=!1;if("number"==typeof e.config.storage.refreshInSeconds){var s=new Date(xn(e,"last"));o=s&&Date.now()-s.getTime()>1e3*e.config.storage.refreshInSeconds}!a||o||n||!function(e,t){return null!=e&&e===Pn(t)}(r,t)?i=e.submodule.getId(e.config,t,a):"function"==typeof e.submodule.extendId&&(i=e.submodule.extendId(e.config,t,a)),Object(A.isPlainObject)(i)&&(i.id&&(wn(e,i.id),a=i.id),"function"==typeof i.callback&&(e.callback=i.callback)),a&&(e.idObj=e.submodule.decode(a,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var d=e.submodule.getId(e.config,t,void 0);Object(A.isPlainObject)(d)&&("function"==typeof d.callback&&(e.callback=d.callback),d.id&&(e.idObj=e.submodule.decode(d.id,e.config)))}Jn(e.idObj)}function Jn(e){if(void 0===e&&(e=Mn()),e&&an){var t=Un(en(e));t&&(Object(A.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(t):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(t)}))))}}function Yn(e,t,r,n){return void 0===n&&(n=!1),En().fork().measureTime("userId.init.modules",(function(){if(!t.length)return[];if(!(t=t.filter((function(e){return(!e.config.storage||function(e){var t,r;switch(null==(t=e.config)||null==(r=t.storage)?void 0:r.type){case gn:if(e.storageMgr.localStorageIsEnabled())return!hn.getDataFromLocalStorage("_pbjs_id_optout")||(Object(A.logInfo)("User ID - opt-out localStorage found, storage disabled"),!1);break;case bn:if(e.storageMgr.cookiesAreEnabled())return!hn.getCookie("_pbjs_id_optout")||(Object(A.logInfo)("User ID - opt-out cookie found, storage disabled"),!1)}return!1}(e))&&yn.isAllowed(pn.b,Object(fn.a)(un.e,e.config.name))}))).length)return Object(A.logWarn)("User ID - no ID module configured"),[];var i=Kn(t,r),a=i.userIdModules;if(!i.hasValidated&&!Object(pr.a)(r))return Object(A.logWarn)("User ID - gdpr permission not valid for local storage or cookies, exit module"),[];var o=function(){try{return hn.getCookie(mn)}catch(e){Object(A.logError)(e)}}();!function(e){try{var t=new Date(Date.now()+864e5*vn).toUTCString();hn.setCookie(mn,Pn(e),t,"Lax")}catch(e){Object(A.logError)(e)}}(r);var s=a.reduce((function(e,t){return Tn(t.submodule.name).measureTime("init",(function(){try{Hn(t,r,o,n),e.push(t)}catch(e){Object(A.logError)("Error in userID module '"+t.submodule.name+"':",e)}return e}))}),[]);return s.length&&Cn(s),s.forEach(Xn.bind(null,e)),s}))}function Xn(e,t){for(var r=!1,n=0;n<e.length;n++)if(t.config.name.toLowerCase()===e[n].config.name.toLowerCase()){r=!0,e[n]=t;break}r||e.push(t)}var Qn,$n,Zn,ei,ti=new Set([gn,bn]);function ri(){var e,t=(e=_n,Array.isArray(e)?e.reduce((function(e,t){return!t||Object(A.isEmptyStr)(t.name)||(t.storage&&!Object(A.isEmptyStr)(t.storage.type)&&!Object(A.isEmptyStr)(t.storage.name)&&ti.has(t.storage.type)||Object(A.isPlainObject)(t.value)?e.push(t):t.storage||t.value||e.push(t)),e}),[]):[]);if(t.length){var r=In.filter((function(e){return!Object(B.b)(jn,(function(t){return t.name===e.name}))}));jn.splice(0,jn.length),r.map((function(e){var r=Object(B.b)(t,(function(t){return t.name&&(t.name.toLowerCase()===e.name.toLowerCase()||e.aliasName&&t.name.toLowerCase()===e.aliasName.toLowerCase())}));return r&&e.name!==r.name&&(r.name=e.name),e.findRootDomain=ye,r?{submodule:e,config:r,callback:void 0,idObj:void 0,storageMgr:Object(be.d)({moduleType:un.e,moduleName:r.name})}:null})).filter((function(e){return null!==e})).forEach((function(e){return jn.push(e)})),!On&&jn.length&&(Object(w.a)().requestBids.before(Nn,40),ge.a.callDataDeletionRequest.before(ni),dn.after((function(e){return e(Un())})),Object(A.logInfo)("User ID - usersync config updated for "+jn.length+" submodules: ",jn.map((function(e){return e.submodule.name}))),On=!0)}}function ni(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Object(A.logInfo)("UserID: received data deletion request; deleting all stored IDs..."),jn.forEach((function(e){if("function"==typeof e.submodule.onDataDeletionRequest)try{var t;(t=e.submodule).onDataDeletionRequest.apply(t,[e.config,e.idObj].concat(r))}catch(t){Object(A.logError)("Error calling onDataDeletionRequest for ID submodule "+e.submodule.name,t)}An(e)})),e.apply(this,r)}function ii(e){return function(){return Promise.resolve(e.apply(this,arguments))}}Qn=N.b,Zn=(void 0===$n?{}:$n).delay,ei=void 0===Zn?ce.a.timeout:Zn,an=void 0,jn=[],_n=[],On=!1,tn=[],Dn=function(e){var t,r,n=(void 0===e?{}:e).delay,i=void 0===n?ce.a.timeout:n,a=Object(ce.b)(),o=Object(ce.b)(),s=!1;function d(e){return r=En().fork(),null!=t&&t.reject(Bn),t=Object(ce.b)(),ce.a.race([e,t.promise]).finally(r.startTiming("userId.total"))}var c=tn,u=jn;function l(e){return function(){if(c===tn&&u===jn)return e.apply(void 0,arguments)}}function p(){return ge.b.promise.finally(r.startTiming("userId.init.gdpr"))}var f=d(ce.a.all([Q.d,a.promise]).then(p).then(l((function(e){Yn(c,u,e)}))).then((function(){return o.promise.finally(r.startTiming("userId.callbacks.pending"))})).then(l((function(){var e=c.filter((function(e){return Object(A.isFn)(e.callback)}));if(e.length)return new ce.a((function(t){return Rn(e,t)}))}))));return function(e){var t=void 0===e?{}:e,r=t.refresh,n=void 0!==r&&r,b=t.submoduleNames,g=void 0===b?null:b,m=t.ready;return void 0!==m&&m&&!s&&(s=!0,a.resolve(),nn>0?o.resolve():P.on(k.EVENTS.AUCTION_END,(function e(){P.off(k.EVENTS.AUCTION_END,e),i(rn).then(o.resolve)}))),n&&s&&(f=d(f.catch((function(){return null})).then(p).then(l((function(e){var t=Yn(c,u.filter((function(e){return null==g||g.includes(e.submodule.name)})),e,!0).filter((function(e){return null!=e.callback}));if(t.length)return new ce.a((function(e){return Rn(t,e)}))}))))),f}}({delay:ei}),null!=on&&on(),In=[],on=Qn.getConfig("userSync",(function(e){var t=e.userSync;an=t.ppid,t&&t.userIds&&(_n=t.userIds,rn=Object(A.isNumber)(t.syncDelay)?t.syncDelay:500,nn=Object(A.isNumber)(t.auctionDelay)?t.auctionDelay:0,ri(),Dn({ready:!0}))})),Object(w.a)().getUserIds=Mn,Object(w.a)().getUserIdsAsEids=qn,Object(w.a)().getEncryptedEidsForSource=ii(zn),Object(w.a)().registerSignalSources=Fn,Object(w.a)().refreshUserIds=ii(Vn),Object(w.a)().getUserIdsAsync=ii(Gn),Object(w.a)().getUserIdsAsEidBySource=Wn,Object(Q.c)("userId",(function(e){Object(B.b)(In,(function(t){return t.name===e.name}))||(In.push(e),cn.a.register(un.e,e.name,e.gvlid),ri(),Dn({refresh:!0,submoduleNames:[e.name]}))})),Rt({type:vt,name:"userExtEids",fn:function(e,t,r){var n=Object(C.a)(r,"bidRequests.0.userIdAsEids");n&&Object.keys(n).length>0&&Object(x.a)(e,"user.ext.eids",n)}}),Object(w.b)("userId");var ai=r(19);function oi(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return si(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return si(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var di,ci,ui,li,pi={purpose1:{id:1,name:"storage"},purpose2:{id:2,name:"basicAds"},purpose7:{id:7,name:"measurement"}},fi=[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}],bi=new Set,gi=new Set,mi=new Set,vi=!1,hi=!1,yi=[un.b,un.e,un.a,un.d],Oi=[];function ji(e,t,r){return null==e&&ge.b.enabled?(Object(A.logWarn)("Attempting operation that requires purpose "+t+" consent while consent data is not available"+(r?" (module: "+r+")":"")+". Assuming no consent was given."),!0):e&&e.gdprApplies}function _i(e,t,r,n){return void 0===r&&(r=null),void 0===n&&(n=function(){return null}),function(i){var a=ge.b.getConsentData(),o=i[ai.d];if(ji(a,e,o)){var s=function(e,t,r){if(t){var n=N.b.getConfig("gvlMapping");if(n&&n[t])return n[t];if(e===un.c)return cn.e;var i=cn.a.get(t),a=i.gvlid,o=i.modules;if(null==a&&Object.keys(o).length>0)for(var s,d=oi(yi);!(s=d()).done;){var c=s.value;if(o.hasOwnProperty(c)){a=o[c],c!==e&&Object(A.logWarn)("Multiple GVL IDs found for module '"+t+"'; using the "+c+" module's ID ("+a+") instead of the "+e+"'s ID ("+o[e]+")");break}}return null==a&&r&&(a=r()),a||null}return null}(i[ai.e],o,n(i)),d=!!function(e,t,r,n){var i=pi[Object.keys(pi).filter((function(t){return pi[t].name===e.purpose}))[0]].id;if((e.vendorExceptions||[]).includes(r))return!0;var a=!(n===cn.e||(e.softVendorExceptions||[]).includes(r)),o=Object(C.a)(t,"vendorData.purpose.consents."+i),s=!a||Object(C.a)(t,"vendorData.vendor.consents."+n),d=Object(C.a)(t,"vendorData.purpose.legitimateInterests."+i),c=!1===e.enforcePurpose||!0===o,u=!1===e.enforceVendor||!0===s;return 2===i?c&&u||!0===d:c&&u}(t(),a,o,s);if(!d)return r&&r.add(o),{allow:d}}}}var Ii,Ei=(Ii=_i(1,(function(){return di}),bi),function(e){if(e[ai.e]!==un.c||hi)return Ii(e)}),Ti=_i(1,(function(){return di}),bi),Si=_i(1,(function(){return di}),bi);function wi(e,t,r){ji(r,1,"User ID")?e.call(this,t,Object(S.default)({},r,{hasValidated:!0})):e.call(this,t,r)}var Ai=function(e){return function(t){if(t[ai.e]===un.b)return e(t)}}(_i(2,(function(){return ci}),gi)),Ci=_i(7,(function(){return ui}),mi,(function(e){return function(e,t){var r,n=ge.a.getAnalyticsAdapter(e);return function(r){if("function"!=typeof r)return r;try{return r.call(n.adapter,t)}catch(t){Object(A.logError)("Error invoking "+e+" adapter.gvlid()",t)}}(null==n||null==(r=n.adapter)?void 0:r.gvlid)}(e[ai.d],e[ai.b])}));P.on(k.EVENTS.AUCTION_END,(function(){var e=function(e){return Array.from(e.keys()).filter((function(e){return null!=e}))},t={storageBlocked:e(bi),biddersBlocked:e(gi),analyticsBlocked:e(mi)};P.emit(k.EVENTS.TCF2_ENFORCEMENT,t),[bi,gi,mi].forEach((function(e){return e.clear()}))}));var xi=function(e){return e.purpose===pi.purpose1.name},Pi=function(e){return e.purpose===pi.purpose2.name},Ri=function(e){return e.purpose===pi.purpose7.name};N.b.getConfig("consentManagement",(function(e){return function(e){var t=Object(C.a)(e,"gdpr.rules");t?li=t:(Object(A.logWarn)("TCF2: enforcing P1 and P2 by default"),li=fi),hi=!!Object(C.a)(e,"strictStorageEnforcement"),di=Object(B.b)(li,xi),ci=Object(B.b)(li,Pi),ui=Object(B.b)(li,Ri),di||(di=fi[0]),ci||(ci=fi[1]),vi||(di&&(vi=!0,Oi.push(Object(ln.b)(pn.a,"TCF2",Ei)),Oi.push(Object(ln.b)(pn.e,"TCF2",Ti)),Oi.push(Object(ln.b)(pn.b,"TCF2",Si)),Object(Q.a)("validateGdprEnforcement").before(wi,47)),ci&&Oi.push(Object(ln.b)(pn.c,"TCF2",Ai)),ui&&Oi.push(Object(ln.b)(pn.d,"TCF2",Ci)))}(e.consentManagement)})),Object(w.b)("gdprEnforcement");var ki=function(){function e(e,t,r,n){this._baseUrl=e.baseUrl,this._clientVersion=t,this._logInfo=r,this._logWarn=n}var t=e.prototype;return t.createArrayBuffer=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t},t.hasStatusResponse=function(e){return"object"==typeof e&&e&&e.status},t.isValidRefreshResponse=function(e){return this.hasStatusResponse(e)&&("optout"===e.status||"expired_token"===e.status||"success"===e.status&&e.body&&!!("object"==typeof(t=e.body)&&null!==t&&t.advertising_token&&t.identity_expires&&t.refresh_from&&t.refresh_token&&t.refresh_expires));var t},t.ResponseToRefreshResult=function(e){return this.isValidRefreshResponse(e)?"success"===e.status?{status:e.status,identity:e.body}:e:"Response didn't contain a valid status"},t.callRefreshApi=function(e){var t,r,n=this,i=this._baseUrl+"/v2/token/refresh",a=new XMLHttpRequest;a.overrideMimeType("text/plain"),a.open("POST",i,!0),a.setRequestHeader("X-UID2-Client-Version",this._clientVersion);var o=new Promise((function(e,n){t=e,r=n}));return a.onreadystatechange=function(){if(a.readyState===a.DONE)try{if(e.refresh_response_key&&200===a.status){n._logInfo("Decrypting refresh API response");var i=n.createArrayBuffer(atob(a.responseText));window.crypto.subtle.importKey("raw",n.createArrayBuffer(atob(e.refresh_response_key)),{name:"AES-GCM"},!1,["decrypt"]).then((function(e){n._logInfo("Imported decryption key"),window.crypto.subtle.decrypt({name:"AES-GCM",iv:i.slice(0,12),tagLength:128},e,i.slice(12)).then((function(e){var i=String.fromCharCode.apply(String,new Uint8Array(e));n._logInfo("Decrypted to:",i);var a=JSON.parse(i),o=n.ResponseToRefreshResult(a);"string"==typeof o?r(o):t(o)}),(function(e){return n._logWarn("Call to UID2 API failed",e)}))}),(function(e){return n._logWarn("Call to UID2 API failed",e)}))}else{n._logInfo("Error status OR no response decryption key available, assuming unencrypted JSON");var o=JSON.parse(a.responseText),s=n.ResponseToRefreshResult(o);"string"==typeof s?r(s):t(s)}}catch(e){r(e)}},this._logInfo("Sending refresh request",e),a.send(e.refresh_token),o},e}(),Di=function(){function e(e,t,r,n){this._storage=e,this._preferLocalStorage=t,this._storageName=r,this._logInfo=n}var t=e.prototype;return t.readCookie=function(e){return this._storage.cookiesAreEnabled()?this._storage.getCookie(e):null},t.readLocalStorage=function(e){return this._storage.localStorageIsEnabled()?this._storage.getDataFromLocalStorage(e):null},t.readModuleCookie=function(){return this.parseIfContainsBraces(this.readCookie(this._storageName))},t.writeModuleCookie=function(e){this._storage.setCookie(this._storageName,JSON.stringify(e),Date.now()+864e5)},t.readModuleStorage=function(){return this.parseIfContainsBraces(this.readLocalStorage(this._storageName))},t.writeModuleStorage=function(e){this._storage.setDataInLocalStorage(this._storageName,JSON.stringify(e))},t.readProvidedCookie=function(e){return JSON.parse(this.readCookie(e))},t.parseIfContainsBraces=function(e){return null!=e&&e.includes("{")?JSON.parse(e):e},t.storeValue=function(e){this._preferLocalStorage?this.writeModuleStorage(e):this.writeModuleCookie(e)},t.getStoredValueWithFallback=function(){var e=this._preferLocalStorage?"local storage":"cookie",t=(this._preferLocalStorage?this.readModuleStorage:this.readModuleCookie).bind(this),r=(this._preferLocalStorage?this.writeModuleStorage:this.writeModuleCookie).bind(this),n=(this._preferLocalStorage?this.readModuleCookie:this.readModuleStorage).bind(this),i=t();if(i){if("string"==typeof i){var a=n();if(a&&"object"==typeof a)return this._logInfo(e+" contained a basic token, but found a refreshable token fallback. Copying the fallback value to "+e+"."),r(a),a}}else{var o=n();if(o)return this._logInfo(e+" was empty, but found a fallback value."),"object"==typeof o&&(this._logInfo("Copying the fallback value to "+e+"."),r(o)),o}return i},e}();function Bi(e,t,r,n,i,a){return i("UID2 base url provided: ",e),new ki({baseUrl:e},r,i,a).callRefreshApi(t).then((function(e){i("Refresh endpoint responded with:",e);var r={originalToken:t,latestToken:e.identity};return n.storeValue(r),r}))}Object(w.b)("uid2IdSystem_shared");function Ui(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(void 0,[t+" "].concat(n))}}var Ni,Mi,qi=Ui(A.logInfo,"UID2: "),Wi=Ui(A.logWarn,"UID2: "),zi=Object(be.d)({moduleType:un.e,moduleName:"uid2"}),Li={name:"uid2",decode:function(e){var t=function(e){if("string"==typeof e){return qi("Found server-only token. Refresh is unavailable for this token."),{uid2:{id:e}}}if(Date.now()<e.latestToken.identity_expires)return{uid2:{id:e.latestToken.advertising_token}};return null}(e);return qi("UID2 decode returned",t),t},getId:function(e,t){var r,n,i,a,o,s,d,c;if(!0!==(null==t?void 0:t.gdprApplies)){var u={apiBaseUrl:null!=(r=null==e||null==(n=e.params)?void 0:n.uid2ApiBase)?r:"https://prod.uidapi.com",paramToken:null==e||null==(i=e.params)?void 0:i.uid2Token,serverCookieName:null!=(a=null==e||null==(o=e.params)?void 0:o.uid2Cookie)?a:null==e||null==(s=e.params)?void 0:s.uid2ServerCookie,storage:null!=(d=null==e||null==(c=e.params)?void 0:c.storage)?d:"localStorage",clientId:"PrebidJS-7.54.1-UID2Module-1.1",internalStorage:"__uid2_advertising_token"};qi("UID2 configuration loaded and mapped.",u);var l=function(e,t,r,n){var i,a,o,s=null,d="cookie"!==e.storage,c=new Di(t,d,e.internalStorage,r);r("Module is using "+(d?"local storage":"cookies")+" for internal storage."),e.paramToken?(s=e.paramToken,r("Read token from params",s)):e.serverCookieName&&(s=c.readProvidedCookie(e.serverCookieName),r("Read token from server-supplied cookie",s));var u,l,p=c.getStoredValueWithFallback();if(r("Loaded module-stored tokens:",p),p&&"string"==typeof p){if(!s)return r("Returning legacy cookie value."),{id:p};r("Discarding superseded legacy cookie."),p=null}s&&p&&(null==(u=p.originalToken)?void 0:u.advertising_token)!==s.advertising_token&&(r("Server supplied new token - ignoring stored value.",null==(l=p.originalToken)?void 0:l.advertising_token,s.advertising_token),p=null);var f=!(null!=(i=p)&&i.latestToken)||s&&s.identity_expires>p.latestToken.identity_expires,b=f?s:p.latestToken;if(r("UID2 module selected latest token",f,b),!b||Date.now()>b.refresh_expires)return r("Newest available token is expired and not refreshable."),{id:null};if(Date.now()>b.identity_expires){var g=Bi(e.apiBaseUrl,b,e.clientId,c,r,n);return r("Token is expired but can be refreshed, attempting refresh."),{callback:function(e){g.then((function(t){r("Refresh reponded, passing the updated token on.",t),e(t)}))}}}Date.now()>b.refresh_from&&(r("Refreshing token in background with low priority."),Bi(e.apiBaseUrl,b,e.clientId,c,r,n));var m={originalToken:null!=(a=s)?a:null==(o=p)?void 0:o.originalToken,latestToken:b};return c.storeValue(m),{id:m}}(u,zi,qi,Wi);return qi("UID2 getId returned",l),l}Wi("UID2 is not intended for use where GDPR applies. The UID2 module will not run.")}};function Fi(e){void 0===e&&(e={});var t=e.setTimeout;this.setTimeout=void 0===t?window.setTimeout.bind(window):t,this.logger=e.logger,this.rules=[]}function Vi(e,t){var r=t.hook,n=t.logger;Ni=Yi.bind({overrides:e,logger:n}),r.get("addBidResponse").before(Ni,5),Mi=Xi.bind({overrides:e,logger:n}),r.get("addBidderRequests").before(Mi,5)}function Gi(e){var t=e.hook;t.get("addBidResponse").getHooks({hook:Ni}).remove(),t.get("addBidderRequests").getHooks({hook:Mi}).remove()}function Ki(e,t,r){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===r)}function Hi(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function Ji(e,t,r,n){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,i){return n.logMessage("bidder overrides changed '"+t.adUnitCode+"/"+t.bidderCode+"' "+r+"."+i+" from '"+t[i]+".js' to '"+e[i]+"'"),t[i]=e[i],t.isDebug=!0,t}),t)}function Yi(e,t,r,n){var i=this.overrides,a=this.logger;Hi(i.bidders,r.bidderCode)?a.logWarn("bidder '"+r.bidderCode+"' excluded from auction by bidder overrides"):(Array.isArray(i.bids)&&i.bids.forEach((function(e){Ki(e,r.bidderCode,t)||Ji(e,r,"bidder",a)})),e(t,r,n))}function Xi(e,t){var r=this.overrides,n=this.logger,i=t.filter((function(e){return!Hi(r.bidders,e.bidderCode)||(n.logWarn("bidRequest '"+e.bidderCode+"' excluded from auction by bidder overrides"),!1)}));Array.isArray(r.bidRequests)&&i.forEach((function(e){r.bidRequests.forEach((function(t){e.bids.forEach((function(r){Ki(t,e.bidderCode,r.adUnitCode)||Ji(t,r,"bidRequest",n)}))}))})),e(i)}Object(Q.e)("userId",Li),Object(w.b)("uid2IdSystem"),Object(S.default)(Fi.prototype,{DEFAULT_RULE_OPTIONS:{delay:0},serializeConfig:function(e){var t=this;return e.filter((function(e,r){var n=Object(A.deepEqual)(e,JSON.parse(JSON.stringify(e)),{checkTypes:!0});return n||Object(C.a)(e,"options.suppressWarnings")||t.logger.logWarn("Bid interceptor rule definition #"+(r+1)+" is not serializable and will be lost after a refresh. Rule definition: ",e),n}))},updateConfig:function(e){var t=this;this.rules=(e.intercept||[]).map((function(e,r){return t.rule(e,r+1)}))},rule:function(e,t){return{no:t,match:this.matcher(e.when,t),replace:this.replacer(e.then||{},t),options:Object(S.default)({},this.DEFAULT_RULE_OPTIONS,e.options)}},matcher:function(e,t){if("function"==typeof e)return e;if("object"!=typeof e)return this.logger.logError("Invalid 'when' definition for debug bid interceptor (in rule #"+t+")"),function(){return!1};function r(t,n){var i=n.ref,a=void 0===i?e:i,o=n.args,s=void 0===o?[]:o;return Object.entries(a).map((function(e){var n=e[0],i=e[1],a=t[n];return i instanceof RegExp?null!=i.exec(a):"function"==typeof i?!!i.apply(void 0,[a].concat(s)):"object"==typeof i?r(a,{ref:i,args:s}):a===i})).every((function(e){return e}))}return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return r(e,{args:n})}},replacer:function(e,t){var r,n=this;return"function"==typeof e?r=function(t){var r=t.args;return e.apply(void 0,r)}:"object"!=typeof e?(this.logger.logError("Invalid 'then' definition for debug bid interceptor (in rule #"+t+")"),r=function(){return{}}):r=function(t){var n=t.args,i=t.ref,a=void 0===i?e:i,o=Array.isArray(a)?[]:{};return Object.entries(a).forEach((function(e){var t=e[0],i=e[1];o[t]="function"==typeof i?i.apply(void 0,n):null!=i&&"object"==typeof i?r({args:n,ref:i}):i})),o},function(e){for(var t=n.responseDefaults(e),i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Object(A.mergeDeep)(t,r({args:[e].concat(a)})),t.hasOwnProperty("ad")||t.hasOwnProperty("adUrl")||(t.ad=n.defaultAd(e,t)),t.isDebug=!0,t}},responseDefaults:function(e){return{requestId:e.bidId,cpm:3.5764,currency:"EUR",width:300,height:250,ttl:360,creativeId:"mock-creative-id",netRevenue:!1,meta:{}}},defaultAd:function(e,t){return"<html><head><style>#ad {width: "+t.width+"px;height: "+t.height+'px;background-color: #f6f6ae;color: #85144b;padding: 5px;text-align: center;display: flex;flex-direction: column;align-items: center;justify-content: center;}#bidder {font-family: monospace;font-weight: normal;}#title {font-size: x-large;font-weight: bold;margin-bottom: 5px;}#body {font-size: large;margin-top: 5px;}</style></head><body><div id="ad"><div id="title">Mock ad: <span id="bidder">'+e.bidder+'</span></div><div id="body">'+t.width+"x"+t.height+"</div></div></body></html>"},match:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.rules.find((function(t){return t.match.apply(t,[e].concat(r))}))},matchAll:function(e,t){var r=this,n=[],i=[];return e.forEach((function(e){var a=r.match(e,t);null!=a?n.push({rule:a,bid:e}):i.push(e)})),[n,i]},intercept:function(e){var t=this,r=e.bids,n=e.bidRequest,i=e.addBid,a=e.done;null==r&&(r=n.bids);var o=this.matchAll(r,n),s=o[0],d=o[1];if(s.length>0){var c=Object(A.delayExecution)(a,s.length);s.forEach((function(e){var r=e.rule.replace(e.bid,n),a=e.rule.options.delay;t.logger.logMessage("Intercepted bid request (matching rule #"+e.rule.no+"), mocking response in "+a+"ms. Request, response:",e.bid,r),t.setTimeout((function(){i(r,e.bid),c()}),a)})),r=(n=Object(A.deepClone)(n)).bids=d}else this.setTimeout(a,0);return{bids:r,bidRequest:n}}});var Qi,$i=[],Zi=!1;function ea(e,t){var r=t.fromSession,n=void 0!==r&&r,i=t.config,a=t.hook,o=t.logger;i.setConfig({debug:!0}),Qi.updateConfig(e),ra(!0),Gi({hook:a}),Vi(e,{hook:a,logger:o}),Zi||(Zi=!0,o.logMessage("Debug overrides enabled"+(n?" from session":"")))}function ta(e,t){var r=void 0===t?{}:t,n=r.getStorage,i=void 0===n?function(){return window.sessionStorage}:n,a=r.DEBUG_KEY,o=r.config,s=r.hook,d=r.logger;if(null!=e){var c;try{c=i()}catch(e){d.logError("sessionStorage is not available: debugging configuration will not persist on page reload",e)}null!=c&&function(e,t){var r=void 0===t?{}:t,n=r.sessionStorage,i=void 0===n?window.sessionStorage:n,a=r.DEBUG_KEY;if(e.enabled){e.intercept&&((e=Object(A.deepClone)(e)).intercept=Qi.serializeConfig(e.intercept));try{i.setItem(a,JSON.stringify(e))}catch(e){}}else try{i.removeItem(a)}catch(e){}}(e,{sessionStorage:c,DEBUG_KEY:a}),e.enabled?ea(e,{config:o,hook:s,logger:d}):function(e){var t=e.hook,r=e.logger;Qi.updateConfig({}),ra(!1),Gi({hook:t}),Zi&&(Zi=!1,r.logMessage("Debug overrides disabled"))}({hook:s,logger:d})}}function ra(e){$i.forEach((function(e){var t=e[0],r=e[1];t().getHooks({hook:r}).remove()})),e&&$i.forEach((function(e){var t=e[0],r=e[1];t().before(r)}))}function na(e,t){var r=function(){var e;return(e=Qi).intercept.apply(e,arguments)};$i.push([e,function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t.apply(void 0,[e,r].concat(i))}])}function ia(e,t,r,n,i,a,o,s){var d=Object(A.delayExecution)(s.onCompletion,2),c=t({bids:n,bidRequest:i,addBid:s.onBid,done:d});n=c.bids,i=c.bidRequest,0===n.length?d():e(r,n,i,a,o,Object(S.default)({},s,{onCompletion:d}))}!function(e){var t=e.DEBUG_KEY,r=e.config,n=e.hook,i=e.createBid,a=e.logger;Qi=new Fi({logger:a});var o=function(e){var t=e.createBid;return function(e,r,n,i,a,o){var s,d=o.onResponse,c=o.onError,u=o.onBid,l=Object(A.delayExecution)((function(){return d.apply(void 0,s)}),i.length+1);function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s=t,l()}function f(e,r){u({adUnit:r.adUnitCode,bid:Object(S.default)(t(k.STATUS.GOOD,r),e)})}if((i=i.map((function(e){return r({bidRequest:e,addBid:f,done:l}).bidRequest})).filter((function(e){return e.bids.length>0}))).length>0){var b=new Set;i.forEach((function(e){return e.bids.forEach((function(e){return b.add(e.bidId)}))})),(n=Object(A.deepClone)(n)).ad_units.forEach((function(e){e.bids=e.bids.filter((function(e){return b.has(e.bid_id)}))})),n.ad_units=n.ad_units.filter((function(e){return e.bids.length>0})),e(n,i,a,{onResponse:p,onError:c,onBid:u})}else p(!0,[])}}({createBid:i});na((function(){return n.get("processBidderRequests")}),ia),na((function(){return n.get("processPBSRequest")}),o),function(e){var t,r=e.DEBUG_KEY,n=e.storage,i=e.config,a=e.hook,o=e.logger;try{n=n||window.sessionStorage,t=JSON.parse(n.getItem(r))}catch(e){}t&&ea(t,{fromSession:!0,config:i,hook:a,logger:o})}({DEBUG_KEY:t,config:r,hook:n,logger:a}),r.getConfig("debugging",(function(e){return ta(e.debugging,{DEBUG_KEY:t,config:r,hook:n,logger:a})}),{init:!0})}({DEBUG_KEY:"__jwpb_debugging__",config:N.b,hook:Q.b,createBid:se.a,logger:Object(A.prefixLog)("DEBUG:")}),Object(w.b)("debugging");var aa=Object(w.a)();var oa,sa,da={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},ca={},ua={ri:ve.a};function la(e,t,r){return Object(C.a)(t,r+".description_url")||encodeURIComponent(ua.ri().page)}function pa(e,t,r){var n,i=e&&e.adserverTargeting||{},a={},o=t&&t.adUnit;if(o){var s=oe.getAllTargeting(o.code);a=s?s[o.code]:{}}var d=Object(S.default)({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},a,i);P.emit(k.EVENTS.SET_TARGETING,((n={})[o.code]=d,n));var c=Object(C.a)(t,"params.cust_params"),u=Object(S.default)({},d,c),l=encodeURIComponent(Object(A.formatQS)(u));return r&&(l=r+"%26"+l),l}N.b.getConfig("brandCategoryTranslation.translationFile")&&Object(Q.a)("registerAdserver").before((function(e){e.call(this,"dfp")})),function(e,t){aa.adServers=aa.adServers||{},aa.adServers[e]=aa.adServers[e]||{},Object.keys(t).forEach((function(r){aa.adServers[e][r]?Object(A.logWarn)("Attempting to add an already registered function property "+r+" for AdServer "+e+"."):aa.adServers[e][r]=t[r]}))}("dfp",{buildVideoUrl:function(e){if(e.params||e.url){var t=e.adUnit,r=e.bid||oe.getWinningBids(t.code)[0],n={};if(e.url&&(n=Object(A.parseUrl)(e.url,{noDecodeWholeURL:!0}),Object(A.isEmpty)(e.params)))return function(e,t,r){var n=la(t,e,"search");n&&(e.search.description_url=n);return e.search.cust_params=pa(t,r,e.search.cust_params),Object(A.buildUrl)(e)}(n,r,e);var i={correlator:Date.now(),sz:Object(A.parseSizesInput)(Object(C.a)(t,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},a=n.search,o=a&&a.sz;o&&(i.sz=o+"|"+i.sz);var s=pa(r,e,a&&a.cust_params),d=Object(S.default)({},da,n.search,i,e.params,{cust_params:s}),c=la(r,e,"params");c&&(d.description_url=c);var u=ge.b.getConsentData();u&&("boolean"==typeof u.gdprApplies&&(d.gdpr=Number(u.gdprApplies)),u.consentString&&(d.gdpr_consent=u.consentString),u.addtlConsent&&(d.addtl_consent=u.addtlConsent));var l=ge.e.getConsentData();l&&(d.us_privacy=l);ge.d.getConsentData();if(!d.ppid){var p=dn();null!=p&&(d.ppid=p)}return Object(A.buildUrl)(Object(S.default)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},n,{search:d}))}Object(A.logError)("A params object or a url is required to use jwpb.adServers.dfp.buildVideoUrl")},buildAdpodVideoUrl:function(e){var t=void 0===e?{}:e,r=t.code,n=t.params,i=t.callback;if(n&&i){var a={correlator:Date.now(),sz:function(e){var t=D.a.getAdUnits().filter((function(t){return t.code===e})),r=Object(C.a)(t[0],"mediaTypes.video.playerSize");return Object(A.parseSizesInput)(r).join("|")}(r),url:encodeURIComponent(location.href)};ca.getTargeting({codes:[r],callback:function(e,t){var o;if(e)return void i(e,null);var s=((o={})[ca.TARGETING_KEY_PB_CAT_DUR]=void 0,o[ca.TARGETING_KEY_CACHE_ID]=void 0,o),d={};t[r]&&(d=t[r].reduce((function(e,t){return Object.keys(t)[0]===ca.TARGETING_KEY_PB_CAT_DUR?e[ca.TARGETING_KEY_PB_CAT_DUR]=void 0!==e[ca.TARGETING_KEY_PB_CAT_DUR]?e[ca.TARGETING_KEY_PB_CAT_DUR]+","+t[ca.TARGETING_KEY_PB_CAT_DUR]:t[ca.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===ca.TARGETING_KEY_CACHE_ID&&(e[ca.TARGETING_KEY_CACHE_ID]=t[ca.TARGETING_KEY_CACHE_ID]),e}),s));var c=encodeURIComponent(Object(A.formatQS)(d)),u=Object(S.default)({},da,a,n,{cust_params:c}),l=ge.b.getConsentData();l&&("boolean"==typeof l.gdprApplies&&(u.gdpr=Number(l.gdprApplies)),l.consentString&&(u.gdpr_consent=l.consentString),l.addtlConsent&&(u.addtl_consent=l.addtlConsent));var p=ge.e.getConsentData();p&&(u.us_privacy=p);var f=Object(A.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:u});i(null,f)}})}else Object(A.logError)("A params object and a callback is required to use pbjs.adServers.dfp.buildAdpodVideoUrl")},getAdpodTargeting:function(e){return ca.getTargeting(e)}}),Object(Q.e)("adpod",ca),Object(w.b)("dfpAdServerVideo");var fa=["video/mp4","video/ogg","video/webm","video/aac","application/vnd.apple.mpegurl"],ba=function(e){return"https://vpb-"+e+".jwplayer.com/"},ga=ba("cache")+"cache",ma=ba("server"),va={adtelligent:"Adtelligent",appnexus:"AppNexus",axonix:"Axonix",criteo:"criteo",emx:"EMX",mediagrid:"MediaGrid",medianet:"MediaNet",improvedigital:"improvedigital",indexexchange:"IndexExchange",jwdemand:"jwdemand",kargo:"kargo",openx:"OpenX",pubmatic:"PubMatic",rubicon:"Rubicon",smartadserver:"SmartAdServer",sonobi:"Sonobi",sovrn:"Sovrn",spotx:"SpotX",synacormedia:"SynacorMedia",thetradedesk:"TheTradeDesk",unruly:"Unruly",videobyte:"VideoByte",yahoossp:"YahooSSP"},ha=["Adtelligent","AppNexus","Axonix","criteo","EMX","improvedigital","IndexExchange","jwdemand","kargo","MediaNet","MediaGrid","OpenX","PubMatic","Rubicon","SmartAdServer","Sonobi","Sovrn","SpotX","SynacorMedia","TheTradeDesk","Unruly","VideoByte","YahooSSP"],ya=((oa={})[["dfp"]]=ha,oa[["jwp"]]=ha,oa[["jwpdfp"]]=ha,oa[["jwpspotx"]]=["SpotX"],oa),Oa=["axonix","improvedigital","sonobi","smartadserver","videobyte","openx","unruly","sovrn"],ja=2,_a=7,Ia=2,Ea=3,Ta=5,Sa=6,wa=7,Aa=8,Ca=1,xa=2,Pa=3,Ra=5,ka=6,Da=7,Ba=((sa={})[["noBid"]]=0,sa[["bid"]]=1,sa[["timeout"]]=2,sa[["invalid"]]=3,sa[["abort"]]=4,sa[["error"]]=5,sa[["blocked"]]=6,sa);function Ua(e,t,r,n){void 0===n&&(n={});var i=e.createElement(t);return i.appendChild(e.createCDATASection(r)),Object.keys(n).forEach((function(e){i.setAttribute(e,n[e])})),i}function Na(e){void 0===e&&(e=[]);var t=document.createElement("video");return e.filter((function(e){return t.canPlayType(e)})).concat("application/javascript")}function Ma(e,t){return e===k.GRANULARITY_OPTIONS.DENSE?t.pbDg:e===k.GRANULARITY_OPTIONS.LOW?t.pbLg:e===k.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:e===k.GRANULARITY_OPTIONS.HIGH?t.pbHg:e===k.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:t.pbAg}function qa(e){if("start"===e||"0%"===e||!e||"pre"===e||"00:00:00"===e)return 0;if("end"===e||"100%"===e||"post"===e)return-2;if("string"==typeof e&&e.indexOf("%")>=0)return-1;var t=parseInt(e);return t>=0?t:-1}function Wa(e){return!(e.advertising.outstream||!1)}function za(e){return"dfp"===e||"jwpdfp"===e}function La(e){return"jwp"===e||"jwpdfp"===e||"jwpspotx"===e}var Fa=Date.now||function(){return(new Date).getTime()};function Va(){try{return null!==(t=document.documentElement).getAttribute("")||null!==t.getAttribute("amp")||(e=document.location.search,/isAMP=true/.test(e))}catch(e){return!1}var e,t}function Ga(e,t){if(e||t){var r,n={};e&&(n.url=e.file,n.title=e.title,r=e.mediaid),r&&(n.url="http://cdn.jwplayer.com/manifests/"+r+".m3u8");var i={name:"jwplayer.com",ext:{}},a=function(e){if(!e)return;if("string"==typeof e)return[e];if(Array.isArray(e)&&e.length)return e}(r);return a&&(n.id="jw_"+a[0],i.ext.cids=a),t&&(i.ext.segtax=502,i.segment=t),n.data=[i],{site:{content:n}}}}function Ka(e,t,r){if(!za(t)||!r)return e;var n=function(e){try{return new URL(e).searchParams.get("iu")}catch(e){}}(r);return n||e}var Ha,Ja=["",1,2],Ya={default:(Ha=0,function(){return"ghb"+Ja[Ha++%Ja.length]+".adtelligent.com"}),navelix:function(){return"ghb.hb.navelix.com"},appaloosa:function(){return"ghb.hb.appaloosa.media"},onefiftytwomedia:function(){return"ghb.ads.152media.com"},bidsxchange:function(){return"ghb.hbd.bidsxchange.com"},streamkey:function(){return"ghb.hb.streamkey.net"},janet:function(){return"ghb.bidder.jmgads.com"},pgam:function(){return"ghb.pgamssp.com"},ocm:function(){return"ghb.cenarius.orangeclickmedia.com"},vidcrunchllc:function(){return"ghb.platform.vidcrunch.com"},"9dotsmedia":function(){return"ghb.platform.audiodots.com"},copper6:function(){return"ghb.app.copper6.com"}},Xa={},Qa={code:"adtelligent",gvlid:410,aliases:["onefiftytwomedia","appaloosa","bidsxchange","streamkey","janet",{code:"selectmedia",gvlid:775},{code:"navelix",gvlid:380},"pgam",{code:"ocm",gvlid:1148},{code:"vidcrunchllc",gvlid:1145},"9dotsmedia","copper6"],supportedMediaTypes:[X.d,X.b],isBidRequestValid:function(e){return!!Object(C.a)(e,"params.aid")},getUserSyncs:function(e,t){var r=[];function n(t){var n=t.cookieURLs,i=t.cookieURLSTypes||[];Array.isArray(n)&&n.forEach((function(t,n){var a=i[n]||"image";!e.pixelEnabled&&"image"===a||!e.iframeEnabled&&"iframe"===a||Xa[t]||(Xa[t]=!0,r.push({type:a,url:t}))}))}return(e.pixelEnabled||e.iframeEnabled)&&Object(A.isArray)(t)&&t.forEach((function(e){e.body&&(Object(A.isArray)(e.body)?e.body.forEach((function(e){n(e)})):n(e.body))})),r},buildRequests:function(e,t){var r=N.b.getConfig(t.bidderCode),n=Object(C.a)(r,"chunkSize",10),i=function(e,t){var r={Domain:Object(C.a)(t,"refererInfo.page")};!0===N.b.getConfig("coppa")&&(r.Coppa=1);Object(C.a)(t,"gdprConsent.gdprApplies")&&(r.GDPR=1,r.GDPRConsent=Object(C.a)(t,"gdprConsent.consentString"));Object(C.a)(t,"uspConsent")&&(r.USP=Object(C.a)(t,"uspConsent"));Object(C.a)(e[0],"schain")&&(r.Schain=Object(C.a)(e[0],"schain"));Object(C.a)(e[0],"userId")&&(r.UserIds=Object(C.a)(e[0],"userId"));Object(C.a)(e[0],"userIdAsEids")&&(r.UserEids=Object(C.a)(e[0],"userIdAsEids"));window.adtDmp&&window.adtDmp.ready&&(r.DMPId=window.adtDmp.getUID());for(var n=[],i=0,a=e.length;i<a;i++){var o=Za(e[i]);n.push(o)}return{tag:r,bids:n}}(e,t),a=i.tag,o=i.bids,s=Object(A.chunk)(o,n);return Object(A._map)(s,(function(e){return{data:Object(S.default)({},a,{BidRequests:e}),adapterRequest:t,method:"POST",url:(r=t.bidderCode,n=r.split("_")[0],"https://"+(Ya[n]||Ya.default)()+"/v2/auction/")};var r,n}))},interpretResponse:function(e,t){var r=t.adapterRequest;e=e.body;var n=[];return Object(A.isArray)(e)?(e.forEach((function(e){n=Object(A.flatten)(n,$a(e,r))})),n):$a(e,r)},transformBidParams:function(e){return Object(A.convertTypes)({aid:"number"},e)}};function $a(e,t){var r=!e||!Object(A.isArray)(e.bids),n=[];return r||e.bids.forEach((function(e){var r=Object(B.b)(t.bids,(function(t){return t.bidId===e.requestId}));if(0!==e.cpm&&void 0!==r){var i=function(e,t){var r=(a=t,Object(C.a)(a,"mediaTypes.video")?X.d:X.b),n=Object(C.a)(t,"mediaTypes.video.context"),i={requestId:e.requestId,creativeId:e.cmpId,height:e.height,currency:e.cur,width:e.width,cpm:e.cpm,netRevenue:!0,mediaType:r,ttl:300,meta:{advertiserDomains:e.adomain||[]}};var a;if(r===X.b)return Object(S.default)(i,{ad:e.ad,adUrl:e.adUrl});n===X.a&&Object(S.default)(i,{meta:{primaryCatId:e.primaryCatId},video:{context:X.a,durationSeconds:e.durationSeconds}});Object(S.default)(i,{vastUrl:e.vastUrl}),"outstream"===n&&Object(S.default)(i,{adResponse:e,renderer:eo(e.requestId,t.params)});return i}(e,r);n.push(i)}})),n}function Za(e){var t=Object(C.a)(e,"mediaTypes.video")?X.d:"display",r=t===X.d?Object(C.a)(e,"mediaTypes.video.playerSize"):Object(C.a)(e,"mediaTypes.banner.sizes"),n={CallbackId:e.bidId,Aid:e.params.aid,AdType:t,Sizes:Object(A.parseSizesInput)(r).join(",")};(n.PlacementId=e.adUnitCode,e.params.iframe&&(n.AdmType="iframe"),e.params.vpb_placement_id&&(n.PlacementId=e.params.vpb_placement_id),t===X.d)&&(Object(C.a)(e,"mediaTypes.video.context")===X.a&&(n.Adpod=Object(C.a)(e,"mediaTypes.video")));return n}function eo(e,t){var r=U.a.install({id:e,url:"https://player.adtelligent.com/outstream-unit/2.01/outstream.min.js",config:t.outstream||{},loaded:!1});return r.setRender(to),r}function to(e){e.renderer.push((function(){var t=Object(S.default)({},e.renderer.getConfig(),{width:e.width,height:e.height,vastUrl:e.vastUrl,elId:e.adUnitCode});window.VOutstreamAPI.initOutstreams([t])}))}Object(cr.e)(Qa),Object(w.b)("adtelligentBidAdapter");var ro=Qa.code;function no(e,t){return{bidder:ro,params:{aid:parseInt(t.id)}}}function io(e){return!!e&&void 0!==e.id}var ao=r(25),oo=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],so=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],co=["age","externalUid","external_uid","segments","gender","dnt","language"],uo=["geo","device_id"],lo=["enabled","dongle","member_id","debug_timeout"],po={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},fo={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},bo={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},go=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,mo=Object(be.d)({bidderCode:"appnexus"}),vo={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"defymedia",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32}],supportedMediaTypes:[X.b,X.d,X.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){var r,n,i=(e=Object(R.b)(e)).map(Oo),a=Object(B.b)(e,_o),o={};!0===N.b.getConfig("coppa")&&(o={coppa:!0}),a&&Object.keys(a.params.user).filter((function(e){return Object(B.c)(co,e)})).forEach((function(e){var t=Object(A.convertCamelToUnderscore)(e);if("segments"===e&&Object(A.isArray)(a.params.user[e])){var r=[];a.params.user[e].forEach((function(e){Object(A.isNumber)(e)?r.push({id:e}):Object(A.isPlainObject)(e)&&r.push(e)})),o[t]=r}else"segments"!==e&&(o[t]=a.params.user[e])}));var s,d=Object(B.b)(e,Eo);d&&d.params&&d.params.app&&(s={},Object.keys(d.params.app).filter((function(e){return Object(B.c)(uo,e)})).forEach((function(e){return s[e]=d.params.app[e]})));var c,u=Object(B.b)(e,To);u&&u.params&&d.params.app&&d.params.app.id&&(c={appid:u.params.app.id});var l={},p={},f=mo.getCookie("apn_prebid_debug")||null;if(f)try{l=JSON.parse(f)}catch(e){Object(A.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(po).forEach((function(e){var t=Object(A.getParameterByName)(e);Object(A.isStr)(t)&&""!==t&&(l[po[e]]=t,l.enabled=!0)})),l=Object(A.convertTypes)({member_id:"number",debug_timeout:"number"},l);var b=Object(B.b)(e,So);b&&b.debug&&(l=b.debug)}l&&l.enabled&&Object.keys(l).filter((function(e){return Object(B.c)(lo,e)})).forEach((function(e){p[e]=l[e]}));var g=Object(B.b)(e,Io),m=g?parseInt(g.params.member,10):0,v=e[0].schain,h=Object(B.b)(e,Ao),y={tags:[].concat(i),user:o,sdk:{source:"pbjs",version:"7.54.1"},schain:v};h&&(y.iab_support={omidpn:"Appnexus",omidpv:"7.54.1"}),m>0&&(y.member_id=m),d&&(y.device=s),u&&(y.app=c);var O,j,_=Object(A.deepClone)(t&&t.ortb2),I=(O=_,j=[],["site.keywords","site.content.keywords","user.keywords","app.keywords","app.content.keywords"].forEach((function(e){var t=Object(C.a)(O,e);Object(A.isStr)(t)&&j.push(t)})),j).map((function(e){return ko(e)})),E=Object(A.deepClone)(N.b.getConfig("appnexusAuctionKeywords"))||{};Object.keys(E).forEach((function(e){(Object(A.isStr)(E[e])||Object(A.isNumber)(E[e]))&&(E[e]=[E[e]])}));var T=A.mergeDeep.apply(void 0,[{},E].concat(I)),S=Object(A.transformBidderParamKeywords)(T);if(S.length>0&&(S.forEach(yo),y.keywords=S),N.b.getConfig("adpod.brandCategoryExclusion")&&(y.brand_category_uniqueness=!0),p.enabled&&(y.debug=p,Object(A.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(p,null,4))),t&&t.gdprConsent&&(y.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var w=t.gdprConsent.addtlConsent,x=w.substring(w.indexOf("~")+1);y.gdpr_consent.addtl_consent=x.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(y.us_privacy=t.uspConsent),null!=t&&t.gppConsent?y.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!=(r=t.ortb2)&&null!=(n=r.regs)&&n.gpp&&(y.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){var P={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")},k=t.refererInfo.canonicalUrl;Object(A.isStr)(k)&&""!==k&&(P.rd_can=k),y.referrer_detection=P}if(Object(B.b)(e,wo)&&e.filter(wo).forEach((function(e){var t=function(e,t){var r=t.mediaTypes.video,n=r.durationRangeSec,i=r.requireExactDuration,a=function(e){var t=e.adPodDurationSec,r=e.durationRangeSec,n=e.requireExactDuration,i=Object(A.getMinValueFromArray)(r),a=Math.floor(t/i);return n?Math.max(a,r.length):a}(t.mediaTypes.video),o=Object(A.getMaxValueFromArray)(n),s=e.filter((function(e){return e.uuid===t.bidId})),d=A.fill.apply(void 0,s.concat([a]));if(i){var c=Math.ceil(a/n.length),u=Object(A.chunk)(d,c);n.forEach((function(e,t){u[t].map((function(t){Co(t,"minduration",e),Co(t,"maxduration",e)}))}))}else d.map((function(e){return Co(e,"maxduration",o)}));return d}(i,e),r=y.tags.filter((function(t){return t.uuid!==e.bidId}));y.tags=[].concat(r,t)})),e[0].userId){var D=[];e[0].userIdAsEids.forEach((function(e){!e||!e.uids||e.uids.length<1||e.uids.forEach((function(t){var r={source:e.source,id:t.id};"adserver.org"==e.source?r.rti_partner="TDID":"uidapi.com"==e.source&&(r.rti_partner="UID2"),D.push(r)}))})),D.length&&(y.eids=D)}return i[0].publisher_id&&(y.publisher_id=i[0].publisher_id),function(e,t){var r=[],n={withCredentials:!0},i="https://ib.adnxs.com/ut/v3/prebid";Object(pr.a)(null==t?void 0:t.gdprConsent)||(i="https://ib.adnxs-simple.com/ut/v3/prebid");"TRUE"!==Object(A.getParameterByName)("apn_test").toUpperCase()&&!0!==N.b.getConfig("apn_test")||(n.customHeaders={"X-Is-Test":1});if(e.tags.length>15){var a=Object(A.deepClone)(e);Object(A.chunk)(e.tags,15).forEach((function(e){a.tags=e;var o=JSON.stringify(a);r.push({method:"POST",url:i,data:o,bidderRequest:t,options:n})}))}else{var o=JSON.stringify(e);r={method:"POST",url:i,data:o,bidderRequest:t,options:n}}return r}(y,t)},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var i=[];if(!e||e.error){var a="in response for "+n.bidderCode+" adapter";return e&&e.error&&(a+=": "+e.error),Object(A.logError)(a),i}if(e.tags&&e.tags.forEach((function(e){var t,a=(t=e)&&t.ads&&t.ads.length&&Object(B.b)(t.ads,(function(e){return e.rtb}));if(a&&((!0===$.a.get(n.bidderCode,"allowZeroCpmBids")?a.cpm>=0:a.cpm>0)&&Object(B.c)(r.supportedMediaTypes,a.ad_type))){var o=function(e,t,r){var n=Object(A.getBidRequest)(e.uuid,[r]),i=Object(A.getUniqueIdentifierStr)(),a={adId:i,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};t.adomain&&(a.meta=Object(S.default)({},a.meta,{advertiserDomains:[t.adomain]}));t.advertiser_id&&(a.meta=Object(S.default)({},a.meta,{advertiserId:t.advertiser_id}));t.buyer_member_id&&(a.meta=Object(S.default)({},a.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)}));t.brand_id&&(a.meta=Object(S.default)({},a.meta,{brandId:t.brand_id}));if(t.rtb.video){switch(Object(S.default)(a,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),Object(C.a)(n,"mediaTypes.video.context")){case X.a:var o=Object(cr.b)(n.bidder,t.brand_category_id);a.meta=Object(S.default)({},a.meta,{primaryCatId:o});var s=t.deal_priority;a.video={context:X.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:s},a.vastUrl=t.rtb.video.asset_url;break;case ao.b:if(a.adResponse=e,a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video,a.vastXml=t.rtb.video.content,t.renderer_url){var d=Object(B.b)(r.bids,(function(t){return t.bidId===e.uuid})),c=Object(C.a)(d,"mediaTypes.video.renderer.options");c||(c=Object(C.a)(d,"renderer.options")),a.renderer=function(e,t,r){void 0===r&&(r={});var n=U.a.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{n.setRender(xo)}catch(e){Object(A.logWarn)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return Object(A.logMessage)("AppNexus outstream video impression event")},loaded:function(){return Object(A.logMessage)("AppNexus outstream video loaded event")},ended:function(){Object(A.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#"+e).style.display="none"}}),n}(a.adUnitCode,t,c)}break;case ao.a:a.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}}else if(t.rtb[X.c]){var u,l=t.rtb[X.c];if(function(e){if(!e||""===e)return!1;var t=e.match(go),r=null!=t&&t.length>=1,n=e.match("trk.js"),i=null!=n&&n.length>=1;return e.startsWith("<script")&&i&&r}(t.viewability.config)){var p="pbjs_adid="+i+";pbjs_auc="+n.adUnitCode;u=t.viewability.config.replace("dom_id=%native_dom_id%",p)}var f=l.javascript_trackers;null==f?f=u:Object(A.isStr)(f)?f=[f,u]:f.push(u),a[X.c]={title:l.title,body:l.desc,body2:l.desc2,cta:l.ctatext,rating:l.rating,sponsoredBy:l.sponsored,privacyLink:l.privacy_link,address:l.address,downloads:l.downloads,likes:l.likes,phone:l.phone,price:l.price,salePrice:l.saleprice,clickUrl:l.link.url,displayUrl:l.displayurl,clickTrackers:l.link.click_trackers,impressionTrackers:l.impression_trackers,video:l.video,javascriptTrackers:f},l.main_img&&(a.native.image={url:l.main_img.url,height:l.main_img.height,width:l.main_img.width}),l.icon&&(a.native.icon={url:l.icon.url,height:l.icon.height,width:l.icon.width})}else{Object(S.default)(a,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var b=0;b<t.rtb.trackers[0].impression_urls.length;b++){var g=t.rtb.trackers[0].impression_urls[b],m=Object(A.createTrackPixelHtml)(g);a.ad+=m}}catch(e){Object(A.logError)("Error appending tracking pixel",e)}}return a}(e,a,n);o.mediaType=function(e){var t=e.ad_type;return t===X.d?X.d:t===X.c?X.c:X.b}(a),i.push(o)}})),e.debug&&e.debug.debug_info){var o="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;o=o.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),Object(A.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),Object(A.logMessage)(o)}return i},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,r,n,i){if(e.iframeEnabled&&Object(pr.a)(r)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((function(e){return"number"==typeof e&&e<=5}))}(i))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,r,n){var i=A.transformBidderParamKeywords;if(!0===t){var a=null,o=N.b.getConfig("s2sConfig");Object(A.isPlainObject)(o)?a=Object(C.a)(o,"endpoint.p1Consent"):Object(A.isArray)(o)&&o.forEach((function(e){Object(B.c)(e.bidders,r.bids[0].bidder)&&(a=Object(C.a)(e,"endpoint.p1Consent"))})),a&&a.match("/openrtb2/prebid")&&(i=Ro)}return e=Object(A.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:i,publisherId:"number"},e),t&&(ho(e.keywords)&&e.keywords.forEach(yo),Object.keys(e).forEach((function(t){var r=Object(A.convertCamelToUnderscore)(t);r!==t&&(e[r]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function ho(e){return!!(Object(A.isArray)(e)&&e.length>0)}function yo(e){ho(e.value)&&""===e.value[0]&&delete e.value}function Oo(e){var t={};Object.keys(e.params).forEach((function(t){var r=Object(A.convertCamelToUnderscore)(t);r!==t&&(e.params[r]=e.params[t],delete e.params[t])})),t.sizes=jo(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code,t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;var r=function(e){if(!Object(A.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if(Object(A.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return null}(e);if(r&&(t.reserve=r),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{var n=Object(C.a)(e,"mediaTypes.banner.pos")||Object(C.a)(e,"mediaTypes.video.pos");0!==n&&1!==n&&3!==n||(t.position=3===n?2:n)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=jo(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);var i=Object(C.a)(e,"ortb2Imp.ext.data.keywords");if(Object(A.isStr)(i)&&""!==i||!Object(A.isEmpty)(e.params.keywords)){var a=ko(i),o=Object(A.isPlainObject)(e.params.keywords)?Object(A.deepClone)(e.params.keywords):{};Object.keys(o).forEach((function(e){(Object(A.isStr)(o[e])||Object(A.isNumber)(o[e]))&&(o[e]=[o[e]])}));var s=Object(A.mergeDeep)({},o,a),d=Object(A.transformBidderParamKeywords)(s);d.length>0&&(d.forEach(yo),t.keywords=d)}var c,u,l=Object(C.a)(e,"ortb2Imp.ext.data.pbadslot");if(l&&(t.gpid=l),(e.mediaType===X.c||Object(C.a)(e,"mediaTypes."+X.c))&&(t.ad_types.push(X.c),0===t.sizes.length&&(t.sizes=jo([1,1])),e.nativeParams)){var p=(c=e.nativeParams,u={},Object.keys(c).forEach((function(e){var t=bo[e]&&bo[e].serverName||bo[e]||e,r=bo[e]&&bo[e].requiredParams;if(u[t]=Object(S.default)({},r,c[e]),(t===bo.image.serverName||t===bo.icon.serverName)&&u[t].sizes){var n=u[t].sizes;(Object(A.isArrayOfNums)(n)||Object(A.isArray)(n)&&n.length>0&&n.every((function(e){return Object(A.isArrayOfNums)(e)})))&&(u[t].sizes=jo(u[t].sizes))}t===bo.privacyLink&&(u.privacy_supported=!0)})),u);t[X.c]={layouts:[p]}}var f=Object(C.a)(e,"mediaTypes."+X.d),b=Object(C.a)(e,"mediaTypes.video.context");t.hb_source=f&&"adpod"===b?7:1,(e.mediaType===X.d||f)&&t.ad_types.push(X.d),(e.mediaType===X.d||f&&"outstream"!==b)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return Object(B.c)(oo,e)})).forEach((function(r){switch(r){case"context":case"playback_method":var n=e.params.video[r];n=Object(A.isArray)(n)?n[0]:n,t.video[r]=fo[r][n];break;case"frameworks":break;default:t.video[r]=e.params.video[r]}})),e.params.video.frameworks&&Object(A.isArray)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),f&&(t.video=t.video||{},Object.keys(f).filter((function(e){return Object(B.c)(so,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=f[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===f[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=f[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var r=f[e];(r=Object(A.isArray)(r)?r[0]:r)>=1&&r<=4&&(t.video.playback_method=r)}break;case"api":if(!t.video_frameworks&&Object(A.isArray)(f[e])){var n=f[e].map((function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((function(e){return e}));t.video_frameworks=n}break;case"startdelay":case"placement":if("number"!=typeof t.video.context){var i=f.placement,a=f.startdelay,o=function(e){if(!e)return;if(2===e)return"in-banner";if(e>2)return"outstream"}(i)||function(e){if(!e)return;if(0===e)return"pre_roll";if(-1===e)return"mid_roll";if(-2===e)return"post_roll"}(a);t.video.context=fo.context[o]}}}))),e.renderer&&(t.video=Object(S.default)({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&Object(A.isArray)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var g=Object(B.b)(D.a.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return g&&g.mediaTypes&&g.mediaTypes.banner&&t.ad_types.push(X.b),0===t.ad_types.length&&delete t.ad_types,t}function jo(e){var t=[],r={};if(Object(A.isArray)(e)&&2===e.length&&!Object(A.isArray)(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"==typeof e)for(var n=0;n<e.length;n++){var i=e[n];(r={}).width=parseInt(i[0],10),r.height=parseInt(i[1],10),t.push(r)}return t}function _o(e){return!!e.params.user}function Io(e){return!!parseInt(e.params.member,10)}function Eo(e){if(e.params)return!!e.params.app}function To(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function So(e){return!!e.debug}function wo(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===X.a}function Ao(e){var t=!1,r=e.params,n=e.params.video;return r.frameworks&&Object(A.isArray)(r.frameworks)&&(t=Object(B.c)(e.params.frameworks,6)),!t&&n&&n.frameworks&&Object(A.isArray)(n.frameworks)&&(t=Object(B.c)(e.params.video.frameworks,6)),t}function Co(e,t,r){Object(A.isEmpty)(e.video)&&(e.video={}),e.video[t]=r}function xo(e,t){!function(e){try{var t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){(Object(A.getWindowFromDocument)(t)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Po.bind(null,e))}))}function Po(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function Ro(e){var t="";return Object.keys(e).forEach((function(r){Object(A.isStr)(e[r])?""!==e[r]?t+=r+"="+e[r]+",":t+=r+",":Object(A.isArray)(e[r])&&(""===e[r][0]?t+=r+",":e[r].forEach((function(e){t+=r+"="+e+","})))})),t=t.substring(0,t.length-1)}function ko(e){var t={};Object(A.isStr)(e)&&""!==e&&e.split(/\s*(?:,)\s*/).forEach((function(e){if(-1!==e.indexOf("=")){var r=e.split("="),n=r[0],i=r[1];t.hasOwnProperty(n)?t[n].push(i):t[n]=[i]}else t.hasOwnProperty(e)||(t[e]=[""])}));return t}Object(cr.e)(vo),Object(w.b)("appnexusBidAdapter");var Do=vo.code;function Bo(e,t,r,n){var i=e.settings,a=e.params,o={placementId:parseInt(t.id),member:""+t.member,invCode:""+t.invCode,publisherId:parseInt(t.publisherId),allowSmallerSizes:!0},s=i.floorPriceCents;void 0!==s&&(o.reserve=s/100);var d=t.optionalParams;d&&Object(S.default)(o,d),o.video={id:r.id,context:Uo(n.placement,qa(a.offset))};var c=[];n.api.forEach((function(e){var t=e===_a?6:e;c.push(t)})),c.length&&(o.video.frameworks=c);var u=a.jwpseg;return u&&u.length&&(o.keywords={jwpseg:u}),{bidder:Do,params:o}}function Uo(e,t){return 3===e?"outstream":0===t?"pre_roll":-2===t?"post_roll":"mid_roll"}function No(e){return!!e&&(void 0!==e.id||void 0!==e.member&&void 0!==e.invCode)}var Mo="axonix";function qo(e,t){var r={supplyId:""+t.supplyId};return{bidder:Mo,params:r}}function Wo(e){return!!e&&void 0!==e.supplyId}var zo=r(40).a.code;function Lo(e,t,r,n){var i={networkId:parseInt(t.networkId),zoneId:parseInt(t.zoneId)};return Va()&&(i.integrationMode="amp"),void 0===n.skip&&(i.video={skip:0}),{bidder:zo,params:i}}function Fo(e){return!!e&&void 0!==e.networkId&&void 0!==e.zoneId}var Vo="https://js.brealtime.com/outstream/1.30.0/bundle.js",Go=[{key:"idl_env",source:"liveramp.com",rtiPartner:"idl",queryParam:"idl"},{key:"uid2.id",source:"uidapi.com",rtiPartner:"UID2",queryParam:"uid2"}],Ko={validateSizes:function(e){return Object(A.isArray)(e)&&void 0!==e[0]?e.every((function(e){return Object(A.isArray)(e)&&2===e.length})):(Object(A.logWarn)("emx_digital: Sizes should be an array"),!1)},checkVideoContext:function(e){return e&&e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context&&("instream"===e.mediaTypes.video.context||"outstream"===e.mediaTypes.video.context)},buildBanner:function(e){var t=[];return t=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes?e.mediaTypes.banner.sizes:e.sizes,Ko.validateSizes(t)||(Object(A.logWarn)("emx_digital: could not detect mediaType banner sizes. Assigning to bid sizes instead"),t=e.sizes),{format:t.map((function(e){return{w:e[0],h:e[1]}})),w:t[0][0],h:t[0][1]}},formatVideoResponse:function(e,t,r){(e.vastXml=t.adm,r.bidderRequest&&r.bidderRequest.bids&&r.bidderRequest.bids.length>0)&&(Object(B.b)(r.bidderRequest.bids,(function(t){return e.requestId&&t.bidId&&e.requestId===t.bidId&&t.mediaTypes&&t.mediaTypes.video&&"outstream"===t.mediaTypes.video.context}))&&(e.renderer=Ko.createRenderer(e,{id:t.id,url:Vo})));return e},isMobile:function(){return/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)},isConnectedTV:function(){return/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)},getDevice:function(){return{ua:navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,devicetype:Ko.isMobile()?1:Ko.isConnectedTV()?3:2,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage}},cleanProtocols:function(e){return e.protocols&&Object(B.c)(e.protocols,7)&&(Object(A.logWarn)("emx_digital: VAST 4.0 is currently not supported. This protocol has been filtered out of the request."),e.protocols=e.protocols.filter((function(e){return 7!==e}))),e},outstreamRender:function(e){e.renderer.push((function(){var t=e&&e.params&&e.params[0]&&e.params[0].video?e.params[0].video:{};window.emxVideoQueue=window.emxVideoQueue||[],window.queueEmxVideo({id:e.adUnitCode,adsResponses:e.vastXml,options:t}),window.emxVideoReady&&window.videojs&&window.emxVideoReady()}))},createRenderer:function(e,t){var r=U.a.install({id:t.id,url:Vo,loaded:!1});try{r.setRender(Ko.outstreamRender)}catch(e){Object(A.logWarn)("Prebid Error calling setRender on renderer",e)}return r},buildVideo:function(e){var t=Object(S.default)(e.mediaTypes.video,e.params.video);return Object(A.isArray)(e.mediaTypes.video.playerSize[0])?(t.w=e.mediaTypes.video.playerSize[0][0],t.h=e.mediaTypes.video.playerSize[0][1]):(t.w=e.mediaTypes.video.playerSize[0],t.h=e.mediaTypes.video.playerSize[1]),Ko.cleanProtocols(t)},parseResponse:function(e){try{return decodeURIComponent(e.replace(/%(?![0-9][0-9a-fA-F]+)/g,"%25"))}catch(e){Object(A.logError)("emx_digitalBidAdapter","error",e)}},getSite:function(e){return{domain:e.domain||Object(ve.b)(e.topmostLocation),page:e.page||e.topmostLocation,ref:e.ref||window.document.referrer}},getGdpr:function(e,t){return e.gdprConsent&&(t.regs={ext:{gdpr:!0===e.gdprConsent.gdprApplies?1:0}}),e.gdprConsent&&e.gdprConsent.gdprApplies&&(t.user={ext:{consent:e.gdprConsent.consentString}}),t},getSupplyChain:function(e,t){return e.bids[0]&&e.bids[0].schain&&(t.source={ext:{schain:e.bids[0].schain}}),t},getEids:function(e){return Go.map(Ko.getUserId(e)).filter((function(e){return e}))},getUserId:function(e){return function(t){var r=t.key,n=t.source,i=t.rtiPartner,a=Object(C.a)(e,"userId."+r);return a?Ko.formatEid(a,n,i):null}},formatEid:function(e,t,r){return{source:t,uids:[{id:e,ext:{rtiPartner:r}}]}}},Ho={code:"emx_digital",gvlid:183,supportedMediaTypes:[X.b,X.d],isBidRequestValid:function(e){if(!e||!e.params)return Object(A.logWarn)("emx_digital: Missing bid or bid params."),!1;if("emx_digital"!==e.bidder)return Object(A.logWarn)('emx_digital: Must use "emx_digital" as bidder code.'),!1;if(!e.params.tagid||!Object(A.isStr)(e.params.tagid))return Object(A.logWarn)("emx_digital: Missing tagid param or tagid present and not type String."),!1;var t;if(e.mediaTypes&&e.mediaTypes.banner){if(t=e.mediaTypes.banner.sizes?e.mediaTypes.banner.sizes:e.sizes,!Ko.validateSizes(t))return Object(A.logWarn)("emx_digital: Missing sizes in bid"),!1}else if(e.mediaTypes&&e.mediaTypes.video){if(!Ko.checkVideoContext(e))return Object(A.logWarn)("emx_digital: Missing video context: instream or outstream"),!1;if(!e.mediaTypes.video.playerSize)return Object(A.logWarn)("emx_digital: Missing video playerSize"),!1}return!0},buildRequests:function(e,t){var r=[],n="https://hb.emxdgt.com?t="+(t.timeout||"")+"&ts="+Date.now()+"&src=pbjs",i=location.protocol.indexOf("https")>-1?1:0,a=Ko.getDevice(),o=Ko.getSite(t.refererInfo);Object(A._each)(e,(function(e){var t=Object(A.getBidIdParameter)("tagid",e.params),n=parseFloat(function(e){if(!Object(A.isFn)(e.getFloor))return parseFloat(Object(A.getBidIdParameter)("bidfloor",e.params));var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if(Object(A.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return null}(e))||0,a=!!e.mediaTypes.video,o={id:e.bidId,tid:e.transactionId,tagid:t,secure:i},s=Object(C.a)(e,"ortb2Imp.ext.data.adserver.adslot");s||(s=Object(C.a)(e,"ortb2Imp.ext.data.pbadslot")),s&&(o.ext={gpid:s.toString()});var d=a?{video:Ko.buildVideo(e)}:{banner:Ko.buildBanner(e)},c=n>0?{bidfloor:n,bidfloorcur:"USD"}:{},u=Object(S.default)(o,d,c);r.push(u)}));var s={id:t.auctionId,imp:r,device:a,site:o,cur:"USD",version:"1.5.1"};if(s=Ko.getGdpr(t,Object(S.default)({},s)),s=Ko.getSupplyChain(t,Object(S.default)({},s)),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),t.userId){var d=Ko.getEids(t);d.length>0&&(s.user&&s.user.ext?s.user.ext.eids=d:s.user={ext:{eids:d}})}return{method:"POST",url:n,data:JSON.stringify(s),options:{withCredentials:!0},bidderRequest:t}},interpretResponse:function(e,t){var r=[],n=e.body||{};return n.seatbid&&n.seatbid.length>0&&n.seatbid[0].bid&&n.seatbid.forEach((function(e){e=e.bid[0];var n=!1,i=Ko.parseResponse(e.adm)||"",a={requestId:e.id,cpm:e.price,width:e.w,height:e.h,creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,ttl:e.ttl,ad:i};e.adm&&e.adm.indexOf("<?xml version=")>-1&&(n=!0,a=Ko.formatVideoResponse(a,Object(S.default)({},e),t)),a.mediaType=n?X.d:X.b,e.adomain&&e.adomain.length&&(a.meta={advertiserDomains:e.adomain}),r.push(a)})),r},getUserSyncs:function(e,t,r,n){var i=[],a=[];if(e.iframeEnabled){var o="https://biddr.brealtime.com/check.html";r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?a.push("gdpr="+Number(r.gdprApplies)+"&gdpr_consent="+r.consentString):a.push("?gdpr_consent="+r.consentString)),n&&"string"==typeof n.consentString&&a.push("usp="+n.consentString),a.length>0&&(o=o+"?"+a.join("&")),i.push({type:"iframe",url:o})}return i}};Object(cr.e)(Ho),Object(w.b)("emx_digitalBidAdapter");var Jo=Ho.code;function Yo(e,t,r,n){var i={tagid:""+t.id,content:r},a={mimes:n.mimes,minduration:n.minduration,maxduration:n.maxduration,protocols:n.protocols,startdelay:n.startdelay,placement:n.placement,linearity:n.linearity,playbackmethod:n.playbackmethod,api:n.api},o=e.settings.floorPriceCents;void 0!==o&&(i.bidfloor=o/100);var s=n.skip;if(void 0!==s){a.skip=s;var d=n.skipmin,c=n.skipafter;void 0!==d&&(a.skipmin=d),void 0!==c&&(a.skipafter=c)}var u=e.params.jwpseg;return Array.isArray(u)&&u.length&&(a.ext={custom:{jwpseg:u}}),i.video=a,{bidder:Jo,params:i}}function Xo(e){return void 0===e&&(e={}),void 0!==e.id}bt.bidderSettings[Jo]={sendStandardTargeting:!1,adserverTargeting:[{key:"vpb_emx_bid",val:function(e){return Ma(bt.getConfig("priceGranularity"),e)}},{key:"vpb_emx_key",val:function(e){return e.videoCacheKey}}]};var Qo=["mind","maxd","size","playerSize","protocols","durationRangeSec"],$o="https://x.bidswitch.net/sync?ssp=themediagrid",Zo=Object(be.d)({bidderCode:"grid"}),es="Bid from response has no adid parameter - ",ts="Bid from response has no adm parameter - ",rs="Array of bid objects is empty",ns="Seatbid array from response has empty item",is="Response is empty",as="Response has empty seatbid array",os="Seatbid from response has no array of bid objects - ",ss={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}},gridNM:{defaultParams:{multiRequest:!0}}},ds=!1,cs={code:"grid",gvlid:686,aliases:["playwire","adlivetech","gridNM",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[X.b,X.d],isBidRequestValid:function(e){return e&&Boolean(e.params.uid||e.params.secid)},buildRequests:function(e,t){if(!e.length)return null;var r=null,n=null,i=null,a=null,o=null,s=null,d=null,c=!1,u=t||{},l=u.bidderRequestId,p=u.auctionId,f=u.gdprConsent,b=u.uspConsent,g=u.timeout,m=u.refererInfo,v=u.gppConsent,h=m?encodeURIComponent(m.page):"",y=g,O=[],j={},_=[],I={},E=[],T=[],w=[];e.forEach((function(e){var t={bid:e,savedPrebidBid:null};if(e.params.withCriteo&&ps.isBidRequestValid(e)&&(I[e.bidId]=t,E.push(e)),e.params.uid||e.params.secid){l||(l=e.bidderRequestId),p||(p=e.auctionId),i||(i=e.schain),a||(a=e.userIdAsEids),d||(d=ss[e.bidder]&&ss[e.bidder].endpoint);var o=e.params,s=e.mediaTypes,u=e.bidId,f=e.adUnitCode,b=e.rtd,g=e.ortb2Imp,m=(ss[e.bidder]||{}).defaultParams,v=Object(S.default)({},m,o),C=v.secid,x=v.pubid,P=v.source,R=v.uid,k=v.keywords,D=v.forceBidder,B=v.multiRequest,U=v.content,N=v.video,M=function(e,t){var r=e.video?"video":"banner",n=t.params.bidFloor||t.params.floorcpm||0;if("function"==typeof t.getFloor){var i=t.getFloor({currency:"USD",mediaType:r,size:t.sizes.map((function(e){return{w:e[0],h:e[1]}}))});"object"!=typeof i||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(n=Math.max(n,parseFloat(i.floor)))}return n}(s||{},e),q=b&&b.jwplayer&&b.jwplayer.targeting;q&&!n&&q.content&&(n=q.content);var W={id:u.toString(),tagid:(C||R).toString(),ext:{divid:f.toString()}};if(g&&(g.instl&&(W.instl=g.instl),g.ext&&(g.ext.data&&(W.ext.data=g.ext.data,W.ext.data.adserver&&W.ext.data.adserver.adslot?W.ext.gpid=W.ext.data.adserver.adslot.toString():g.ext.data.pbadslot&&(W.ext.gpid=g.ext.data.pbadslot.toString())),g.ext.gpid&&(W.ext.gpid=g.ext.gpid.toString()))),Object(A.isEmpty)(k)||(r||(r=k),W.ext.bidder={keywords:k}),M&&(W.bidfloor=M),!s||s[X.b]){var z=function(e,t){var r=t.sizes||e.sizes;if(!r||!r.length)return;var n=r.map((function(e){return Object(A.parseGPTSingleSizeArrayToRtbSize)(e)})),i=Object(A.parseGPTSingleSizeArrayToRtbSize)(r[0]);n.length&&(i.format=n);return i}(e,s?s[X.b]:{});z&&(W.banner=z)}if(s&&s[X.d]){var L=function(e,t,r){var n=Object(S.default)({},t,e),i=n.mind,a=n.maxd,o=n.size,s=n.playerSize,d=n.protocols,c=n.durationRangeSec,u=void 0===c?[]:c,l=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(n,Qo);if(o&&Object(A.isStr)(o)){var p=o.split("x");2===p.length&&parseInt(p[0])&&parseInt(p[1])&&(l.w=parseInt(p[0]),l.h=parseInt(p[1]))}if(!l.w||!l.h){var f=((s||r||[]).toString().match(/^\d+,\d+/)||[])[0],b=f&&f.split(",").map((function(e){return parseInt(e)}));b&&2===b.length&&Object(S.default)(l,Object(A.parseGPTSingleSizeArrayToRtbSize)(b))}if(!l.w||!l.h)return;var g=i||u[0]||l.minduration,m=a||u[1]||l.maxduration;g&&(l.minduration=g);m&&(l.maxduration=m);d&&d.length&&(l.protocols=d);l.context&&delete l.context;return l}(N,s[X.d],e.sizes);L&&(W.video=L)}if(W.banner||W.video)if(B){var F={tid:e.auctionId&&e.auctionId.toString(),ext:{wrapper:"Prebid_js",wrapper_version:"7.54.1"}};e.schain&&(F.ext.schain=e.schain);var V={id:e.bidderRequestId&&e.bidderRequestId.toString(),site:{page:h},tmax:y,source:F,imp:[W]};x&&(V.site.publisher={id:x});var G=U||q&&q.content;G&&(V.site.content=G),_.push(V),T.push(P),w.push(t)}else j[u]=t,O.push(W);!c&&D&&ss[D]&&(c=D)}})),(c=N.b.getConfig("forceBidderName")||c)&&ss[c]&&(d=ss[c].endpoint,this.forceBidderName=c);var x={tid:p&&p.toString(),ext:{wrapper:"Prebid_js",wrapper_version:"7.54.1"}};i&&(x.ext.schain=i);var P=O.length||!_.length?{id:l&&l.toString(),site:{page:h},tmax:y,source:x,imp:O}:null;n&&(P.site.content=n),[].concat(_,[P]).forEach((function(e){if(e){o=null;var n=Object(C.a)(t,"ortb2.user.data");n&&n.length&&(o={data:[].concat(n)}),f&&f.consentString&&(s={consent:f.consentString});var i=Object(C.a)(t,"ortb2.user.ext.device");i&&((s=s||{}).device=Object(S.default)({},i)),a&&a.length&&((s=s||{}).eids=[].concat(a)),s&&Object.keys(s).length&&((o=o||{}).ext=s);var d=Zo.getDataFromLocalStorage("tmguid")||function(){if(N.b.getConfig("localStorageWriteAllowed")){var e=Object(A.generateUUID)().replace(/-/g,"");return Zo.setDataInLocalStorage("tmguid",e),e}return null}();d&&((o=o||{}).id=d.toString()),o&&(e.user=o);var c=Object(C.a)(t,"ortb2.user.keywords")||null,u=Object(C.a)(t,"ortb2.site.keywords")||null;c&&((r=r||{}).user=r.user||{},r.user.ortb2=[{name:"keywords",keywords:c.split(",")}]),u&&((r=r||{}).site=r.site||{},r.site.ortb2=[{name:"keywords",keywords:u.split(",")}]),r&&(r=function(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(n)if("site"===r||"user"===r){var i={};Object.keys(n).forEach((function(e){if(Array.isArray(n[e])){var t=[];n[e].forEach((function(e){if("object"==typeof e&&e.name){var r={name:e.name,segments:[]};Object.keys(e).forEach((function(t){Array.isArray(e[t])&&e[t].forEach((function(e){e&&("string"==typeof e?r.segments.push({name:t,value:e}):"segments"===t&&"string"==typeof e.name&&"string"==typeof e.value&&r.segments.push(e))}))})),r.segments.length&&t.push(r)}})),t.length&&(i[e]=t)}})),t[r]=i}else t[r]=n})),Object.keys(t).length&&t}(r))&&(e.ext={keywords:r}),f&&f.gdprApplies&&(e.regs={ext:{gdpr:f.gdprApplies?1:0}});var l=Object(C.a)(t,"ortb2.regs")||{};if(v||null!=l&&l.gpp){var p,g,m,h={gpp:null!=(p=null==v?void 0:v.gppString)?p:null==l?void 0:l.gpp,gpp_sid:null!=(g=null==v?void 0:v.applicableSections)?g:null==l?void 0:l.gpp_sid};e.regs=Object(A.mergeDeep)(null!=(m=null==e?void 0:e.regs)?m:{},h)}b&&(e.regs||(e.regs={ext:{}}),e.regs.ext||(e.regs.ext={}),e.regs.ext.us_privacy=b),!0===N.b.getConfig("coppa")&&(e.regs||(e.regs={}),e.regs.coppa=1);var y=Object(C.a)(t,"ortb2.site");if(y){var O=[].concat(y.cat||[],y.pagecat||[]).filter((function(e){return e&&"string"==typeof e}));O.length&&(e.site.cat=O);var j=Object(C.a)(y,"content.genre");j&&"string"==typeof j&&(e.site.content=Object(S.default)({},e.site.content,{genre:j}));var _=Object(C.a)(y,"content.data");if(_&&_.length){var I=e.site.content||{};e.site.content=Object(A.mergeDeep)(I,{data:_})}var E=Object(C.a)(y,"content.id");E&&(e.site.content=Object(S.default)({},e.site.content,{id:E}))}}}));var R=E.length&&ps.buildRequests(E,t);return R&&(R.criteoBidsMap=I),[].concat(_.map((function(e,t){var r,n=(d||"https://grid.bidswitch.net/hbjson").replace(/[?&]sp=([^?&=]+)/,(function(e,t){return t&&(r=t),""})),i=T[t]||r;return{method:"POST",url:n+(n.indexOf("?")>-1?"&":"?")+"no_mapping=1"+(i?"&sp="+i:""),data:JSON.stringify(e),bidObject:w[t]}})),P?[{method:"POST",url:d||"https://grid.bidswitch.net/hbjson",data:JSON.stringify(P),bidsMap:j}]:[],R?[R]:[])},interpretResponse:function(e,t,r){if(void 0===r&&(r=U.a),t.criteoBidsMap&&t.bidRequests)return ps.interpretResponse(e,t).filter((function(e){var r=(t.criteoBidsMap[e.requestId]||{}).savedPrebidBid;return us(e.cpm,r&&r.cpm)}));e=e&&e.body;var n,i=[];e?e.seatbid&&!e.seatbid.length&&(n=as):n=is;var a=this.forceBidderName||this.code;return!n&&e.seatbid&&e.seatbid.forEach((function(e){!function(e,t,r,n,i){if(!e)return;var a;e.adid||(a=es+JSON.stringify(e));if(a||e.adm||e.nurl){var o=t.bidsMap?t.bidsMap[e.impid]:t.bidObject,s=o||{},d=s.bid,c=s.savedPrebidBid;if(d&&us(e.price,c&&c.cpm)){var u={requestId:d.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.adid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain?e.adomain:[]},dealId:e.dealid};o.savedPrebidBid=u,e.ext&&e.ext.bidder&&e.ext.bidder.grid&&e.ext.bidder.grid.demandSource&&(u.adserverTargeting={hb_ds:e.ext.bidder.grid.demandSource},u.meta.demandSource=e.ext.bidder.grid.demandSource),"video"===e.content_type?(e.adm?(u.vastXml=e.adm,u.adResponse={content:u.vastXml}):e.nurl&&(u.vastUrl=e.nurl),u.mediaType=X.d,d.renderer||d.mediaTypes&&d.mediaTypes.video&&"outstream"!==d.mediaTypes.video.context||(u.renderer=function(e,t,r){var n=r.install({id:t.id,url:t.url,loaded:!1});try{n.setRender(ls)}catch(e){Object(A.logWarn)("Prebid Error calling setRender on renderer",e)}return n}(0,{id:d.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"},n))):(u.ad=e.adm,u.mediaType=X.b);var l=ss[i]&&ss[i].bidResponseExternal||{};r.push(Object(A.mergeDeep)(u,l))}}else a=ts+JSON.stringify(e);a&&Object(A.logError)(a)}(function(e){e?e.bid?e.bid[0]||Object(A.logError)(rs):Object(A.logError)(os+JSON.stringify(e)):Object(A.logError)(ns);return e&&e.bid&&e.bid[0]}(e),t,i,r,a)})),n&&Object(A.logError)(n),i},getUserSyncs:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],i=t[2],a=t[3];if(!ds&&n.pixelEnabled){var o="";i&&("boolean"==typeof i.gdprApplies&&(o+="&gdpr="+Number(i.gdprApplies)),"string"==typeof i.consentString&&(o+="&gdpr_consent="+i.consentString)),a&&(o+="&us_privacy="+a);var s=this.forceBidderName||this.code,d=ss[s]&&ss[s].syncurl||$o;return ds=!0,{type:"image",url:d+o}}}};function us(e,t){return!Object(A.isNumber)(t)||(e>t||e===t&&Math.random()>.5)}function ls(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}var ps={isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId)&&!(ms(e)&&!function(e){var t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(r){void 0===Object(C.a)(e,"mediaTypes.video."+r)&&void 0===Object(C.a)(e,"params.video."+r)&&(t=!1,Object(A.logError)("TheMediaGrid Bid Adapter (withCriteo mode): mediaTypes.video."+r+" is required"))})),t){var r=e.mediaTypes.video.placement||e.params.video.placement;if("instream"===e.mediaTypes.video.context&&1===r)return!0;if("outstream"===e.mediaTypes.video.context&&1!==r)return!0}return!1}(e))},buildRequests:function(e,t){var r,n,i,a,o=t.ortb2||{};Object(S.default)(t,{publisherExt:null==(r=o.site)?void 0:r.ext,userExt:null==(n=o.user)?void 0:n.ext,ceh:N.b.getConfig("criteo.ceh"),coppa:N.b.getConfig("coppa")});var s=function(e,t){var r,n="";t&&t.refererInfo&&(n=t.refererInfo.page);var i=Object(A.parseUrl)(null==t||null==(r=t.refererInfo)?void 0:r.topmostLocation).search,a={url:n,debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,amp:!1};return e.forEach((function(e){"amp"===e.params.integrationMode&&(a.amp=!0)})),a}(e,t);if(i=function(e){var t="https://bidder.criteo.com/cdb";t+="?profileId=207",t+="&av="+String(34),t+="&wv="+encodeURIComponent("7.54.1"),t+="&cb="+String(Math.floor(99999999999*Math.random())),Zo.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0";e.amp&&(t+="&im=1");e.debug&&(t+="&debug=1");e.noLog&&(t+="&nolog=1");var r=fs("cto_bundle");r&&(t+="&bundle="+r);fs("cto_optout")&&(t+="&optout=1");var n=fs("cto_sid");n&&(t+="&sid="+n);var i=fs("cto_idcpy");i&&(t+="&idcpy="+i);return t}(s),a=function(e,t,r){var n,i,a={publisher:{url:e.url,ext:r.publisherExt},regs:{coppa:!0===r.coppa?1:!1===r.coppa?0:void 0},slots:t.map((function(e){n=e.params.networkId||n,i=e.schain||i;var t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),Object(C.a)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=Object(S.default)({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),!function(e){return void 0!==Object(C.a)(e,"mediaTypes.banner")}(e)?t.sizes=[]:t.sizes=bs(Object(C.a)(e,"mediaTypes.banner.sizes"),gs),ms(e)){var r={playersizes:bs(Object(C.a)(e,"mediaTypes.video.playerSize"),gs),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay};"plcmt"in e.mediaTypes.video&&(r.plcmt=e.mediaTypes.video.plcmt);var a=e.params.video;void 0!==a&&(r.skip=r.skip||a.skip||0,r.placement=r.placement||a.placement,r.minduration=r.minduration||a.minduration,r.playbackmethod=r.playbackmethod||a.playbackmethod,r.startdelay=r.startdelay||a.startdelay||0),t.video=r}return function(e,t){try{var r={};if(t.getFloor){var n,i;if(null!=(n=t.mediaTypes)&&n.banner)r.banner={},bs(Object(C.a)(t,"mediaTypes.banner.sizes")).forEach((function(e){return r.banner[gs(e).toString()]=t.getFloor({size:e,mediaType:X.b})}));if(null!=(i=t.mediaTypes)&&i.video)r.video={},bs(Object(C.a)(t,"mediaTypes.video.playerSize")).forEach((function(e){return r.video[gs(e).toString()]=t.getFloor({size:e,mediaType:X.d})}));Object.keys(r).length>0&&(e.ext||(e.ext={}),Object(S.default)(e.ext,{floors:r}))}}catch(e){Object(A.logError)("Could not parse floors from Prebid: "+e)}}(t,e),t}))};n&&(a.publisher.networkid=n);i&&(a.source={ext:{schain:i}});a.user={ext:r.userExt},r&&r.ceh&&(a.user.ceh=r.ceh);r&&r.gdprConsent&&(a.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(a.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),a.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(a.gdprConsent.consentData=r.gdprConsent.consentString));r&&r.uspConsent&&(a.user.uspIab=r.uspConsent);return a}(s,e,t))return{method:"POST",url:i,data:a,bidRequests:e}},interpretResponse:function(e,t){var r=e.body||e,n=[];return r&&r.slots&&Object(A.isArray)(r.slots)&&r.slots.forEach((function(i){var a,o,s,d,c={requestId:Object(B.b)(t.bidRequests,(function(e){return e.adUnitCode===i.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===i.zoneid)})).bidId,cpm:i.cpm,currency:i.currency,netRevenue:!0,ttl:i.ttl||60,creativeId:i.creativecode,width:i.width,height:i.height,dealId:i.dealCode};if(null!=(a=r.ext)&&null!=(o=a.paf)&&o.transmission&&null!=(s=i.ext)&&null!=(d=s.paf)&&d.content_id){var u={content_id:i.ext.paf.content_id,transmission:e.ext.paf.transmission};c.meta=Object(S.default)({},c.meta,{paf:u})}i.adomain&&(c.meta=Object(S.default)({},c.meta,{advertiserDomains:i.adomain})),i.video?(c.vastUrl=i.displayurl,c.mediaType=X.d):c.ad=i.creative,n.push(c)})),n}};function fs(e){var t=Zo.getCookie(e),r=Zo.getDataFromLocalStorage(e);return t||r||void 0}function bs(e,t){return void 0===t&&(t=function(e){return e}),void 0===e?[]:Array.isArray(e[0])?e.map((function(e){return t(e)})):[t(e)]}function gs(e){return e[0]+"x"+e[1]}function ms(e){return void 0!==Object(C.a)(e,"mediaTypes.video")}Object(cr.e)(cs),Object(w.b)("gridBidAdapter");var vs=cs,hs="gridNM";function ys(e,t,r,n){var i=e.params,a=e.settings,o={source:"jwp",secid:""+t.id,pubid:""+t.pubid,content:r},s=n.playerSize,d={mimes:n.mimes,mind:n.minduration,maxd:n.maxduration,protocols:n.protocols,startdelay:n.startdelay,placement:n.placement,linearity:n.linearity,playbackmethod:n.playbackmethod,api:n.api,size:s[0]+"x"+s[1]},c=a.floorPriceCents;void 0!==c&&(o.bidFloor=c/100);var u=n.skip;if(void 0!==u){d.skip=u;var l=n.skipmin,p=n.skipafter;void 0!==l&&(d.skipmin=l),void 0!==p&&(d.skipafter=p)}var f=i.jwpseg;return Array.isArray(f)&&f.length&&(o.pubdata={jwpseg:f}),o.video=d,{bidder:hs,params:o}}function Os(e){return void 0===e&&(e={}),void 0!==e.id}bt.bidderSettings[hs]={sendStandardTargeting:!1,adserverTargeting:[{key:"vpb_mediagrid_bid",val:function(e){return Ma(bt.getConfig("priceGranularity"),e)}},{key:"vpb_mediagrid_key",val:function(e){return e.videoCacheKey}}]};var js="improvedigital";function _s(e,t){var r={placementId:parseInt(t.placementId)},n=e.settings.floorPriceCents;return void 0!==n&&(r.bidFloor=n/100),{bidder:js,params:r}}function Is(e){return!!e&&void 0!==e.placementId}function Es(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ts(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ts(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ss=[X.b,X.d,X.c],ws=[144,144],As={JPY:1},Cs="p",xs="x",Ps=1,Rs=2,ks=3,Ds=4,Bs=5,Us=9,Ns={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},Ms={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":"","intimatemerger.com":""},qs=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId"],Ws=["mimes","minduration","maxduration"],zs=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],Ls=!1,Fs=Object(be.d)({bidderCode:"ix"}),Vs={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:function(e){return Object(C.a)(this.featureToggles,"features."+e+".activated",!1)},getFeatureToggles:function(){if(Fs.localStorageIsEnabled()){var e=Object(A.safeJSONParse)(Fs.getDataFromLocalStorage("ix_features"));Object(C.a)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,r=new Date,n=Object(C.a)(t,"ext.features");n&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:n},Fs.localStorageIsEnabled()&&Fs.setDataInLocalStorage("ix_features",JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},Fs.localStorageIsEnabled()&&Fs.removeDataFromLocalStorage("ix_features")}},Gs=0,Ks="",Hs="",Js=!1,Ys=2;function Xs(e){var t=Qs(e,X.d),r=Object(C.a)(e,"mediaTypes.video"),n=Object(C.a)(e,"params.video");if(rd(r,n).length)return{};for(var i in t.video=n?Object(A.deepClone)(e.params.video):{},t.ext.tid=Object(C.a)(e,"ortb2Imp.ext.tid"),cd(t,e),r)-1===zs.indexOf(i)||t.video.hasOwnProperty(i)||(t.video[i]=r[i]);if(t.video.minduration>t.video.maxduration)return Object(A.logError)("IX Bid Adapter: video minduration ["+t.video.minduration+"] cannot be greater than video maxduration ["+t.video.maxduration+"]",{bidder:"ix",code:Us}),{};var a=n&&n.context||r&&r.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!Object(A.isInteger)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&(Object(A.logWarn)("IX Bid Adapter: video.plcmt ["+e.video.plcmt+"] must be an integer between 1-4 inclusive"),delete e.video.plcmt)}(t),a&&!t.video.hasOwnProperty("placement")&&(a===ao.a?t.video.placement=1:a===ao.b?Object(C.a)(n,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,Js=!0):Object(A.logWarn)("IX Bid Adapter: Video context '"+a+"' is not supported")),!t.video.w||!t.video.h){var o=nd(Object(C.a)(t,"video.playerSize"))||nd(Object(C.a)(e,"params.size"));if(!o)return Object(A.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=o[0],t.video.h=o[1]}return $s(e,t,X.d),t}function Qs(e,t){var r={};if(r.id=e.bidId,r.ext={},Object(C.a)(e,"params."+t+".siteId")&&!isNaN(Number(e.params[t].siteId)))switch(t){case X.b:r.ext.siteID=e.params.banner.siteId.toString();break;case X.d:r.ext.siteID=e.params.video.siteId.toString();break;case X.c:r.ext.siteID=e.params.native.siteId.toString()}else r.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(r.ext.sid=String(e.params.id)),r}function $s(e,t,r){var n=null,i=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),Object(A.isFn)(e.getFloor)){var a="*",o="*";if(r&&Object(A.contains)(Ss,r)){var s=t[r];a=r,o=[s.w,s.h]}try{i=e.getFloor({mediaType:a,size:o})}catch(e){Object(A.logWarn)("priceFloors module call getFloor failed, error : ",e)}}var d=!1;i?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=Cs,d=!0):n&&(t.bidfloor=n.floor,t.bidfloorcur=n.currency,t.ext.fl=xs,d=!0),d&&(r==X.b?(Object(x.a)(t,"banner.ext.bidfloor",t.bidfloor),Object(x.a)(t,"banner.ext.fl",t.ext.fl)):r==X.d?(Object(x.a)(t,"video.ext.bidfloor",t.bidfloor),Object(x.a)(t,"video.ext.fl",t.ext.fl)):(Object(x.a)(t,"native.ext.bidfloor",t.bidfloor),Object(x.a)(t,"native.ext.fl",t.ext.fl)))}function Zs(e,t,r){var n={},i=!(!Object(C.a)(e,"exp")||!Object(A.isInteger)(e.exp)),a=Object(C.a)(e,"dealid")||Object(C.a)(e,"ext.dealid");As.hasOwnProperty(t)?n.cpm=e.price/As[t]:n.cpm=e.price/100,n.requestId=e.impid,a&&(n.dealId=a),n.netRevenue=!0,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=Ys||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(n.vastUrl=e.ext.vasturl):n.vastXml=e.adm;var o=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{o=JSON.parse(e.adm)}catch(e){Object(A.logWarn)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==Ys?(n.width=r.video.w,n.height=r.video.h,n.mediaType=X.d,n.mediaTypes=r.mediaTypes,n.ttl=i?e.exp:3600):o&&o.native?(n.native={ortb:o.native},n.width=e.w?e.w:1,n.height=e.h?e.h:1,n.mediaType=X.c,n.ttl=i?e.exp:3600):(n.ad=e.adm,n.width=e.w,n.height=e.h,n.mediaType=X.b,n.ttl=i?e.exp:300),n.meta={},n.meta.networkId=Object(C.a)(e,"ext.dspid"),n.meta.brandId=Object(C.a)(e,"ext.advbrandid"),n.meta.brandName=Object(C.a)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(n.meta.advertiserDomains=e.adomain),n}function ed(e){return Array.isArray(e)&&2===e.length&&Object(A.isInteger)(e[0])&&Object(A.isInteger)(e[1])}function td(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),ed(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function rd(e,t){var r=[];e||Object(A.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(var n,i=Es(Ws);!(n=i()).done;){var a=n.value,o=e&&e.hasOwnProperty(a),s=t&&t.hasOwnProperty(a);o||s||r.push("IX Bid Adapter: "+a+" is not included in either the adunit or params level")}var d=e&&e.hasOwnProperty("protocol"),c=e&&e.hasOwnProperty("protocols"),u=t&&t.hasOwnProperty("protocol"),l=t&&t.hasOwnProperty("protocols");return d||c||u||l||r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function nd(e){return void 0===e&&(e=[]),ed(e)?e:!!ed(e[0])&&e[0]}function id(e,t,r){if(e)return Object(S.default)({},Object(B.b)(r,(function(t){return t.bidId===e})),Object(B.b)(t,(function(t){return t.id===e})))}function ad(e,t,r,n){var i="https://htlb.casalemedia.com/openrtb/pbjs",a=function(e){var t=[],r={};if(Object(A.isArray)(e))for(var n,i=Es(e);!(n=i()).done;){var a=n.value;Ms.hasOwnProperty(a.source)&&Object(C.a)(a,"uids.0")&&(r[a.source]=!0,""!=Ms[a.source]&&(a.uids[0].ext={rtiPartner:Ms[a.source]}),delete a.uids[0].atype,t.push(a))}return{toSend:t,seenSources:r}}(Object(C.a)(e,"0.userIdAsEids")),o=a.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var r=window.headertag.getIdentityInfo();if(r&&"object"==typeof r)for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];!i.responsePending&&i.data&&"object"==typeof i.data&&Object.keys(i.data).length&&!t.seenSources[i.data.source]&&e.push(i.data)}}(o,a),t&&"roundel"===t.bidderCode&&!a.seenSources["liveramp.com"])return[];var s=[],d=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=Fs.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);d=function(e,t){t.length>0&&(e.ext.features={},t.forEach((function(t){e.ext.features[t]={activated:Vs.isFeatureEnabled(t)}})));return e}(d,Vs.REQUESTED_FEATURE_TOGGLES);var c=function(e){for(var t=e.map((function(e){return e.transactionId})).filter((function(e,t,r){return r.indexOf(e)===t})),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"7.54.1",userIds:ld(e[0]),url:window.location.href.split("?")[0],vpd:Js},n=function(n){a=e.filter((function(e){return e.transactionId===t[n]}))[0],Object(C.a)(a,"mediaTypes")&&(Object.keys(a.mediaTypes).length>1&&r.mfu++,Object(C.a)(a,"mediaTypes.native")&&r.nu++,Object(C.a)(a,"mediaTypes.banner")&&r.bu++,"outstream"===Object(C.a)(a,"mediaTypes.video.context")&&(r.ou++,Od(a)&&(r.ren=!0)),"instream"===Object(C.a)(a,"mediaTypes.video.context")&&r.iu++,r.allu++)},i=0;i<t.length;i++){var a;n(i)}return r}(e);for(var u in c)d.ext.ixdiag[u]=c[u];d=function(e,t){if(t){t.gdprConsent&&((Ks=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:Ks.gdprApplies?1:0}}),Ks.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:Ks.consentString||""},Ks.hasOwnProperty("addtlConsent")&&Ks.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:Ks.addtlConsent}))),t.uspConsent&&(Object(x.a)(e,"regs.ext.us_privacy",t.uspConsent),Hs=t.uspConsent);var r=Object(C.a)(t,"refererInfo.page");r&&(e.site.page=r),t.gppConsent&&(Object(x.a)(e,"regs.gpp",t.gppConsent.gppString),Object(x.a)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}N.b.getConfig("coppa")&&Object(x.a)(e,"regs.coppa",1);return e}(d=function(e,t,r,n,i){var a=Object(C.a)(t,"timeout");a&&(e.ext.ixdiag.tmax=a);N.b.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=N.b.getConfig("userSync").syncsPerBidder);var o=function(){if(!Fs.localStorageIsEnabled())return;var e,t={};try{e=JSON.parse(Fs.getDataFromLocalStorage("ixdiag")||"{}")}catch(e){return Object(A.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(r){Object.keys(e[r]).forEach((function(n){"number"==typeof e[r][n]&&(t[n]=t[n]?t[n]+e[r][n]:e[r][n])}))})),t}();Object(A.isEmpty)(o)||(e.ext.ixdiag.err=o);e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:n[0].auctionId},n[0].schain&&(e.source.ext={},e.source.ext.schain=n[0].schain);i.length>0&&(e.user={},e.user.eids=i);document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer);return e}(d,t,r,e,o),t);var l={};Gs=e[0].params.siteId,l.s=Gs;for(var p=Object.keys(r),f=!1,b=0;b<p.length&&!(s.length>=4);b++){d=od(r,p,d,b);var g=Object(C.a)(t,"ortb2")||{},m=Object(S.default)({},g.site||g.context);m.page=sd(t);var v=Object(S.default)({},g.user);Object(A.isEmpty)(g)||f||((d=dd(t,d,g,m,v)).site=Object(A.mergeDeep)({},d.site,m),d.user=Object(A.mergeDeep)({},d.user,v),f=!0),d=ud(r,d,p,b,l,i);var h=b===p.length-1;d=Ed(d=Id(d)),h&&(s.push({method:"POST",url:i+"?s="+Gs,data:Object(A.deepClone)(d),option:{contentType:"text/plain"},validBidRequests:e}),d.imp=[],f=!1)}return s}function od(e,t,r,n){var i=e[t[n]],a=i.missingImps,o=void 0===a?[]:a,s=i.ixImps,d={ixImps:void 0===s?[]:s,missingBannerImpressions:o},c=Object.keys(d).map((function(e){return d[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,t)}),[]),u=e[t[n]].gpid,l=e[t[n]].dfp_ad_unit_code,p=e[t[n]].tid,f=e[t[n]].sid,b=c.filter((function(e){return X.b in e})),g=c.filter((function(e){return!(X.b in e)}));if(b.length>0){var m=b.reduce((function(e,t){return e[t.id]||(e[t.id]=[]),e[t.id].push(t),e}),{});for(var v in m){for(var h=m[v],y=h[0],O={id:y.id,banner:{topframe:y.banner.topframe,format:h.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}},j=0;j<O.banner.format.length;j++)null!=O.banner.format[j].ext&&null!=O.banner.format[j].ext.sid&&delete O.banner.format[j].ext.sid,"bidfloor"in h[j]&&(O.banner.format[j].ext.bidfloor=h[j].bidfloor);var _=e[t[n]].pos;Object(A.isInteger)(_)&&(O.banner.pos=_),(l||u||p||f)&&(O.ext={},O.ext.dfp_ad_unit_code=l,O.ext.gpid=u,O.ext.tid=p,O.ext.sid=f),"bidfloor"in h[0]&&(O.bidfloor=h[0].bidfloor),"bidfloorcur"in h[0]&&(O.bidfloorcur=h[0].bidfloorcur);var I=e[t[n]].adUnitFPD;I&&Object(x.a)(O,"ext.data",I),r.imp.push(O)}}return g.length>0&&g.forEach((function(e){if(Object(x.a)(e,"ext.gpid",u),r.imp.length>0){var t=!1;r.imp.forEach((function(n,i){e.id===n.id&&X.d in e?(n.video=e.video,n.video.ext=Object(S.default)({},e.video.ext,e.ext),Object(C.a)(n,"video.ext.bidfloor",!1)&&Object(C.a)(n,"bidfloor",!1)&&n.video.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.video.ext.bidfloor),!Object(C.a)(n,"ext.siteID",!1)&&Object(C.a)(e,"video.ext.siteID")&&(Object(x.a)(n,"ext.siteID",e.video.ext.siteID),Object(x.a)(r,"ext.ixdiag.usid",!0)),t=!0):e.id===n.id&&X.c in e&&(n.native=e.native,n.native.ext=Object(S.default)({},e.native.ext,e.ext),Object(C.a)(n,"native.ext.bidfloor",!1)&&Object(C.a)(n,"bidfloor",!1)&&n.native.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.native.ext.bidfloor),!Object(C.a)(n,"ext.siteID",!1)&&Object(C.a)(e,"native.ext.siteID",!1)&&(Object(x.a)(n,"ext.siteID",e.native.ext.siteID),Object(x.a)(r,"ext.ixdiag.usid",!0)),t=!0)})),t||r.imp.push(e)}else r.imp.push(e)})),r}function sd(e){var t=e&&e.bidderCode||"ix",r=N.b.getConfig(t),n="";if((n=Object(C.a)(e,"ortb2.site.page")?e.ortb2.site.page:Object(C.a)(e,"refererInfo.page"),r)&&"object"==typeof r.firstPartyData)return function(e,t,r){var n;try{n=new URL(t)}catch(r){Object(A.logWarn)("IX Bid Adapter: Invalid URL set in ortb2.site.page: "+t+". Using referer URL instead."),n=new URL(Object(C.a)(e,"refererInfo.page"))}for(var i=new URLSearchParams(n.search),a=0,o=Object.entries(r);a<o.length;a++){var s=o[a],d=s[0],c=s[1];i.has(d)||i.append(d,c)}return n.search=i.toString(),n.toString()}(e,n,r.firstPartyData);return n}function dd(e,t,r,n,i){if(t.ext.ixdiag.fpd=!0,Object.keys(n).forEach((function(e){-1===Ns.SITE.indexOf(e)&&delete n[e]})),Object.keys(i).forEach((function(e){-1===Ns.USER.indexOf(e)&&delete i[e]})),r.device){var a=Object(S.default)({},r.device.sua);Object(A.isEmpty)(a)||Object(x.a)(t,"device.sua",a)}return r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&Object(x.a)(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&Object(x.a)(t,"regs.gpp_sid",r.regs.gpp_sid)),t}function cd(e,t){var r=Object(C.a)(t,"ortb2Imp.ext.data");r&&Object(x.a)(e,"ext.data",r)}function ud(e,t,r,n,i,a){var o=e[r[n]].pbadslot,s=e[r[n]].tagId,d=e[r[n]].adUnitCode,c=e[r[n]].divId;return(o||s||d||c)&&(t.ext.ixdiag.pbadslot=o,t.ext.ixdiag.tagid=s,t.ext.ixdiag.adunitcode=d,t.ext.ixdiag.divId=c),t}function ld(e){var t=e.userId||{};return qs.filter((function(e){return t[e]}))}function pd(e,t){if(t)for(var r=0;r<e.length;r++){var n=e[r];if(t[0]===n[0]&&t[1]===n[1]){e.splice(r,1);break}}}function fd(e,t){var r=function(e){var t=Qs(e,X.c),r=e.nativeOrtbRequest;return r.eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,t.native={request:JSON.stringify(r),ver:"1.2"},t.ext.tid=Object(C.a)(e,"ortb2Imp.ext.tid"),cd(t,e),$s(e,t,X.c),t}(e);if(0!=Object.keys(r).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(r),t[e.transactionId].gpid=Object(C.a)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=Object(C.a)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=Object(C.a)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=Object(C.a)(e,"params.tagId");var n=e.adUnitCode,i=document.getElementById(n)?n:Object(A.getGptSlotInfoForAdUnitCode)(n).divId;t[e.transactionId].adUnitCode=n,t[e.transactionId].divId=i}}function bd(e,t){var r=Xs(e);if(0!=Object.keys(r).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(r),t[e.transactionId].gpid=Object(C.a)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=Object(C.a)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=Object(C.a)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=Object(C.a)(e,"params.tagId");var n=e.adUnitCode,i=document.getElementById(n)?n:Object(A.getGptSlotInfoForAdUnitCode)(n).divId;t[e.transactionId].adUnitCode=n,t[e.transactionId].divId=i}}function gd(e,t,r){var n=function(e){var t=Qs(e,X.b);t.banner={};var r=Object(C.a)(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1]),t.banner.topframe=Object(A.inIframe)()?0:1,$s(e,t,X.b),t}(e),i=td(Object(C.a)(e,"mediaTypes.banner.sizes"),Object(C.a)(e,"params.size"));r.hasOwnProperty(e.transactionId)||(r[e.transactionId]={}),r[e.transactionId].gpid=Object(C.a)(e,"ortb2Imp.ext.gpid"),r[e.transactionId].dfp_ad_unit_code=Object(C.a)(e,"ortb2Imp.ext.data.adserver.adslot"),r[e.transactionId].tid=Object(C.a)(e,"ortb2Imp.ext.tid"),r[e.transactionId].pbadslot=Object(C.a)(e,"ortb2Imp.ext.data.pbadslot"),r[e.transactionId].tagId=Object(C.a)(e,"params.tagId"),r[e.transactionId].pos=Object(C.a)(e,"mediaTypes.banner.pos");var a=Object(C.a)(e,"ortb2Imp.ext.data");a&&(r[e.transactionId].adUnitFPD=a);var o=Object(C.a)(e,"params.id");!o||"string"!=typeof o&&"number"!=typeof o||(r[e.transactionId].sid=String(o));var s=e.adUnitCode,d=document.getElementById(s)?s:Object(A.getGptSlotInfoForAdUnitCode)(s).divId;r[e.transactionId].adUnitCode=s,r[e.transactionId].divId=d,i&&(r[e.transactionId].hasOwnProperty("ixImps")||(r[e.transactionId].ixImps=[]),r[e.transactionId].ixImps.push(n)),function(e,t,r){var n=e.transactionId;if(t.hasOwnProperty(n)){var i=[];t[n].hasOwnProperty("missingSizes")&&(i=t[n].missingSizes),pd(i,e.params.size),t[n].missingSizes=i}else if(Object(C.a)(e,"mediaTypes.banner.sizes")){var a=Object(A.deepClone)(e.mediaTypes.banner.sizes);pd(a,e.params.size);var o={missingSizes:a,impression:r};t[n]=o}}(e,t,n)}function md(e,t,r){var n=Object(A.deepClone)(t);return n.banner.w=r[0],n.banner.h=r[1],$s(e,n,X.b),n}function vd(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&"ix"===e.arguments[1].bidder&&function(e){if(Fs.localStorageIsEnabled()){var t;try{t=JSON.parse(Fs.getDataFromLocalStorage("ixdiag")||"{}")}catch(e){Object(A.logWarn)("ix can not read ixdiag from localStorage.")}var r=new Date;if(Object.keys(t).map((function(e){var n=new Date(e);n.setDate(n.getDate()+7)-r<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&"ix"===e.arguments[1].bidder){var n=r.toISOString().slice(0,10),i=e.arguments[1].code;i&&(t[n]=t[n]||{},Number(t[n][i])||(t[n][i]=0),t[n][i]++)}Fs.setDataInLocalStorage("ixdiag",JSON.stringify(t))}}(e)}function hd(e){e.renderer.push((function(){var t=e.adUnitCode,r=document.getElementById(t)?t:Object(A.getGptSlotInfoForAdUnitCode)(t).divId;r?window.createIXPlayer(r,e):Object(A.logWarn)("IX Bid Adapter: adUnitCode: "+r+" not found on page.")}))}function yd(e,t){var r=U.a.install({id:e,url:t,loaded:!1});try{r.setRender(hd)}catch(e){return Object(A.logWarn)("Prebid Error calling setRender on renderer",e),null}return t?r:(Object(A.logWarn)("Outstream renderer URL not found"),null)}function Od(e){if("outstream"!==Object(C.a)(e,"mediaTypes.video.context"))return!1;var t=Object(C.a)(e,"mediaTypes.video.renderer");return t||(t=Object(C.a)(e,"renderer")),!!("object"!=typeof t||!t.url||!t.render)||t.backupOnly}var jd={code:"ix",gvlid:10,aliases:[{code:"roundel",gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:Ss,isBidRequestValid:function(e){Ls||(P.on(k.EVENTS.AUCTION_DEBUG,vd),P.on(k.EVENTS.AD_RENDER_FAILED,vd),Ls=!0);var t,r,n=Object(C.a)(e,"params.video"),i=Object(C.a)(e,"params.size"),a=Object(C.a)(e,"mediaTypes.banner.sizes"),o=Object(C.a)(e,"mediaTypes.video"),s=Object(C.a)(e,"mediaTypes.video.playerSize"),d=e.params.hasOwnProperty("bidFloor"),c=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!Object(A.contains)(Ss,e.mediaType))return Object(A.logWarn)("IX Bid Adapter: media type is not supported."),!1;if(Object(C.a)(e,"mediaTypes.banner")&&!a)return!1;if(i){var u=nd(i);if(!u)return Object(A.logError)("IX Bid Adapter: size has invalid format.",{bidder:"ix",code:Ps}),!1;if(!td(e.sizes,u)&&!td(s,u)&&!td(a,u))return Object(A.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:"ix",code:Rs}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return Object(A.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:"ix",code:Ds}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return Object(A.logError)("IX Bid Adapter: siteId must valid value",{bidder:"ix",code:Ds}),!1;if((d||c)&&!(d&&c&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/)))))return Object(A.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:"ix",code:Bs}),!1;if(o&&n){var l=Xs(e).video,p=rd(o,n);if(Object(C.a)(e,"mediaTypes.video.context")===ao.b&&Od(e)&&l){var f=[Object(C.a)(l,"w"),Object(C.a)(l,"h")];if(!(f[0]>=ws[0]&&f[1]>=ws[1]))return Object(A.logError)("IX Bid Adapter: "+f+" is an invalid size for IX outstream renderer"),!1}if(p.length)return p.forEach((function(e){Object(A.logError)(e,{bidder:"ix",code:ks})})),!1}return function(e){return void 0===Object(C.a)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,t){var r=[],n={},i={},a={},o={};for(var s in Vs.getFeatureToggles(),e.forEach((function(e){var t=Object.keys(Object(C.a)(e,"mediaTypes",{}));for(var r in t)switch(t[r]){case X.b:gd(e,o,n);break;case X.d:bd(e,i);break;case X.c:fd(e,a);break;default:Object(A.logWarn)("IX Bid Adapter: ad unit mediaTypes "+r+" is not supported")}})),o)if(o.hasOwnProperty(s)){var d=o[s].missingSizes;n.hasOwnProperty(s)||(n[s]={}),n[s].hasOwnProperty("missingImps")||(n[s].missingImps=[],n[s].missingCount=0);for(var c=o[s].impression,u=0;u<d.length;u++){var l=md(e[0],c,d[u]);n[s].missingImps.push(l),n[s].missingCount++}}var p,f=[];return Object.keys(n).length>0&&f.push(n),Object.keys(i).length>0&&f.push(i),Object.keys(a).length>0&&f.push(a),Vs.isFeatureEnabled("pbjs_enable_multiformat")?r.push.apply(r,ad(e,t,(p={},f.forEach((function(e){Object.keys(e).forEach((function(t){Object.keys(p).includes(t)?p[t].hasOwnProperty("ixImps")&&e[t].hasOwnProperty("ixImps")?p[t].ixImps=[].concat(p[t].ixImps,e[t].ixImps):p[t].hasOwnProperty("missingImps")&&e[t].hasOwnProperty("missingImps")?p[t].missingImps=[].concat(p[t].missingImps,e[t].missingImps):e[t].hasOwnProperty("ixImps")?p[t].ixImps=e[t].ixImps:e[t].hasOwnProperty("missingImps")&&(p[t].missingImps=e[t].missingImps):p[t]=e[t]}))})),p))):(Object.keys(n).length>0&&r.push.apply(r,ad(e,t,n)),Object.keys(i).length>0&&r.push.apply(r,ad(e,t,i)),Object.keys(a).length>0&&r.push.apply(r,ad(e,t,a))),r},interpretResponse:function(e,t){var r=[],n=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return Vs.setFeatureToggles(e),r;for(var i=e.body,a=i.seatbid,o=0;o<a.length;o++)if(a[o].hasOwnProperty("bid")){for(var s=a[o].bid,d=t.data,c=0;c<s.length;c++){var u=id(s[c].impid,d.imp,t.validBidRequests);if((n=Zs(s[c],i.cur,u)).mediaType===X.d&&Od(u)){var l=Object(C.a)(i,"ext.videoplayerurl");if(n.renderer=yd(s[c].bidId,l),!n.renderer)continue}r.push(n)}if(Object(C.a)(d,"ext.ixdiag.err")&&Fs.localStorageIsEnabled())try{Fs.removeDataFromLocalStorage("ixdiag")}catch(e){Object(A.logError)("ix can not clear ixdiag from localStorage.")}}return Vs.setFeatureToggles(e),r},transformBidParams:function(e,t){return Object(A.convertTypes)({siteID:"number"},e)},getUserSyncs:function(e,t){var r=[],n=null;if(t.length>0&&(n=Object(C.a)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==n&&0==n)return[];if(e.iframeEnabled)r.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var i=null;N.b.getConfig("userSync")&&(i=N.b.getConfig("userSync").syncsPerBidder),0===i&&(i=n),i=n&&(0===i||i)?n>i?i:n:1;for(var a=0;a<i;a++)r.push({type:"image",url:_d(i,a)})}return r}};function _d(e,t){var r="",n="0";return Ks&&Ks.hasOwnProperty("gdprApplies")&&(n=Ks.gdprApplies?"1":"0"),Ks&&Ks.hasOwnProperty("consentString")&&(r=Ks.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+Gs.toString()+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+n+"&gdpr_consent="+r+"&us_privacy="+(Hs||"")}function Id(e){return e.imp.forEach((function(t,r){var n=t.ext;if(null==n)return e;Td(t)<2||Object.keys(n).forEach((function(i){if(X.b in t){var a=t.banner.ext;if(void 0!==a&&void 0!==a[i]&&a[i]==n[i]&&delete e.imp[r].banner.ext[i],void 0!==t.banner.format)for(var o=0;o<t.banner.format.length;o++)null!=t.banner.format[o].ext&&null!=t.banner.format[o].ext[i]&&t.banner.format[o].ext[i]==n[i]&&delete e.imp[r].banner.format[o].ext[i]}if(X.d in t){var s=t.video.ext;void 0!==s&&void 0!==s[i]&&s[i]==n[i]&&delete e.imp[r].video.ext[i]}if(X.c in t){var d=t.native.ext;void 0!==d&&void 0!==d[i]&&d[i]==n[i]&&delete e.imp[r].native.ext[i]}}))})),e}function Ed(e){return e.imp.forEach((function(t,r){if(null==t.ext)return e;if(!(Td(t)<2)){if(X.b in t){var n=t.banner.ext;if(void 0!==n&&void 0!==n.siteID&&delete e.imp[r].banner.ext.siteID,void 0!==t.banner.format)for(var i=0;i<t.banner.format.length;i++)void 0!==t.banner.format[i].ext&&void 0!==t.banner.format[i].ext.siteID&&(Object(x.a)(e.imp[r],"ext.siteID",t.banner.format[i].ext.siteID),Object(x.a)(e,"ext.ixdiag.usid",!0),delete e.imp[r].banner.format[i].ext.siteID)}if(X.d in t){var a=t.video.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[r].video.ext.siteID}if(X.c in t){var o=t.native.ext;void 0!==o&&void 0!==o.siteID&&delete e.imp[r].native.ext.siteID}}})),e}function Td(e){var t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}Object(cr.e)(jd),Object(w.b)("ixBidAdapter");var Sd=jd.code;function wd(e,t,r,n){var i={mimes:n.mimes,minduration:n.minduration,maxduration:n.maxduration,protocols:n.protocols,linearity:n.linearity,placement:n.placement,playbackmethod:n.playbackmethod,startdelay:n.startdelay,api:n.api},a=n.skip;if(void 0!==a){i.skip=a;var o=n.skipmin,s=n.skipafter;void 0!==o&&(i.skipmin=o),void 0!==s&&(i.skipafter=s)}var d=e.params.jwpseg,c=t.optionalParams||{};return Array.isArray(d)&&d.length&&(c.jwpseg=d),e.engine.setConfig({ix:{firstPartyData:c}}),{bidder:Sd,params:{id:"JWPlayer",siteId:t.id,size:n.playerSize,video:i,content:r}}}function Ad(e){return void 0===e&&(e={}),void 0!==e.id}var Cd="jwplayer";function xd(e,t,r,n){t.id=t.placementId;var i=Bo(e,t,r,n);return i.bidder=Cd,i}function Pd(e){return!!e&&void 0!==e.placementId}var Rd,kd,Dd,Bd=Object.freeze({CODE:"kargo",HOST:"krk2.kargo.com",REQUEST_METHOD:"POST",REQUEST_ENDPOINT:"/api/v1/prebid",TIMEOUT_ENDPOINT:"/api/v1/event/timeout",GVLID:972,SUPPORTED_MEDIA_TYPES:[X.b,X.d]}),Ud=Object(be.d)({bidderCode:Bd.CODE}),Nd=Object.freeze({KEY:"currency",US_DOLLAR:"USD"}),Md=Object.freeze({SOCIAL_CANVAS:"params.socialCanvas",SUA:"ortb2.device.sua",TDID_ADAPTER:"userId.tdid"}),qd=Object.freeze({BROWSERS:"browsers",MOBILE:"mobile",MODEL:"model",PLATFORM:"platform",SOURCE:"source"}),Wd=[qd.BROWSERS,qd.MOBILE,qd.MODEL,qd.SOURCE,qd.PLATFORM],zd=Object.freeze({KEY:"krg_crb",SYNC_URL:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}&gpp={GPP_STRING}&gpp_sid={GPP_SID}",SYNC_COUNT:5,PAGE_VIEW_ID:"pageViewId",PAGE_VIEW_TIMESTAMP:"pageViewTimestamp",PAGE_VIEW_URL:"pageViewUrl"});function Ld(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}function Fd(){return Rd||(Rd=Ld()),Rd}function Vd(e){try{return Ud.getDataFromLocalStorage(e)}catch(e){return null}}function Gd(e,t,r,n,i){var a=Kd._getCrb(),o={crbIDs:a.syncIds||{}};e&&(o.tdID=e),!e&&a.tdID&&(o.tdID=a.tdID),t&&(o.usp=t);try{r&&(o.gdpr={consent:r.consentString||"",applies:!!r.gdprApplies})}catch(e){}if(null!=a.lexId&&(o.kargoID=a.lexId),null!=a.clientId&&(o.clientID=a.clientId),null!=a.optOut&&(o.optOut=a.optOut),null!=n&&(o.sharedIDEids=n),i){var s={};i&&i.consentString&&(s.gppString=i.consentString),i&&i.applicableSections&&(s.applicableSections=i.applicableSections),Object(A.isEmpty)(s)||(o.gpp=s)}return o}var Kd={gvlid:Bd.GVLID,code:Bd.CODE,isBidRequestValid:function(e){return!(!e||!e.params)&&!!e.params.placementId},buildRequests:function(e,t){var r=N.b.getConfig(Nd.KEY),n=r&&r.adServerCurrency?r.adServerCurrency:null,i=[];Object(A._each)(e,(function(e){i.push(function(e){var t={id:e.bidId,tid:e.transactionId,pid:e.params.placementId,code:e.adUnitCode};null!=e.floorData&&e.floorData.floorMin>0&&(t.floor=e.floorData.floorMin);e.bidRequestsCount>0&&(t.bidRequestCount=e.bidRequestsCount);e.bidderRequestsCount>0&&(t.bidderRequestCount=e.bidderRequestsCount);e.bidderWinsCount>0&&(t.bidderWinCount=e.bidderWinsCount);var r=function(e){if(null!=e.ortb2Imp){if(null!=e.ortb2Imp.gpid&&""!=e.ortb2Imp.gpid)return e.ortb2Imp.gpid;if(null!=e.ortb2Imp.ext&&null!=e.ortb2Imp.ext.data){if(null!=e.ortb2Imp.ext.data.pbAdSlot&&""!=e.ortb2Imp.ext.data.pbAdSlot)return e.ortb2Imp.ext.data.pbAdSlot;if(null!=e.ortb2Imp.ext.data.adServer&&null!=e.ortb2Imp.ext.data.adServer.adSlot&&""!=e.ortb2Imp.ext.data.adServer.adSlot)return e.ortb2Imp.ext.data.adServer.adSlot}}if(null!=e.adUnitCode&&""!=e.adUnitCode)return e.adUnitCode;return""}(e);null!=r&&""!=r&&(t.fpd={gpid:r});null!=e.mediaTypes&&(null!=e.mediaTypes.banner&&(t.banner=e.mediaTypes.banner),null!=e.mediaTypes.video&&(t.video=e.mediaTypes.video),null!=e.mediaTypes.native&&(t.native=e.mediaTypes.native));return t}(e))}));var a=e[0],o=Object(C.a)(a,Md.TDID_ADAPTER),s=function(e){var t;return{pageURL:null==e||null==(t=e.refererInfo)?void 0:t.page,rawCRB:Ud.getCookie(zd.KEY),rawCRBLocalStorage:Vd(zd.KEY)}}(t),d=Object(S.default)({},{pbv:"7.54.1",aid:a.auctionId,sid:Fd(),url:s.pageURL,timeout:t.timeout,ts:(new Date).getTime(),device:{size:[window.screen.width,window.screen.height]},imp:i,user:Gd(o,t.uspConsent,t.gdprConsent,a.userIdAsEids,t.gppConsent)}),c=function(){if(kd===window.location.pathname)return++Dd;return kd=window.location.pathname,Dd=0}();null!=c&&(d.requestCount=c),null!=n&&n!=Nd.US_DOLLAR&&(d.cur=n),null!=s.rawCRB&&(d.rawCRB=s.rawCRB),null!=s.rawCRBLocalStorage&&(d.rawCRBLocalStorage=s.rawCRBLocalStorage);var u=Object(C.a)(a,Md.SOCIAL_CANVAS);null!=u&&(d.socan=u);var l=Object(C.a)(a,Md.SUA);if(l){var p=[];Wd.forEach((function(e){var t=l[e];if(t&&("string"!=typeof t||""!==t.trim()))switch(e){case qd.MOBILE&&t<1:case qd.SOURCE&&t<1:break;default:p.push(e)}})),d.device.sua=Object(A.pick)(l,p)}var f=null!=Vd(zd.PAGE_VIEW_ID),b=null!=Vd(zd.PAGE_VIEW_TIMESTAMP),g=null!=Vd(zd.PAGE_VIEW_URL),m={};return f&&(m.id=Vd(zd.PAGE_VIEW_ID)),b&&(m.timestamp=Number(Vd(zd.PAGE_VIEW_TIMESTAMP))),g&&(m.url=Vd(zd.PAGE_VIEW_URL)),Object(A.isEmpty)(m)||(d.page=m),Object(S.default)({},t,{method:Bd.REQUEST_METHOD,url:"https://"+Bd.HOST+Bd.REQUEST_ENDPOINT,data:d,currency:n})},interpretResponse:function(e,t){var r=e.body,n=[];return Object(A.isEmpty)(r)||"object"!=typeof r||Object.entries(r).forEach((function(e){var r=e[0],i=e[1],a={mediaType:i.mediaType&&Bd.SUPPORTED_MEDIA_TYPES.includes(i.mediaType)?i.mediaType:X.b};i.metadata&&i.metadata.landingPageDomain&&(a.clickUrl=i.metadata.landingPageDomain[0],a.advertiserDomains=i.metadata.landingPageDomain);var o={requestId:r,cpm:Number(i.cpm),width:i.width,height:i.height,ttl:300,creativeId:i.id,dealId:i.targetingCustom,netRevenue:!0,currency:i.currency||t.currency,mediaType:a.mediaType,meta:a};a.mediaType==X.d?i.admUrl?o.vastUrl=i.admUrl:o.vastXml=i.adm:o.ad=i.adm,n.push(o)})),n},getUserSyncs:function(e,t,r,n,i){var a=[],o=Ld(),s=Kd._getCrb().clientId,d=r&&r.gdprApplies?1:0,c=r&&r.consentString?r.consentString:"",u=i&&i.consentString?i.consentString:"",l=i&&i.applicableSections&&Array.isArray(i.applicableSections)?i.applicableSections.join(","):"";if("string"==typeof n&&4==n.length&&1==n[0]&&"Y"==n[2])return a;if(e.iframeEnabled&&o&&s)for(var p=0;p<zd.SYNC_COUNT;p++)a.push({type:"iframe",url:zd.SYNC_URL.replace("{UUID}",s).replace("{SEED}",o).replace("{INDEX}",p).replace("{GDPR}",d).replace("{GDPR_CONSENT}",c).replace("{US_PRIVACY}",n||"").replace("{GPP_STRING}",u).replace("{GPP_SID}",l)});return a},supportedMediaTypes:Bd.SUPPORTED_MEDIA_TYPES,onTimeout:function(e){null!=e&&e.forEach((function(e){!function(e,t){var r={aid:e,ato:t};try{var n=Object(A.buildUrl)({protocol:"https",hostname:Bd.HOST,pathname:Bd.TIMEOUT_ENDPOINT,search:r});Object(A.triggerPixel)(n)}catch(e){}}(e.auctionId,e.timeout)}))},_getCrb:function(){var e=function(){try{return JSON.parse(atob(Vd(zd.KEY)))}catch(e){return{}}}();return Object.keys(e).length?e:function(){try{var e=JSON.parse(Ud.getCookie(zd.KEY));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}}()},_getSessionId:Fd};Object(cr.e)(Kd),Object(w.b)("kargoBidAdapter");var Hd=Kd.code;function Jd(e,t){var r={placementId:""+t.placementId};return{bidder:Hd,params:r}}function Yd(e){return!!e&&void 0!==e.placementId}var Xd=0,Qd=1,$d=2,Zd="client_timeout",ec="client_bid_won",tc=Object(ve.a)(),rc={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],rc.urlData={domain:tc.domain,page:tc.page,isTop:tc.reachedTop};function nc(){try{return window.top.document.referrer}catch(e){return document.referrer}}function ic(e,t){var r=t.refererInfo,n={domain:(e=e||{}).domain||r.domain,page:e.page||r.page,ref:e.ref||nc(),topMostLocation:r.topmostLocation,isTop:e.isTop||r.reachedTop};return Object(S.default)(n,function(){if(rc.pageMeta)return rc.pageMeta;var e=ac('link[rel="canonical"]',"href"),t=ac('meta[property="og:url"]',"content"),r=ac('meta[name="twitter:url"]',"content");return rc.pageMeta=Object(S.default)({},e&&{canonical_url:e},t&&{og_url:t},r&&{twitter_url:r}),rc.pageMeta}())}function ac(e,t){var r,n,i=function(e,t){try{var r=Object(A.getWindowTop)().document.querySelector(e);if(null!==r&&r[t])return r[t]}catch(e){}}(e,t);return i&&(r=i,(n=Object(A.getWindowTop)().document.createElement("a")).href=r,n.href)}function oc(e,t){return e.filter((function(e){return e.type===t}))}function sc(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function dc(e,t){var r=Object(C.a)(e,"params"),n=Object(C.a)(t,"gdprConsent"),i=Object(C.a)(t,"uspConsent"),a=Object(C.a)(e,"userId"),o=Object(C.a)(e,"schain")||{},s=mc.getWindowSize(),d=!(!n||!n.gdprApplies),c=!!i,u=!!N.b.getConfig("coppa");return Object(S.default)({},{customer_id:r.cid},{prebid_version:Object(w.a)().version},{gdpr_applies:d},d&&{gdpr_consent_string:n.consentString||""},{usp_applies:c},c&&{usp_consent_string:i||""},{coppa_applies:u},-1!==s.w&&-1!==s.h&&{screen:s},a&&{user_id:a},Object(w.a)().medianetGlobals.analyticsEnabled&&{analytics:!0},!Object(A.isEmpty)(o)&&{schain:o})}function cc(e){var t={id:e.bidId,transactionId:e.transactionId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(t.ortb2Imp=e.ortb2Imp);var r,n=Object(C.a)(e,"mediaTypes.banner.sizes")||[],i=Object(C.a)(e,"mediaTypes.video")||{},a=Object(C.a)(e,"params.video")||{},o=Object(S.default)({},a,i);if(Object(A.isEmpty)(o)||(t.video=o),n.length>0&&(t.banner=(r=n,Object(A.isArray)(r)&&2===r.length&&!Object(A.isArray)(r[0])?[sc(r)]:r.map((function(e){return sc(e)})))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){Object(A.logError)("medianet : Incorrect JSON : bidRequest.nativeParams")}e.params.crid&&(t.tagid=e.params.crid.toString());var s=parseFloat(e.params.bidfloor||e.params.bidFloor);s&&(t.bidfloor=s);var d=function(e){var t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){var r=Object(A.getGptSlotInfoForAdUnitCode)(e).divId;Object(A.isStr)(r)&&(t=document.getElementById(r))}if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),i={};return i.top_left={y:n.top,x:n.left},i.bottom_right={y:n.bottom,x:n.right},i}return null}(e.adUnitCode);if(d&&t.banner&&0!==t.banner.length){var c=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(d);t.ext.coordinates=c,t.ext.viewability=pc(d.top_left,lc(t.banner)),pc(c.top_left,lc(t.banner))>.5?t.ext.visibility=Qd:t.ext.visibility=$d}else t.ext.visibility=Xd;var u=function(e){var t=[];"function"==typeof e.getFloor&&[X.b,X.d,X.c].forEach((function(r){e.mediaTypes.hasOwnProperty(r)&&(r==X.b?e.mediaTypes.banner.sizes.forEach((function(n){uc(e,r,n,t)})):uc(e,r,"*",t))}));return t}(e);return u&&u.length>0&&(t.bidfloors=u),t}function uc(e,t,r,n){var i=e.getFloor({currency:"USD",mediaType:t,size:r});r.length>1&&(i.size=r),i.mediaType=t,n.push(i)}function lc(e){return e.reduce((function(e,t){return t.h*t.w<e.h*e.w?t:e}))}function pc(e,t){var r=t.w*t.h,n=mc.getWindowSize(),i={x:e.x+t.w,y:e.y+t.h};return 0===r||-1===n.w||-1===n.h?0:function(e,t,r,n){if(e.x>n.x||t.x<r.x||e.y>n.y||t.y<r.y)return 0;return(Math.min(t.x,n.x)-Math.max(e.x,r.x))*(Math.min(t.y,n.y)-Math.max(e.y,r.y))}(e,i,{x:0,y:0},{x:n.w,y:n.h})/r}function fc(e,t){t=Object(A.isArray)(t)&&t||[];var r={logid:"kfk",evtid:"projectevents",project:"prebid"};return r.acid=Object(C.a)(t,"0.auctionId")||"",r.cid=Object(w.a)().medianetGlobals.cid||"",r.crid=t.map((function(e){return Object(C.a)(e,"params.0.crid")||e.adUnitCode})).join("|"),r.adunit_count=t.length||0,r.dn=rc.urlData.domain||"",r.requrl=rc.urlData.page||"",r.istop=rc.urlData.isTop||"",r.event=e.name||"",r.value=e.value||"",r.rd=e.related_data||"",r}function bc(e,t){var r={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:fc(e,t)};Object(A.triggerPixel)(Object(A.buildUrl)(r))}function gc(e){var t,r=Object(C.a)(e,"context")||"",n=Object(C.a)(e,"vto");"outstream"==r&&n&&(e.renderer=((t=U.a.install({url:"https://prebid.media.net/video/bundle.js"})).setRender((function(e){window.mnet.queue.push((function(){var t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},r=e.dfp_id,n=Object(A.getGptSlotInfoForAdUnitCode)(r).divId||r;window.mnet.mediaNetoutstreamPlayer(e,n,t)}))})),t))}Object(w.a)().medianetGlobals=Object(w.a)().medianetGlobals||{};var mc={code:"medianet",gvlid:142,aliases:[{code:"aax",gvlid:720}],supportedMediaTypes:[X.b,X.c,X.d],isBidRequestValid:function(e){return e.params?e.params.cid&&Object(A.isStr)(e.params.cid)&&!Object(A.isEmptyStr)(e.params.cid)?(Object(S.default)(Object(w.a)().medianetGlobals,!Object(w.a)().medianetGlobals.cid&&{cid:e.params.cid}),!0):(Object(A.logError)("medianet : cid should be a string"),!1):(Object(A.logError)("medianet : Missing bid parameters"),!1)},buildRequests:function(e,t){var r,n=function(e,t){return{site:ic(e[0].params.site,t),ext:dc(e[0],t),id:e[0].auctionId,imp:e.map((function(e){return cc(e)})),ortb2:t.ortb2,tmax:t.timeout}}(e=Object(R.b)(e),t);return{method:"POST",url:(r=n.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(r)),data:JSON.stringify(n)}},interpretResponse:function(e,t){var r=[];if(!e||!e.body)return Object(A.logInfo)("medianet : response is empty"),r;var n=e.body.bidList;return Object(A.isArray)(n)&&0!==n.length?((r=n.filter((function(e){return function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e)}))).forEach(gc),r):(Object(A.logInfo)("medianet : no bids"),r)},getUserSyncs:function(e,t){var r,n=(r=t,!Object(A.isEmpty)(r)&&r[0].body&&r[0].body.ext&&Object(A.isArray)(r[0].body.ext.csUrl)?r[0].body.ext.csUrl:[]);return e.iframeEnabled?oc(n,"iframe"):e.pixelEnabled?oc(n,"image"):void 0},onTimeout:function(e){try{bc({name:Zd,value:e.length,related_data:e[0].timeout||N.b.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{bc({name:ec,value:e.cpm},[e])}catch(e){}},clearMnData:function(){rc={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};Object(cr.e)(mc),Object(w.b)("medianetBidAdapter");var vc=mc.code;function hc(e,t,r){var n={cid:""+t.pubid,crid:""+t.id,site:{content:r}},i=e.settings.floorPriceCents;void 0!==i&&(n.bidfloor=i/100);var a=e.params.jwpseg;return Array.isArray(a)&&a.length&&(n.ccd=a),{bidder:vc,params:n}}function yc(e){return!!e&&void 0!==e.pubid&&void 0!==e.id}var Oc="openx";function jc(e,t,r,n){var i={unit:""+t.id,video:n},a=t.delDomain;a&&(i.delDomain=""+a);var o=t.platform;o&&(i.platform=""+o);var s=e.settings.floorPriceCents;return void 0!==s&&(i.customFloor=s/100),{bidder:Oc,params:i}}function _c(e){return!!e&&void 0!==e.id&&(void 0!==e.delDomain||void 0!==e.platform)}var Ic="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Ec={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Tc="number",Sc="string",wc="boolean",Ac="array",Cc={mimes:Ac,minduration:Tc,maxduration:Tc,startdelay:Tc,playbackmethod:Ac,api:Ac,protocols:Ac,w:Tc,h:Tc,battr:Ac,linearity:Tc,placement:Tc,plcmt:Tc,minbitrate:Tc,maxbitrate:Tc,skip:Tc},xc=1,Pc=3,Rc={1:"PMP",5:"PREF",6:"PMPG"},kc={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,n=kc.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),a=0;a<window.bluebillywig.renderers.length;a++)if(window.bluebillywig.renderers[a]._id===n){r=window.bluebillywig.renderers[a];break}r?r.bootstrap(t,i):Object(A.logWarn)("PubMatic: : Couldn't find a renderer with "+n)}else Object(A.logWarn)("PubMatic: : No vastXml or vastUrl on bid, bailing...")},newRenderer:function(e,t){var r=Ic.replace("$RENDERER",e),n=U.a.install({url:r,loaded:!1,adUnitCode:t});try{n.setRender(kc.outstreamRender)}catch(e){Object(A.logWarn)("PubMatic: : Error tying to setRender on renderer",e)}return n},outstreamRender:function(e){e.renderer.push((function(){kc.bootstrapPlayer(e)}))},getRendererId:function(e,t){return e+"-"+t}},Dc=[X.b,X.d,X.c],Bc=0,Uc=!1,Nc=["pubmatic"],Mc=["all"];function qc(e,t){if(Object(A.isStr)(t))switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||void 0;case"yob":return parseInt(t)||void 0;default:return t}else t&&Object(A.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+typeof t)}function Wc(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,Object(A.isStr)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&Object(A.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var r=e.params.adSlot,n=r.split(":");if(r=n[0],2==n.length&&(e.params.adUnitIndex=n[1]),n=r.split("@"),e.params.adUnit=n[0],n.length>1){if(2!=(n=n[1].split("x")).length)return void Object(A.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(X.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,a=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&a.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=a,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function zc(e,t,r){var n,i="Ignoring param key: "+e+", expects "+r+", found "+typeof t;switch(r){case wc:n=A.isBoolean;break;case Tc:n=A.isNumber;break;case Sc:n=A.isStr;break;case Ac:n=A.isArray}if(n(t))return t;Object(A.logWarn)("PubMatic: "+i)}var Lc={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},Fc=k.NATIVE_IMAGE_TYPES,Vc=k.NATIVE_KEYS_THAT_ARE_NOT_ASSETS,Gc=k.NATIVE_KEYS,Kc=k.NATIVE_ASSET_TYPES,Hc=Object.values(Lc);function Jc(e){var t;if(e.ortb){e=e.ortb,t=Object(S.default)({ver:"1.2"},e,{assets:[]});var r=e.assets,n=function(e){return e.title||e.img||e.data||e.video};if(r.length<1||!r.some((function(e){return n(e)})))return Object(A.logWarn)("PubMatic: : Native assets object is empty or contains some invalid object"),Uc=!0,t;r.forEach((function(e){var r=e;r.img&&(r.img.type==Pc?(r.w=r.w||r.width||(r.sizes?r.sizes[0]:void 0),r.h=r.h||r.height||(r.sizes?r.sizes[1]:void 0),r.wmin=r.wmin||r.minimumWidth||(r.minsizes?r.minsizes[0]:void 0),r.hmin=r.hmin||r.minimumHeight||(r.minsizes?r.minsizes[1]:void 0)):r.img.type==xc&&(r.w=r.w||r.width||(r.sizes?r.sizes[0]:void 0),r.h=r.h||r.height||(r.sizes?r.sizes[1]:void 0))),r&&void 0!==r.id&&n(r)&&t.assets.push(r)}))}else t=function(e){if(!e&&!Object(A.isPlainObject)(e))return Object(A.logWarn)("PubMatic: : Native assets object is empty or not an object: "+e),void(Uc=!0);var t={ver:"1.2",assets:[]};for(var r in e)if(!Vc.includes(r))if(Gc.hasOwnProperty(r)||Hc.includes(r)){var n=e[r],i=0;n.required&&Object(A.isBoolean)(n.required)&&(i=Number(n.required));var a={id:t.assets.length,required:i};if(r in Lc)a.data={type:Kc[Lc[r]]},(n.len||n.length)&&(a.data.len=n.len||n.length),n.ext&&(a.data.ext=n.ext);else if("icon"===r||"image"===r){if(a.img={type:"icon"===r?Fc.ICON:Fc.MAIN},n.aspect_ratios)if(Object(A.isArray)(n.aspect_ratios))if(n.aspect_ratios.length){var o=n.aspect_ratios[0],s=o.min_width,d=o.min_height;Object(A.isInteger)(s)&&Object(A.isInteger)(d)?(a.img.wmin=s,a.img.hmin=d):Object(A.logWarn)("PubMatic: : image.aspect_ratios min_width or min_height are invalid: "+s+", "+d);var c=n.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return e.ratio_width+":"+e.ratio_height}));c.length>0&&(a.img.ext={aspectratios:c})}else Object(A.logWarn)("PubMatic: : image.aspect_ratios was passed, but it's empty: "+n.aspect_ratios);else Object(A.logWarn)("PubMatic: : image.aspect_ratios was passed, but it's not a an array: "+n.aspect_ratios);a.img.w=n.w||n.width,a.img.h=n.h||n.height,a.img.wmin=n.wmin||n.minimumWidth||(n.minsizes?n.minsizes[0]:void 0),a.img.hmin=n.hmin||n.minimumHeight||(n.minsizes?n.minsizes[1]:void 0),n.sizes&&(2===n.sizes.length&&Object(A.isInteger)(n.sizes[0])&&Object(A.isInteger)(n.sizes[1])?(Object(A.logInfo)("PubMatic: : if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin"),a.img.w=n.sizes[0],a.img.h=n.sizes[1],delete a.img.hmin,delete a.img.wmin):Object(A.logWarn)("PubMatic: : image.sizes was passed, but its value is not an array of integers: "+n.sizes)),n.ext&&(a.img.ext=n.ext),n.mimes&&(a.img.mimes=n.mimes)}else"title"===r?(a.title={len:n.len||n.length||140},n.ext&&(a.title.ext=n.ext)):"ext"===r&&(a.ext=n,delete a.required);t.assets.push(a)}else Object(A.logWarn)("PubMatic: : Unrecognized native asset code: "+r+". Asset will be ignored.");return t.assets.length<1?(Object(A.logWarn)("PubMatic: : Could not find any valid asset"),void(Uc=!0)):t}(e);return t}function Yc(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(void 0!==r&&Object(A.isArray)(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=void 0,Object(A.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(n=[],r.forEach((function(e){e.length>1&&n.push({w:e[0],h:e[1]})})),n.length>0&&(t.format=n)),t.pos=0,t.topframe=Object(A.inIframe)()?0:1}else Object(A.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=void 0;return t}function Xc(e){var t,r=Object(A.mergeDeep)(Object(C.a)(e.mediaTypes,"video"),e.params.video);if(void 0!==r){for(var n in t={},function(e,t){Object(C.a)(e,"placement")||Object(A.logWarn)("Video.Placement param missing for "+t)}(r,e.adUnitCode),Cc)r.hasOwnProperty(n)&&(t[n]=zc(n,r[n],Cc[n]));Object(A.isArray)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Object(A.isNumber)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=void 0,Object(A.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function Qc(e){var t,r,n={},i={},a=e.hasOwnProperty("sizes")?e.sizes:[],o="",s=[];if(function(e,t){t.params.deals&&(Object(A.isArray)(t.params.deals)?t.params.deals.forEach((function(t){Object(A.isStr)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):Object(A.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):Object(A.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(n={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:qc("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:qc("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?qc("currency",e.params.currency):"USD"},e),function(e,t){var r,n="";if(t.params.dctr)if(n=t.params.dctr,Object(A.isStr)(n)&&n.length>0){var i=n.split("|");n="",i.forEach((function(e){n+=e.length>0?e.trim()+"|":""})),r=n.length,"|"===n.substring(r,r-1)&&(n=n.substring(0,r-1)),e.ext.key_val=n.trim()}else Object(A.logWarn)("PubMatic: Ignoring param : dctr with value : "+n+", expects string-value, found empty or non-string value")}(n,e),function(e,t){var r=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,n="";if(void 0!==r&&""!==r&&r.hasOwnProperty("segments")){var i,a=r.segments.length;n+="jw-id="+r.content.id;for(var o=0;o<a;o++)n+="|jw-"+r.segments[o]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=n:i.key_val+="|"+n}}(n,e),e.hasOwnProperty("mediaTypes"))for(o in e.mediaTypes)switch(o){case X.b:void 0!==(t=Yc(e))&&(n.banner=t);break;case X.c:i.request=JSON.stringify(Jc(e.nativeParams)),Uc?(Object(A.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),Uc=!1):n.native=i;break;case X.d:void 0!==(r=Xc(e))&&(n.video=r)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:Object(A.inIframe)()?0:1},Object(A.isArray)(a)&&a.length>1&&((a=a.splice(1,a.length-1)).forEach((function(e){s.push({w:e[0],h:e[1]})})),t.format=s),n.banner=t;return function(e,t){var r=Object(S.default)({},Object(C.a)(t,"ortb2Imp.ext.data"));Object.keys(r).forEach((function(t){"pbadslot"===t?"string"==typeof r[t]&&r[t]&&Object(x.a)(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach((function(t){var n=Object(C.a)(r,"adserver."+t);"string"==typeof n&&n&&(Object(x.a)(e,"ext.data.adserver."+t.toLowerCase(),n),"adslot"===t&&Object(x.a)(e,"ext.dfp_ad_unit_code",n))})):Object(x.a)(e,"ext.data."+t,r[t])}))}(n,e),function(e,t){var r=-1;"function"!=typeof t.getFloor||N.b.getConfig("pubmatic.disableFloors")||[X.b,X.d,X.c].forEach((function(n){if(e.hasOwnProperty(n)){var i=[];"banner"===n&&(e[n].w&&e[n].h&&i.push([e[n].w,e[n].h]),Object(A.isArray)(e[n].format)&&e[n].format.forEach((function(e){return i.push([e.w,e.h])}))),0===i.length&&i.push("*"),i.forEach((function(i){var a=t.getFloor({currency:e.bidfloorcur,mediaType:n,size:i});if(Object(A.logInfo)("PubMatic: ","floor from floor module returned for mediatype:",n," and size:",i," is: currency",a.currency,"floor",a.floor),"object"==typeof a&&a.currency===e.bidfloorcur&&!isNaN(parseInt(a.floor))){var o=parseFloat(a.floor);Object(A.logInfo)("PubMatic: ","floor from floor module:",o,"previous floor value",r,"Min:",Math.min(o,r)),r=-1===r?o:Math.min(o,r),Object(A.logInfo)("PubMatic: ","new floor value:",r)}}))}}));e.bidfloor&&(Object(A.logInfo)("PubMatic: ","floor from floor module:",r,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor));e.bidfloor=!isNaN(r)&&r>0?r:void 0,Object(A.logInfo)("PubMatic: ","new impObj.bidfloor value:",e.bidfloor)}(n,e),n.hasOwnProperty(X.b)||n.hasOwnProperty(X.c)||n.hasOwnProperty(X.d)?n:void 0}function $c(e,t){(t=t.filter((function(e){return"string"==typeof e||(Object(A.logWarn)("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,r){return r.indexOf(e)===t}))).length>0&&(Object(A.logWarn)("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function Zc(e){return!0===Object(A.isArray)(e)&&e.length>0}var eu={code:"pubmatic",gvlid:76,supportedMediaTypes:[X.b,X.d,X.c],isBidRequestValid:function(e){if(e&&e.params){if(!Object(A.isStr)(e.params.publisherId))return Object(A.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(X.d)){var t=Object(C.a)(e.mediaTypes,"video.mimes"),r=Object(C.a)(e,"params.video.mimes");if(!1===Zc(t)&&!1===Zc(r))return Object(A.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[X.d].hasOwnProperty("context"))return Object(A.logError)("PubMatic: : no context specified in bid. Rejecting bid: ",e),!1;if("outstream"===e.mediaTypes[X.d].context&&!Object(A.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[X.d].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(X.b)||e.mediaTypes.hasOwnProperty(X.c)?(delete e.mediaTypes[X.d],Object(A.logWarn)('PubMatic: : for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: ',e),!0):(Object(A.logError)('PubMatic: : for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: ',e),!1)}return!0}return!1},buildRequests:function(e,t){var r,n,i,a,o,s;t&&t.refererInfo&&(s=t.refererInfo);var d,c=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(s),u=function(e){return{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(c),l="",p=[],f=[],b=[];if(e.forEach((function(e){if((d=Object(A.deepClone)(e)).params.adSlot=d.params.adSlot||"",Wc(d),d.mediaTypes&&d.mediaTypes.hasOwnProperty("video")||d.params.hasOwnProperty("video"));else if(!(d.hasOwnProperty("mediaTypes")&&d.mediaTypes.hasOwnProperty(X.c)||0!==d.params.width||0!==d.params.height))return void Object(A.logWarn)("PubMatic: Skipping the non-standard adslot: ",d.params.adSlot,JSON.stringify(d));c.pubId=c.pubId||d.params.publisherId,(c=function(e,t){var r,n,i;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),Ec)Ec.hasOwnProperty(r)&&(n=e[r])&&("object"==typeof(i=Ec[r])&&(n=i.f(n,t)),Object(A.isStr)(n)?t[r]=n:Object(A.logWarn)("PubMatic: Ignoring param : "+r+" with value : "+Ec[r]+", expects string-value, found "+typeof n));return t}(d.params,c)).transactionId=d.transactionId,""===l?l=d.params.currency||void 0:d.params.hasOwnProperty("currency")&&l!==d.params.currency&&Object(A.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),d.params.currency=l,d.params.hasOwnProperty("dctr")&&Object(A.isStr)(d.params.dctr)&&p.push(d.params.dctr),d.params.hasOwnProperty("bcat")&&Object(A.isArray)(d.params.bcat)&&(f=f.concat(d.params.bcat)),d.params.hasOwnProperty("acat")&&Object(A.isArray)(d.params.acat)&&(b=b.concat(d.params.acat));var t=Qc(d);t&&u.imp.push(t)})),0!=u.imp.length){u.site.publisher.id=c.pubId.trim(),Bc=c.pubId.trim(),u.ext.wrapper={},u.ext.wrapper.profile=parseInt(c.profId)||void 0,u.ext.wrapper.version=parseInt(c.verId)||void 0,u.ext.wrapper.wiid=c.wiid||t.auctionId,u.ext.wrapper.wv="prebid_prebid_7.54.1",u.ext.wrapper.transactionId=c.transactionId,u.ext.wrapper.wp="pbjs";var g,m,v=t?$.a.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==v){if(u.ext.marketplace={},t&&1==v){var h=$.a.get(t.bidderCode,"allowedAlternateBidderCodes");Object(A.isArray)(h)?(h=h.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(A.uniques),Nc=h.includes("*")?Mc:[].concat(Nc,h)):Nc=Mc}u.ext.marketplace.allowedbidders=Nc.filter(A.uniques)}u.user.gender=c.gender?c.gender.trim():void 0,u.user.geo={},u.user.geo.lat=qc("lat",c.lat),u.user.geo.lon=qc("lon",c.lon),u.user.yob=qc("yob",c.yob),u.device.geo=u.user.geo,u.site.page=c.kadpageurl.trim()||u.site.page.trim(),u.site.domain=(g=u.site.page,(m=document.createElement("a")).href=g,m.hostname),"object"==typeof N.b.getConfig("content")&&(u.site.content=N.b.getConfig("content")),"object"==typeof N.b.getConfig("device")&&(u.device=Object(S.default)(u.device,N.b.getConfig("device"))),u.device.language=u.device.language&&u.device.language.split("-")[0],Object(x.a)(u,"source.tid",c.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(u.test=1),e[0].schain&&Object(x.a)(u,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(Object(x.a)(u,"user.ext.consent",t.gdprConsent.consentString),Object(x.a)(u,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Object(x.a)(u,"regs.ext.us_privacy",t.uspConsent),!0===N.b.getConfig("coppa")&&Object(x.a)(u,"regs.coppa",1),function(e,t){var r=Object(C.a)(t,"0.userIdAsEids");Object(A.isArray)(r)&&r.length>0&&Object(x.a)(e,"user.eids",r)}(u,e);var y,O,j,_,I=t&&t.ortb2||{};if(I.site){var E=u.site,T=E.page,w=E.domain,P=E.ref;Object(A.mergeDeep)(u,{site:I.site}),u.site.page=T,u.site.domain=w,u.site.ref=P}if(I.user&&Object(A.mergeDeep)(u,{user:I.user}),I.bcat&&(f=f.concat(I.bcat)),null!=(r=I.device)&&r.sua)u.device.sua=null==(y=I.device)?void 0:y.sua;if(null!=(n=I.ext)&&null!=(i=n.prebid)&&null!=(a=i.bidderparams)&&null!=(o=a[t.bidderCode])&&o.acat){var R=I.ext.prebid.bidderparams[t.bidderCode].acat;$c(u,R)}else b.length&&$c(u,b);if(function(e,t){(t=t.filter((function(e){return"string"==typeof e||(Object(A.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,r){if(e.length>3)return r.indexOf(e)===t;Object(A.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Object(A.logWarn)("PubMatic: bcat: Selected: ",t),e.bcat=t)}(u,f),null!=t&&t.timeout)u.tmax=t.timeout;else u.tmax=null==(O=window)||null==(j=O.PWT)||null==(_=j.versionDetails)?void 0:_.timeout;return u.ext.epoch=(new Date).getTime(),"object"==typeof N.b.getConfig("app")&&(u.app=N.b.getConfig("app"),u.app.publisher=u.site.publisher,u.app.ext=u.site.ext||void 0,"object"!=typeof u.app.content&&(u.app.content=u.site.content||void 0),delete u.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(u),bidderRequest:t}}},interpretResponse:function(e,t){var r=[],n="USD",i=JSON.parse(t.data),a=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&Object(A.isArray)(e.body.seatbid)&&(n=e.body.cur||n,e.body.seatbid.forEach((function(e){e.bid&&Object(A.isArray)(e.bid)&&e.bid.forEach((function(o){var s={requestId:o.impid,cpm:parseFloat((o.price||0).toFixed(2)),width:o.w,height:o.h,creativeId:o.crid||o.id,dealId:o.dealid,currency:n,netRevenue:!0,ttl:300,referrer:a,ad:o.adm,pm_seat:e.seat||null,pm_dspid:o.ext&&o.ext.dspid?o.ext.dspid:null,partnerImpId:o.id||""};i.imp&&i.imp.length>0&&i.imp.forEach((function(e){if(o.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=Dc[e.ext.bidtype];else{Object(A.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var r=e.adm,n="",i=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)t.mediaType=X.b;else if(i.test(r))t.mediaType=X.d;else try{(n=JSON.parse(r.replace(/\\/g,"")))&&n.native&&(t.mediaType=X.c)}catch(e){Object(A.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+r)}}}(o,s),s.mediaType){case X.b:break;case X.d:s.width=o.hasOwnProperty("w")?o.w:e.video.w,s.height=o.hasOwnProperty("h")?o.h:e.video.h,s.vastXml=o.adm,function(e,t){var r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var a=0;a<t.bidderRequest.bids.length;a++)t.bidderRequest.bids[a].bidId===e.requestId&&(r=t.bidderRequest.bids[a].params,n=t.bidderRequest.bids[a].mediaTypes[X.d].context,i=t.bidderRequest.bids[a].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=kc.newRenderer(e.rendererCode,i))}}(s,t),function(e,t,r){var n,i,a;if(null!=t&&null!=(n=t.ext)&&n.prebiddealpriority){var o=Object(A.getBidRequest)(e.requestId,[r.bidderRequest]),s=Object(C.a)(o,"mediaTypes.video");if((null==s?void 0:s.context)==X.a){var d=(null==t||null==(i=t.ext)||null==(a=i.video)?void 0:a.duration)||(null==s?void 0:s.maxduration);e.video={context:X.a,durationSeconds:d,dealTier:t.ext.prebiddealpriority}}}}(s,o,t);break;case X.c:!function(e,t){if(e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void Object(A.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:Object(S.default)({},r.native)},t.mediaType=X.c,t.width||(t.width=0),t.height||(t.height=0)}}(o,s)}})),o.ext&&o.ext.deal_channel&&(s.dealChannel=Rc[o.ext.deal_channel]||null),function(e,t,r){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);var n=r||t.ext&&t.ext.advid;n&&(e.meta.advertiserId=n,e.meta.agencyId=n,e.meta.buyerId=n),t.adomain&&Zc(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&Zc(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}(s,o,e.seat),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),o.ext&&o.ext.marketplace&&(s.bidderCode=o.ext.marketplace),r.push(s)}))})))}catch(e){Object(A.logError)(e)}return r},getUserSyncs:function(e,t,r,n){var i=""+Bc;return r&&(i+="&gdpr="+(r.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(i+="&us_privacy="+encodeURIComponent(n)),!0===N.b.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t,r,n){return Object(A.convertTypes)({publisherId:"string",adSlot:"string"},e)}};Object(cr.e)(eu),Object(w.b)("pubmaticBidAdapter");var tu=eu.code;function ru(e,t,r,n){var i={mimes:n.mimes,minduration:n.minduration,maxduration:n.maxduration,protocols:n.protocols,startdelay:n.startdelay,placement:n.placement,linearity:n.linearity,playbackmethod:n.playbackmethod,api:n.api},a=n.skip;void 0!==a&&(i.skippable=!!a);var o={publisherId:""+t.pubid,adSlot:""+t.id,content:r};t.optionalParams&&Object(S.default)(o,t.optionalParams);var s=e.params.jwpseg;Array.isArray(s)&&s.length&&(o.dctr="jwpseg="+s.join(","));var d=e.settings,c=d.floorPriceCents,u=d.floorPriceCurrency;return void 0!==c&&(o.kadfloor=""+c/100),u&&(o.currency=u),o.video=i,{bidder:tu,params:o}}function nu(e){return void 0===e&&(e={}),void 0!==e.id&&void 0!==e.pubid}bt.bidderSettings[tu]={sendStandardTargeting:!1,adserverTargeting:[{key:"vpb_pubmatic_bid",val:function(e){return Ma(bt.getConfig("priceGranularity"),e)}},{key:"vpb_pubmatic_key",val:function(e){return e.videoCacheKey}}],allowAlternateBidderCodes:!0,allowedAlternateBidderCodes:["*"]};var iu={};N.b.getConfig("rubicon",(function(e){Object(A.mergeDeep)(iu,e.rubicon)}));var au={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160"};Object(A._each)(au,(function(e,t){return au[e]=t}));var ou=Tr({request:function(e,t,r,n){var i,a,o=n.bidRequests,s=e(t,r,n);s.cur=["USD"],s.test=N.b.getConfig("debug")?1:0,Object(x.a)(s,"ext.prebid.cache",{vastxml:{returnCreative:!0===iu.returnVast}}),Object(x.a)(s,"ext.prebid.bidders",{rubicon:{integration:iu.int_type||"pbjs"}}),Object(x.a)(s,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(N.b));var d=Object(w.a)().installedModules;return!d||d.length&&-1===d.indexOf("rubiconAnalyticsAdapter")||Object(x.a)(s,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t){var r,n,i={},a=new Set;t.forEach((function(t){var r,n,o,s,d,c={user:{ext:{data:Object(S.default)({},t.params.visitor)}},site:{ext:{data:Object(S.default)({},t.params.inventory)}}},u=e.imp.find((function(e){var t,r,n,i,a;return null==(t=e.ext)||null==(r=t.prebid)||null==(n=r.bidder)||null==(i=n.rubicon)||null==(a=i.video)?void 0:a.language}));u&&(c.site.content={language:null==(r=u.ext)||null==(n=r.prebid)||null==(o=n.bidder)||null==(s=o.rubicon)||null==(d=s.video)?void 0:d.language});t.params.keywords&&(Array.isArray(t.params.keywords)?t.params.keywords:t.params.keywords.split(",")).forEach((function(e){return a.add(e)}));i=Object(A.mergeDeep)(i,t.ortb2||{},c);var l=N.b.getConfig("user.id");i.user.id=i.user.id||l})),Object(A.mergeDeep)(e,i),a&&a.size&&Object(x.a)(e,"site.keywords",Array.from(a.values()).join(","));null==e||(null==(r=e.ext)||(null==(n=r.prebid)||delete n.storedrequest))}(s,o),null==s||(null==(i=s.ext)||(null==(a=i.prebid)||delete a.storedrequest)),!0===iu.disableFloors&&delete s.ext.prebid.floors,o.filter((function(e){return"object"==typeof e.floorData})).length>0&&(s.ext.prebid.floors={enabled:!1}),s},imp:function(e,t,r){var n,i,a=pu(t);if(!a.includes(X.b)||1!=a.length){var o=e(t,r);return o.id=t.adUnitCode,delete o.banner,N.b.getConfig("s2sConfig.defaultTtl")&&(o.exp=N.b.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&(o.video.pos=1),"btf"===t.params.position&&(o.video.pos=3),null==(n=o.ext)||(null==(i=n.prebid)||delete i.storedrequest),function(e,t){"USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur);if(!t.bidfloor){var r=parseFloat(Object(C.a)(e,"params.floor"));isNaN(r)||(t.bidfloor=r,t.bidfloorcur="USD")}}(t,o),o}},bidResponse:function(e,t,r){var n,i=e(t,r);i.meta.mediaType=Object(C.a)(t,"ext.prebid.type");var a=r.bidRequest,o="outstream"===(null==(n=a.mediaTypes.video)?void 0:n.context)?uu(a,X.d):[void 0,void 0],s=o[0],d=o[1];return i.width=t.w||s||i.playerWidth,i.height=t.h||d||i.playerHeight,i.mediaType===X.d&&"outstream"===a.mediaTypes.video.context&&(i.renderer=function(e){var t=U.a.install({id:e.adId,url:iu.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:iu.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(cu)}catch(e){Object(A.logWarn)("Prebid Error calling setRender on renderer",e)}return t}(i)),Object(C.a)(t,"ext.bidder.rp.advid")&&Object(x.a)(i,"meta.advertiserId",t.ext.bidder.rp.advid),i},context:{netRevenue:!1!==iu.netRevenue,ttl:300},processors:kr}),su={code:"rubicon",gvlid:52,supportedMediaTypes:[X.b,X.d,X.c],isBidRequestValid:function(e){var t=!0;if("object"!=typeof e.params)return!1;for(var r=0,n=["accountId","siteId","zoneId"];r<n.length;r++)if(e.params[n[r]]=parseInt(e.params[n[r]]),isNaN(e.params[n[r]]))return Object(A.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i=pu(e,!0);if(!i.length)return!1;i.includes(X.d)&&(t=function(e){var t=!0,r=Object.prototype.toString.call([]),n=Object.prototype.toString.call(0),i={mimes:r,protocols:r,linearity:n,api:r};return Object.keys(i).forEach((function(r){Object.prototype.toString.call(Object(C.a)(e,"mediaTypes.video."+r))!==i[r]&&(t=!1,Object(A.logError)("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+i[r]))})),t}(e));var a=[X.b,X.c].filter((function(e){return i.includes(e)})).length>0;return a?t&&a:t},buildRequests:function(e,t){var r,n=[],i=[];if((r=e.filter((function(e){var t=pu(e)||[],r=t.length,n=e.params||{},i=n.bidonmultiformat,a=n.video;return 1===r&&(t.includes(X.d)||t.includes(X.c))||2===r&&!t.includes(X.b)||a&&t.includes(X.d)||i&&(t.includes(X.d)||t.includes(X.c))})))&&r.length){var a=ou.toORTB({bidRequests:r,bidderRequest:t});i.push({method:"POST",url:"https://"+(iu.videoHost||"prebid-server")+".rubiconproject.com/openrtb2/auction",data:a,bidRequest:r})}var o=e.filter((function(e){var t=pu(e)||[],r=e.params||{},n=r.bidonmultiformat,i=r.video;return t.includes(X.b)&&(1===t.length||n||!n&&!i||!n&&i&&!t.includes(X.d))}));if(!0!==N.b.getConfig("rubicon.singleRequest"))n=i.concat(o.map((function(e){var r=su.createSlotParams(e,t);return{method:"GET",url:"https://"+(iu.bannerHost||"fastlane")+".rubiconproject.com/a/api/fastlane.json",data:su.getOrderedParams(r).reduce((function(e,t){var n=r[t];return Object(A.isStr)(n)&&""!==n||Object(A.isNumber)(n)?""+e+bu(t,n)+"&":e}),"")+"slots=1&rand="+Math.random(),bidRequest:e}})));else{var s=o.reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});n=i.concat(Object.keys(s).reduce((function(e,r){var n,i;return(n=s[r],i=10,n.map((function(e,t){return t%i==0?n.slice(t,t+i):null})).filter((function(e){return e}))).forEach((function(r){var n=su.combineSlotUrlParams(r.map((function(e){return su.createSlotParams(e,t)})));e.push({method:"GET",url:"https://"+(iu.bannerHost||"fastlane")+".rubiconproject.com/a/api/fastlane.json",data:su.getOrderedParams(n).reduce((function(e,t){var r=n[t];return Object(A.isStr)(r)&&""!==r||Object(A.isNumber)(r)?""+e+bu(t,r)+"&":e}),"")+"slots="+r.length+"&rand="+Math.random(),bidRequest:r})})),e}),[]))}return n},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,r,n){return Object.keys(r).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(n,1,r[i])})),t}),{}),r=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var n=t[e].join(";"),i=n.match(r);t[e]=i?i[1]:n})),t},createSlotParams:function(e,t){var r;e.startTime=(new Date).getTime();var n=e.params,i=uu(e,"banner"),a=n.latLong||[],o=a[0],s=a[1],d={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:(n.floor=parseFloat(n.floor))>=.01?n.floor:void 0,rp_secure:"1",tk_flint:(iu.int_type||"pbjs_lite")+"_v7.54.1","x_source.tid":e.transactionId,"x_imp.ext.tid":e.transactionId,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:du(e,t)};if("function"==typeof e.getFloor&&!iu.disableFloors){var c;try{c=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){Object(A.logError)("Rubicon: getFloor threw an error: ",e)}d.rp_hard_floor="object"!=typeof c||"USD"!==c.currency||isNaN(parseInt(c.floor))?void 0:c.floor}var u={1:"atf",3:"btf"}[Object(C.a)(e,"mediaTypes.banner.pos")]||"";d.p_pos="atf"===n.position||"btf"===n.position?n.position:u;var l,p,f=N.b.getConfig("user.id");(f&&(d.ppuid=f),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(d.tpid_tdid=e.uids[0].id,d["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(d["tpid_liveintent.com"]=e.uids[0].id,d["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(d["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?d.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?d["eid_id5-sync.com"]=e.uids[0].id+"^"+e.uids[0].atype+"^"+(e.uids[0].ext&&e.uids[0].ext.linkType||""):d["eid_"+e.source]=e.uids[0].id+"^"+(e.uids[0].atype||""),!d.ppuid){var t=Object(B.b)(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(d.ppuid=t.id)}}catch(t){Object(A.logWarn)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(d.gdpr=Number(t.gdprConsent.gdprApplies)),d.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(d.us_privacy=encodeURIComponent(t.uspConsent)),null!=(r=t.gppConsent)&&r.gppString)&&(d.gpp=t.gppConsent.gppString,d.gpp_sid=null==(l=t.gppConsent)||null==(p=l.applicableSections)?void 0:p.toString());return d.rp_maxbids=t.bidLimit||1,function(e,t,r){var n={user:{ext:{data:Object(S.default)({},e.params.visitor)}},site:{ext:{data:Object(S.default)({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=Object(A.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var i=Object(A.mergeDeep)({},e.ortb2||{},n),a=Object(C.a)(e.ortb2Imp,"ext")||{},o=Object(C.a)(e.ortb2Imp,"ext.data")||{},s=Object(C.a)(e,"ortb2Imp.ext.gpid"),d={user:[4],site:[1,2,5,6]},c={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},u=function(e,t,n,i){void 0===i&&(i=!0);var a=function(e,t,r){return"data"===t&&Array.isArray(e)?e.filter((function(e){return e.segment&&Object(C.a)(e,"ext.segtax")&&d[r]&&-1!==d[r].indexOf(Object(C.a)(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString():("object"!=typeof e||Array.isArray(e))&&void 0!==e?Array.isArray(e)?e.filter((function(e){if("object"!=typeof e&&void 0!==e)return e.toString();Object(A.logWarn)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString():void 0}(e,n,t),o=c[n]&&i?""+c[n]:"data"===n?c[t]+"iab":""+c[t]+n;r[o]=r[o]?r[o].concat(",",a):a};t===X.b?(["site","user"].forEach((function(e){Object.keys(i[e]).forEach((function(t){"site"===e&&"content"===t&&i[e][t].data?u(i[e][t].data,e,"data"):"ext"!==t?u(i[e][t],e,t):i[e][t].data&&Object.keys(i[e].ext.data).forEach((function(t){u(i[e].ext.data[t],e,t,!1)}))}))})),Object.keys(o).forEach((function(e){"adserver"!==e?u(o[e],"site",e):"gam"===o[e].name&&u(o[e].adslot,name,e)})),s&&(r.p_gpid=s),r["tg_i.pbadslot"]&&delete r["tg_i.dfp_ad_unit_code"]):(Object.keys(a).length&&Object(A.mergeDeep)(r.imp[0].ext,a),s&&(r.imp[0].ext.gpid=s),Object(A.mergeDeep)(r,i))}(e,X.b,d),!0===N.b.getConfig("coppa")&&(d.coppa=1),e.schain&&fu(e.schain)&&(d.rp_schain=su.serializeSupplyChain(e.schain)),d},serializeSupplyChain:function(e){if(!fu(e))return"";var t=e.ver,r=e.complete,n=e.nodes;return t+","+r+"!"+su.serializeSupplyChainNodes(n)},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){e=e.body;var r=t.data;if(!e||"object"!=typeof e)return[];if(e.seatbid){var n=Object(C.a)(e,"ext.errors.rubicon");return Array.isArray(n)&&n.length>0&&Object(A.logWarn)("Rubicon: Error in video response"),ou.fromORTB({request:r,response:e}).bids}var i,a=e.ads,o=0,s=t.bidRequest;return"object"==typeof s&&!Array.isArray(s)&&pu(s).includes(X.d)&&"object"==typeof a&&(a=a[s.adUnitCode]),!Array.isArray(a)||a.length<1?[]:a.reduce((function(t,r,n){if(r.impression_id&&i===r.impression_id?o++:i=r.impression_id,"ok"!==r.status)return t;var a,d=Array.isArray(s)?s[n-o]:s;if(d&&"object"==typeof d){var c={requestId:d.bidId,currency:"USD",creativeId:r.creative_id||(r.network||"")+"-"+(r.advertiser||""),cpm:r.cpm||0,dealId:r.deal,ttl:300,netRevenue:!1!==iu.netRevenue,rubicon:{advertiserId:r.advertiser,networkId:r.network},meta:{advertiserId:r.advertiser,networkId:r.network,mediaType:X.b}};if(r.creative_type&&(c.mediaType=r.creative_type),r.adomain&&(c.meta.advertiserDomains=Array.isArray(r.adomain)?r.adomain:[r.adomain]),r.creative_type===X.d)c.width=d.params.video.playerWidth,c.height=d.params.video.playerHeight,c.vastUrl=r.creative_depot_url,c.impression_id=r.impression_id,c.videoCacheKey=r.impression_id;else{c.ad=(a=r.script,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='"+r.impression_id+"'>\n<script type='text/javascript'>"+a+"<\/script>\n</div>\n</body>\n</html>");var u=au[r.size_id].split("x").map((function(e){return Number(e)}));c.width=u[0],c.height=u[1]}c.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:d.adUnitCode}),t.push(c)}else Object(A.logError)("Rubicon: bidRequest undefined at index position:"+n,s,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,r,n,i){if(!gu&&e.iframeEnabled){var a,o={};if(r&&("boolean"==typeof r.gdprApplies&&(o.gdpr=Number(r.gdprApplies)),"string"==typeof r.consentString&&(o.gdpr_consent=r.consentString)),n&&(o.us_privacy=encodeURIComponent(n)),null!=i&&i.gppString)o.gpp=i.gppString,o.gpp_sid=null==(a=i.applicableSections)?void 0:a.toString();return o=Object.keys(o).length?"?"+Object(A.formatQS)(o):"",gu=!0,{type:"iframe",url:"https://"+(iu.syncHost||"eus")+".rubiconproject.com/usync.html"+o}}},transformBidParams:function(e,t){return Object(A.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function du(e,t){var r;return r=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?r.replace(/^http:/i,"https:"):r}function cu(e){var t,r=document.getElementById(e.adUnitCode);(t=r.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),r=t&&t.nextSibling;r&&"iframe"===r.localName&&r.style.setProperty("display","none")}(r);var n=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:r,align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})}))}function uu(e,t){var r=e.params;if(t===X.d){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(Object(C.a)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var i=[];return Array.isArray(r.sizes)?i=r.sizes:void 0!==Object(C.a)(e,"mediaTypes.banner.sizes")?i=lu(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=lu(e.sizes):Object(A.logWarn)("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return e.sort((function(e,r){var n=t.indexOf(e),i=t.indexOf(r);return n>-1||i>-1?-1===n?1:-1===i?-1:n-i:e-r}))}(i)}function lu(e){return Object(A.parseSizesInput)(e).reduce((function(e,t){var r=parseInt(au[t],10);return r&&e.push(r),e}),[])}function pu(e,t){void 0===t&&(t=!1);var r,n,i,a,o,s=[];if(r=e,n=void 0!==Object(C.a)(r,"mediaTypes."+X.d),i=void 0!==Object(C.a)(r,"mediaTypes."+X.b),a=void 0!==Object(C.a)(r,"params.bidonmultiformat"),o="object"!=typeof Object(C.a)(r,"params.video"),n&&a||(i&&o&&(n=!1),n&&o&&Object(x.a)(r,"params.video",{}),n)){if(-1===["outstream","instream"].indexOf(Object(C.a)(e,"mediaTypes."+X.d+".context")))return t&&Object(A.logError)("Rubicon: mediaTypes.video.context must be outstream or instream"),s;if(uu(e,X.d).length<2)return t&&Object(A.logError)("Rubicon: could not determine the playerSize of the video"),s;t&&Object(A.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),s.push(X.d)}if(void 0!==Object(C.a)(e,"mediaTypes."+X.c)&&s.push(X.c),void 0!==Object(C.a)(e,"mediaTypes."+X.b)){if(0===uu(e,X.b).length)return t&&Object(A.logError)("Rubicon: could not determine the sizes for banner request"),s;t&&Object(A.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),s.push(X.b)}return s}function fu(e){var t=!1,r=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?r.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||Object(A.logError)("Rubicon: required schain params missing"),t):t}function bu(e,t){return"rp_schain"===e?"rp_schain="+t:e+"="+encodeURIComponent(t)}var gu=!1;Object(cr.e)(su),Object(w.b)("rubiconBidAdapter");var mu=su.code;function vu(e,t){var r={accountId:""+t.pubid,siteId:""+t.siteId,zoneId:""+t.zoneId},n={},i=e.player,a=i.getAudioTracks();if(a&&a.length){var o=a[i.getCurrentAudioTrack()];n.language=o.language}var s=e.settings.floorPriceCents;return void 0!==s&&(r.floor=s/100),r.video=n,{bidder:mu,params:r}}function hu(e){return!!e&&void 0!==e.pubid&&void 0!==e.siteId&&void 0!==e.zoneId}var yu="smartadserver";function Ou(e,t){var r={networkId:parseInt(t.networkId)},n=parseInt(t.siteId);n&&(r.siteId=n);var i=parseInt(t.pageId);i&&(r.pageId=i);var a=parseInt(t.formatId);a&&(r.formatId=a);var o=e.settings.floorPriceCents;return void 0!==o&&(r.bidfloor=o/100),{bidder:yu,params:r}}function ju(e){if(!e)return!1;var t=void 0!==e.siteId&&void 0!==e.pageId&&void 0!==e.formatId,r=void 0===e.siteId&&void 0===e.pageId&&void 0===e.formatId;return void 0!==e.networkId&&(t||r)}var _u="sonobi";function Iu(e,t){var r={TagID:""+t.id},n=e.settings.floorPriceCents;return void 0!==n&&(r.floor=n/100),{bidder:_u,params:r}}function Eu(e){return!!e&&void 0!==e.id}var Tu="sovrn";function Su(e,t){var r={tagid:""+t.tagid},n=e.settings.floorPriceCents;return void 0!==n&&(r.bidfloor=n/100),{bidder:Tu,params:r}}function wu(e){return!!e&&void 0!==e.tagid}var Au={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},Cu={code:"spotx",gvlid:165,supportedMediaTypes:[X.d],isBidRequestValid:function(e){if(e&&"object"!=typeof e.params)return Object(A.logError)("spotx: params is not defined or is incorrect in the bidder settings."),!1;if(!Object(C.a)(e,"mediaTypes.video"))return Object(A.logError)("spotx: mediaTypes.video is not present in the bidder settings."),!1;var t=Object(C.a)(e,"mediaTypes.video.playerSize");if(!t||!Object(A.isArray)(t))return Object(A.logError)("spotx: mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!Object(A.getBidIdParameter)("channel_id",e.params))return Object(A.logError)("spotx: channel_id is not present in bidder params"),!1;if(("outstream"==Object(C.a)(e,"mediaTypes.video.context")||"outstream"==Object(C.a)(e,"params.ad_unit"))&&!Object(A.getBidIdParameter)("outstream_function",e.params)){if(!Object(A.getBidIdParameter)("outstream_options",e.params))return Object(A.logError)("spotx: please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!Object(A.getBidIdParameter)("slot",e.params.outstream_options))return Object(A.logError)("spotx: please define parameter slot in outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,t){var r=t.refererInfo.page||t.refererInfo.topmostLocation,n=!!r.match(/^https:/);return e.map((function(e){var i;i=Object(A.getBidIdParameter)("page",e.params)?Object(A.getBidIdParameter)("page",e.params):r;var a=Object(A.getBidIdParameter)("channel_id",e.params),o=null,s=Object(C.a)(e,"mediaTypes.video.playerSize"),d=s[0][0],c=s[0][1],u=n||(Object(A.getBidIdParameter)("secure",e.params)?1:0),l={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=Object(A.getBidIdParameter)("hide_skin",e.params)&&(l.hide_skin=+!!Object(A.getBidIdParameter)("hide_skin",e.params)),""!=Object(A.getBidIdParameter)("ad_volume",e.params)&&(l.ad_volume=Object(A.getBidIdParameter)("ad_volume",e.params)),""!=Object(A.getBidIdParameter)("ad_unit",e.params)&&(l.ad_unit=Object(A.getBidIdParameter)("ad_unit",e.params)),""!=Object(A.getBidIdParameter)("outstream_options",e.params)&&(l.outstream_options=Object(A.getBidIdParameter)("outstream_options",e.params)),""!=Object(A.getBidIdParameter)("outstream_function",e.params)&&(l.outstream_function=Object(A.getBidIdParameter)("outstream_function",e.params)),""!=Object(A.getBidIdParameter)("custom",e.params)&&(l.custom=Object(A.getBidIdParameter)("custom",e.params)),""!=Object(A.getBidIdParameter)("pre_market_bids",e.params)&&Object(A.isArray)(Object(A.getBidIdParameter)("pre_market_bids",e.params))){var p=Object(A.getBidIdParameter)("pre_market_bids",e.params);for(var f in l.pre_market_bids=[],p){var b=p[f],g="";b.vast_url?g='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+b.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":b.vast_string&&(g=b.vast_string),l.pre_market_bids.push({id:b.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:b.deal_id,price:b.price,adm:g}]}],cur:b.currency,ext:{event_log:[{}]}})}}var m=Object(A.getBidIdParameter)("mimes",e.params)||Object(C.a)(e,"mediaTypes.video.mimes")||["application/javascript","video/mp4","video/webm"],v={id:e.bidId,secure:u,video:{w:d,h:c,ext:l,mimes:m}};if(Object(A.isFn)(e.getFloor)){var h=e.getFloor({currency:"USD",mediaType:"video",size:"*"});"USD"===h.currency&&(v.bidfloor=h.floor)}else""!=Object(A.getBidIdParameter)("price_floor",e.params)&&(v.bidfloor=Object(A.getBidIdParameter)("price_floor",e.params));var y=Object(A.getBidIdParameter)("start_delay",e.params)||Object(C.a)(e,"mediaTypes.video.startdelay");y&&(v.video.startdelay=0+Boolean(y));var O=Object(A.getBidIdParameter)("min_duration",e.params)||Object(C.a)(e,"mediaTypes.video.minduration");O&&(v.video.minduration=O);var j=Object(A.getBidIdParameter)("max_duration",e.params)||Object(C.a)(e,"mediaTypes.video.maxduration");j&&(v.video.maxduration=j);var _=Object(A.getBidIdParameter)("placement_type",e.params)||Object(C.a)(e,"mediaTypes.video.placement");_&&(v.video.ext.placement=_);var I=Object(A.getBidIdParameter)("position",e.params)||Object(C.a)(e,"mediaTypes.video.pos");I&&(v.video.ext.pos=I),e.crumbs&&e.crumbs.pubcid&&(o=e.crumbs.pubcid);var E=navigator.language?"language":"userLanguage",T={id:a,imp:v,site:{id:"",page:i,content:"content"},device:{h:screen.height,w:screen.width,dnt:Object(A.getDNT)()?1:0,language:navigator[E].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent},ext:{wrap_response:1}};N.b.getConfig("cache")&&N.b.getConfig("cache.url")&&!0===N.b.getConfig("cache.ignoreBidderCacheKey")&&(T.ext.wrap_response=0),Object(A.getBidIdParameter)("number_of_ads",e.params)&&(T.ext.number_of_ads=Object(A.getBidIdParameter)("number_of_ads",e.params));var S={};1==Object(A.getBidIdParameter)("spotx_all_google_consent",e.params)&&(S.consented_providers_settings=Au),t&&t.gdprConsent&&(S.consent=t.gdprConsent.consentString,void 0!==t.gdprConsent.gdprApplies&&Object(x.a)(T,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Object(x.a)(T,"regs.ext.us_privacy",t.uspConsent),e.userIdAsEids&&(S.eids=e.userIdAsEids,S.eids.forEach((function(e){"uidapi.com"===e.source&&e.uids.forEach((function(e){e.ext=e.ext||{},e.ext.rtiPartner="UID2"}))}))),o&&(S.fpc=o),e&&e.schain&&(T.source={ext:{schain:e.schain}}),Object(A.isEmpty)(S)||(T.user={ext:S});return{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+a+"?src_sys=prebid",data:T,bidRequest:t}}))},interpretResponse:function(e,t){var r=[],n=e.body;return n&&Object(A.isArray)(n.seatbid)&&Object(A._each)(n.seatbid,(function(e){Object(A._each)(e.bid,(function(e){var i={};for(var a in t.bidRequest.bids)e.impid==t.bidRequest.bids[a].bidId&&(i=t.bidRequest.bids[a]);Object(A._each)(i.params.pre_market_bids,(function(t){t.deal_id==e.id&&(e.price=t.price,n.cur=t.currency)}));var o={requestId:i.bidId,currency:n.cur||"USD",cpm:e.price,creativeId:e.crid||"",dealId:e.dealid||"",ttl:360,netRevenue:!0,channel_id:n.id,mediaType:X.d,width:e.w,height:e.h};N.b.getConfig("cache")&&N.b.getConfig("cache.url")&&!0===N.b.getConfig("cache.ignoreBidderCacheKey")?o.vastXml=e.adm:(o.cache_key=e.ext.cache_key,o.vastUrl="https://search.spotxchange.com/ad/vast.html?key="+e.ext.cache_key,o.videoCacheKey=e.ext.cache_key),o.meta=o.meta||{},e&&e.adomain&&e.adomain.length>0&&(o.meta.advertiserDomains=e.adomain);var s=Object(C.a)(i,"mediaTypes.video.context"),d=Object(C.a)(i,"params.ad_unit");if("outstream"==s||"outstream"==d){var c=Object(C.a)(i,"mediaTypes.video.playerSize"),u=U.a.install({id:0,renderNow:!0,url:"/",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:c[0][0],player_height:c[0][1],content_page_url:Object(C.a)(t,"data.site.page"),ad_mute:+!!Object(C.a)(i,"params.ad_mute"),hide_skin:+!!Object(C.a)(i,"params.hide_skin"),outstream_options:Object(C.a)(i,"params.outstream_options"),outstream_function:Object(C.a)(i,"params.outstream_function")}});try{u.setRender(xu),u.setEventHandlers({impression:function(){return Object(A.logMessage)("SpotX outstream video impression event")},loaded:function(){return Object(A.logMessage)("SpotX outstream video loaded event")},ended:function(){Object(A.logMessage)("SpotX outstream renderer video event")}})}catch(e){Object(A.logWarn)("Prebid Error calling setRender or setEventHandlers on renderer",e)}o.renderer=u}r.push(o)}))})),r}};function xu(e){if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function){var t=function(e){var t=window.document.createElement("script"),r=Pu(e);return t.type="text/javascript",t.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js",Object(A.setScriptAttributes)(t,r),t}(e);e.renderer.config.outstream_function(e,t)}else try{var r=Object(A.getBidIdParameter)("in_iframe",e.renderer.config.outstream_options),n="https://js.spotx.tv/easi/v1/"+e.channel_id+".js",i=Pu(e);if(r&&"IFRAME"==window.document.getElementById(r).nodeName){var a=window.document.getElementById(r),o=a.contentDocument;!o&&a.contentWindow&&(o=a.contentWindow.document),Object(de.a)(n,"spotx",void 0,o,i)}else Object(de.a)(n,"spotx",void 0,void 0,i)}catch(e){Object(A.logError)("[SPOTX][renderer] Error:"+e.message)}}function Pu(e){var t=Object(A.getBidIdParameter)("slot",e.renderer.config.outstream_options);Object(A.logMessage)("[SPOTX][renderer] Handle SpotX outstream renderer");var r={};r["data-spotx_channel_id"]=""+e.channel_id,r["data-spotx_vast_url"]=""+e.vastUrl,r["data-spotx_content_page_url"]=e.renderer.config.content_page_url,r["data-spotx_ad_unit"]="incontent",Object(A.logMessage)("[SPOTX][renderer] Default behavior"),Object(A.getBidIdParameter)("ad_mute",e.renderer.config.outstream_options)&&(r["data-spotx_ad_mute"]="1"),r["data-spotx_collapse"]="0",r["data-spotx_autoplay"]="1",r["data-spotx_blocked_autoplay_override_mode"]="1",r["data-spotx_video_slot_can_autoplay"]="1",r["data-spotx_content_container_id"]=t;var n=Object(A.getBidIdParameter)("playersize_auto_adapt",e.renderer.config.outstream_options);if(n&&Object(A.isBoolean)(n)&&!0===n){var i=e.width&&Object(A.isNumber)(e.width)&&e.height&&Object(A.isNumber)(e.height)?e.width/e.height:4/3,a=window.document.getElementById(t).clientWidth,o=e.renderer.config.player_width,s=e.renderer.config.player_height,d=0,c=0;a<o&&(s=(o=a)/i),i<=1?(d=Math.round(s*i),c=s):(d=o,c=Math.round(o/i)),r["data-spotx_content_width"]=""+d,r["data-spotx_content_height"]=""+c}var u=Object(A.getBidIdParameter)("custom_override",e.renderer.config.outstream_options);if(u&&Object(A.isPlainObject)(u))for(var l in Object(A.logMessage)("[SPOTX][renderer] Custom behavior."),u)u.hasOwnProperty(l)&&("channel_id"===l||"vast_url"===l||"content_page_url"===l||"ad_unit"===l?Object(A.logWarn)("[SPOTX][renderer] Custom behavior: following option cannot be overridden: "+l):r["data-spotx_"+l]=u[l]);return r}Object(cr.e)(Cu),Object(w.b)("spotxBidAdapter");var Ru=Cu.code;function ku(e,t,r,n){var i={content:r,channel_id:t.id,ad_unit:n.context,ad_volume:e.player.getVolume(),hide_skin:!0,start_delay:n.startdelay,min_duration:n.minduration,max_duration:n.maxduration},a=n.mimes,o=t.optionalParams;if(o&&(Object(S.default)(i,o),o.no_vpaid_ads)){var s=a.indexOf("application/javascript");a.splice(s,1)}i.mimes=a;var d=e.settings.floorPriceCents;t.passFloorPrice&&void 0!==d&&(i.price_floor=d/100);var c=e.params.jwpseg;return Array.isArray(c)&&c.length&&(i.custom={jwpseg:c}),{bidder:Ru,params:i}}function Du(e){return void 0===e&&(e={}),void 0!==e.id}bt.bidderSettings[Ru]={sendStandardTargeting:!1,adserverTargeting:[{key:"spotx_bid",val:function(e){return Ma(bt.getConfig("priceGranularity"),e)}},{key:"spotx_ad_key",val:function(e){return e.videoCacheKey}}]};var Bu=["minduration","maxduration","startdelay","placement","linearity","mimes","protocols","api"],Uu=["1x1","1x2"],Nu={code:"synacormedia",supportedMediaTypes:[X.b,X.d],sizeMap:{},isVideoBid:function(e){return void 0!==e.mediaTypes&&e.mediaTypes.hasOwnProperty("video")},isBidRequestValid:function(e){var t=e&&e.params&&(e.params.hasOwnProperty("placementId")||e.params.hasOwnProperty("tagId"))&&e.params.hasOwnProperty("seatId"),r=e&&Object(A.getAdUnitSizes)(e).filter((function(e){return-1===Uu.indexOf(e.join("x"))})).length>0;return!(!t||!r)},buildRequests:function(e,t){var r=this;if(e&&e.length&&t){var n=t.refererInfo,i={id:t.auctionId,site:{domain:n.domain||location.hostname,page:n.page,ref:n.ref},device:{ua:navigator.userAgent},imp:[]},a=t.timeout;a&&(i.tmax=a);var o=e[0].schain;o&&(i.source={ext:{schain:o}});var s=null;if(e.forEach((function(e,t){if(s&&s!==e.params.seatId)Object(A.logWarn)("Synacormedia: there is an inconsistent seatId: "+e.params.seatId+" but only sending bid requests for "+s+", you should double check your configuration");else{s=e.params.seatId;var n=e.params.tagId||e.params.placementId,a=parseInt(e.params.pos||Object(C.a)(e.mediaTypes,"video.pos"),10);isNaN(a)&&(Object(A.logWarn)("Synacormedia: there is an invalid POS: "+e.params.pos),a=0);var o=r.isVideoBid(e)?"video":"banner",d=Object(A.getAdUnitSizes)(e).filter((function(e){return-1===Uu.indexOf(e.join("x"))})),c=[];"banner"===o?c=r.buildBannerImpressions(d,e,n,a,o):"video"===o&&(c=r.buildVideoImpressions(d,e,n,a,o)),c.length>0&&c.forEach((function(t){var r=Object(C.a)(e,"ortb2Imp.ext");r&&Object(x.a)(t,"ext",r),i.imp.push(t)}))}})),t.uspConsent&&Object(x.a)(i,"regs.ext.us_privacy",t.uspConsent),e[0]&&e[0].userIdAsEids&&Array.isArray(e[0].userIdAsEids)){var d=e[0].userIdAsEids;d.length&&Object(x.a)(i,"user.ext.eids",d)}return i.imp.length&&s?{method:"POST",url:"https://"+s+".technoratimedia.com/openrtb/bids/"+s+"?src=prebid_prebid_7.54.1",data:i,options:{contentType:"application/json",withCredentials:!0}}:void 0}},buildBannerImpressions:function(e,t,r,n,i){var a=[],o=[];if(e.forEach((function(e,t){e&&2===e.length&&a.push({w:e[0],h:e[1]})})),a.length>0){var s={id:""+i.substring(0,1)+t.bidId,banner:{format:a,pos:n},tagid:r},d=Mu(t,"banner","*");isNaN(d)&&Object(A.logWarn)("Synacormedia: there is an invalid bid floor: "+t.params.bidfloor),null===d||isNaN(d)||(s.bidfloor=d),o.push(s)}return o},buildVideoImpressions:function(e,t,r,n,i){var a=this,o=[];return e.forEach((function(e,s){if(e&&2==e.length){var d=e[0],c=e[1],u={id:""+i.substring(0,1)+t.bidId+"-"+d+"x"+c,tagid:r},l=Mu(t,"video",e);isNaN(l)&&Object(A.logWarn)("Synacormedia: there is an invalid bid floor: "+t.params.bidfloor),null===l||isNaN(l)||(u.bidfloor=l);var p={w:d,h:c,pos:n};t.mediaTypes.video&&(t.params.video||(t.params.video={}),a.setValidVideoParams(t.mediaTypes.video,t.params.video)),t.params.video&&a.setValidVideoParams(t.params.video,p),u[i]=p,o.push(u)}})),o},setValidVideoParams:function(e,t){Object.keys(e).filter((function(t){return Object(B.c)(Bu,t)&&null!==e[t]&&(!isNaN(parseInt(e[t],10))||!(e[t].length<1))})).forEach((function(r){return t[r]=Array.isArray(e[r])?e[r]:parseInt(e[r],10)}))},interpretResponse:function(e,t){var r=function(e,t){return t?t.replace(/\${AUCTION_PRICE}/g,e.price):t};if(e.body&&"object"==typeof e.body){var n=e.body,i=n.id,a=n.seatbid,o=[];return i&&a&&a.forEach((function(e){e.bid.forEach((function(n){var i=r(n,n.adm),a=r(n,n.nurl),s=n.impid.match(/^([vb])([\w\d]+)/),d=s[1],c=s[2],u=n.h,l=n.w,p="v"===d,f="b"===d;(!u||!l)&&t.data&&t.data.imp&&t.data.imp.length>0&&t.data.imp.forEach((function(e){if(n.impid===e.id)if(p)u=e.video.h,l=e.video.w;else if(f){var t=1,r=1;e.banner.format&&e.banner.format.length>0&&(t=e.banner.format[0].h,r=e.banner.format[0].w),u=t,l=r}else u=1,l=1}));var b=420;if(n.ext&&n.ext["imds.tv"]&&n.ext["imds.tv"].ttl){var g=parseInt(n.ext["imds.tv"].ttl,10);b=!isNaN(g)&&g>0?g:420}var m=b;if(n.exp){var v=parseInt(n.exp,10);m=!isNaN(v)&&v>0?Math.min(v,b):b}var h={requestId:c,cpm:parseFloat(n.price),width:parseInt(l,10),height:parseInt(u,10),creativeId:e.seat+"_"+n.crid,currency:"USD",netRevenue:!0,mediaType:p?X.d:X.b,ad:i,ttl:m};if(null==n.adomain&&null==n.adomain||(h.meta={advertiserDomains:n.adomain}),p){var y=a.match(/ID=([^&]*)&?/)[1];N.b.getConfig("cache.url")||(h.videoCacheKey=encodeURIComponent(y)),h.vastUrl=a}o.push(h)}))})),o}Object(A.logWarn)("Synacormedia: server returned empty/non-json response: "+JSON.stringify(e.body))},getUserSyncs:function(e,t){var r=[];return e.iframeEnabled?r.push({type:"iframe",url:"https://ad-cdn.technoratimedia.com/html/usersync.html?src=prebid_prebid_7.54.1"}):Object(A.logWarn)("Synacormedia: Please enable iframe based user sync."),r}};function Mu(e,t,r){if(!Object(A.isFn)(e.getFloor))return e.params.bidfloor?parseFloat(e.params.bidfloor):null;var n=e.getFloor({currency:"USD",mediaType:t,size:r});return Object(A.isPlainObject)(n)&&!isNaN(n.floor)&&"USD"===n.currency?n.floor:null}Object(cr.e)(Nu),Object(w.b)("synacormediaBidAdapter");var qu=Nu.code;function Wu(e,t,r,n){var i=e.params.jwpseg,a=Object(S.default)({},r);if(Array.isArray(i)&&i.length){var o=i.map((function(e){return{id:e}}));a.data=[{name:"jwpseg",segment:o}]}var s={seatId:""+t.pubid,placementId:""+t.id,video:{mimes:n.mimes,minduration:n.minduration,maxduration:n.maxduration,protocols:n.protocols,startdelay:n.startdelay,placement:n.placement,linearity:n.linearity,playbackmethod:n.playbackmethod,api:n.api},content:a},d=n.pos;void 0!==d&&(s.pos=d);var c=e.settings.floorPriceCents;return void 0!==c&&(s.bidfloor=c/100),{bidder:qu,params:s}}function zu(e){return!!e&&void 0!==e.pubid&&void 0!==e.id}var Lu=1,Fu=2;function Vu(e){var t;return{ttdprebid:{ver:"TTD-PREBID-2022.06.28",pbjs:"7.54.1",keywords:null!=(t=e.site)&&t.keywords?e.site.keywords.split(",").map((function(e){return e.trim()})):[]}}}function Gu(e){var t,r={};return e.gdprConsent&&"boolean"==typeof e.gdprConsent.gdprApplies&&x.a(r,"ext.gdpr",e.gdprConsent.gdprApplies?1:0),e.uspConsent&&x.a(r,"ext.us_privacy",e.uspConsent),!0===N.b.getConfig("coppa")&&(r.coppa=1),null!=(t=e.ortb2)&&t.regs&&A.mergeDeep(r,e.ortb2.regs),r}function Ku(e){var t={tid:e[0].auctionId};return e[0].schain&&x.a(t,"ext.schain",e[0].schain),t}function Hu(e){var t=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,r={ua:navigator.userAgent,dnt:A.getDNT()?1:0,language:t,connectiontype:Ju()};return A.mergeDeep(r,e.device),r}function Ju(){var e=navigator.connection||navigator.webkitConnection;if(!e)return 0;switch(e.type){case"ethernet":return 1;case"wifi":return 2;case"cellular":switch(e.effectiveType){case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 3}default:return 0}}function Yu(e,t){var r={};e.gdprConsent&&x.a(r,"ext.consent",e.gdprConsent.consentString),A.isStr(C.a(e,"bids.0.userId.tdid"))&&(r.buyeruid=e.bids[0].userId.tdid);var n=C.a(e,"bids.0.userIdAsEids");return n&&n.length&&x.a(r,"ext.eids",n),A.mergeDeep(r,t.user),r}function Xu(e,t){var r=A.mergeDeep({page:C.a(e,"refererInfo.page"),ref:C.a(e,"refererInfo.ref"),publisher:{id:C.a(e,"bids.0.params.publisherId")}},t.site),n=e.refererInfo.domain;return n&&x.a(r,"publisher.domain",n),r}function Qu(e){var t={id:e.bidId},r=C.a(e,"ortb2Imp.ext.gpid")||e.params.placementId;r&&(t.tagid=r);var n=C.a(e,"mediaTypes.video"),i={};C.a(e,"mediaTypes.banner")&&(i[X.b]=function(e){var t=function(e){return A.parseSizesInput(e).filter((function(e){return e})).map((function(e){return e.split("x")})).map((function(e){return{width:parseInt(e[0]),height:parseInt(e[1])}}))}(e.mediaTypes.banner.sizes).map((function(e){return{w:e.width,h:e.height}})),r=parseInt(C.a(e,"mediaTypes.banner.pos")),n=C.a(e,"params.banner.expdir"),i={};r&&(i.pos=r);n&&Array.isArray(n)&&(i.expdir=n);var a=Object(S.default)({w:t[0].w,h:t[0].h,format:t},i),o=C.a(e,"ortb2Imp.battr");o&&(a.battr=o);return a}(e)),n&&(i[X.d]=function(e){var t=C.a(e,"mediaTypes.video.minduration"),r=C.a(e,"mediaTypes.video.maxduration"),n=C.a(e,"mediaTypes.video.playerSize"),i=C.a(e,"mediaTypes.video.api"),a=C.a(e,"mediaTypes.video.mimes"),o=C.a(e,"mediaTypes.video.placement"),s=C.a(e,"mediaTypes.video.plcmt"),d=C.a(e,"mediaTypes.video.protocols"),c=C.a(e,"mediaTypes.video.playbackmethod"),u=C.a(e,"mediaTypes.video.pos"),l=C.a(e,"mediaTypes.video.startdelay"),p=C.a(e,"mediaTypes.video.skip"),f=C.a(e,"mediaTypes.video.skipmin"),b=C.a(e,"mediaTypes.video.skipafter"),g=C.a(e,"mediaTypes.video.minbitrate"),m=C.a(e,"mediaTypes.video.maxbitrate");t&&A.isInteger(t)||(t=0);var v={minduration:t,maxduration:r,api:i,mimes:a,placement:o,protocols:d};void 0!==n&&(A.isArray(n[0])?(v.w=parseInt(n[0][0]),v.h=parseInt(n[0][1])):A.isNumber(n[0])&&(v.w=parseInt(n[0]),v.h=parseInt(n[1]))),c&&(v.playbackmethod=c),s&&(v.plcmt=s),u&&(v.pos=u),l&&A.isInteger(l)&&(v.startdelay=l),!p||0!==p&&1!==p||(v.skip=p),f&&A.isInteger(f)&&(v.skipmin=f),b&&A.isInteger(b)&&(v.skipafter=b),g&&A.isInteger(g)&&(v.minbitrate=g),m&&A.isInteger(m)&&(v.maxbitrate=m);var h=C.a(e,"ortb2Imp.battr");return h&&(v.battr=h),v}(e)),Object(S.default)(t,i);var a=function(e){if(e.params.bidfloor)return e.params.bidfloor;if(!A.isFn(e.getFloor))return null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return A.isPlainObject(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);a&&(t.bidfloor=parseFloat(a),t.bidfloorcur="USD");var o=C.a(e,"ortb2Imp.secure");return t.secure=Object(A.isNumber)(o)?o:1,A.mergeDeep(t,e.ortb2Imp),t}var $u={code:"ttd",gvlid:21,aliases:["thetradedesk"],supportedMediaTypes:[X.b,X.d],isBidRequestValid:function(e){if(!e||!e.params)return A.logWarn("ttd: Missing bid parameters"),!1;if(!e.params.supplySourceId)return A.logWarn("ttd: Missing required parameter params.supplySourceId"),!1;if(!/^[\w+]+$/.test(e.params.supplySourceId))return A.logWarn("ttd: supplySourceId must only contain alphabetic characters"),!1;if(!e.params.publisherId)return A.logWarn("ttd: Missing required parameter params.publisherId"),!1;if(e.params.publisherId.length>32)return A.logWarn("ttd: params.publisherId must be 32 characters or less"),!1;if(e.params.bidfloor&&isNaN(parseFloat(e.params.bidfloor)))return!1;var t=C.a(e,"ortb2Imp.ext.gpid");if(!e.params.placementId&&!t)return A.logWarn("ttd: one of params.placementId or gpid (via the GPT module https://docs.prebid.org/dev-docs/modules/gpt-pre-auction.html) must be passed"),!1;var r=C.a(e,"mediaTypes.banner"),n=C.a(e,"mediaTypes.video");if(!r&&!n)return A.logWarn("ttd: one of mediaTypes.banner or mediaTypes.video must be passed"),!1;if(n){if(!n.maxduration||!A.isInteger(n.maxduration))return A.logWarn("ttd: mediaTypes.video.maxduration must be set to the maximum video ad duration in seconds"),!1;if(!n.api||0===n.api.length)return A.logWarn("ttd: mediaTypes.video.api should be an array of supported api frameworks. See the Open RTB v2.5 spec for valid values"),!1;if(!n.mimes||0===n.mimes.length)return A.logWarn("ttd: mediaTypes.video.mimes should be an array of supported mime types"),!1;if(!n.protocols)return A.logWarn("ttd: mediaTypes.video.protocols should be an array of supported protocols. See the Open RTB v2.5 spec for valid values"),!1}return!0},buildRequests:function(e,t){var r=t.ortb2||{},n={id:t.auctionId,imp:e.map((function(e){return Qu(e)})),site:Xu(t,r),device:Hu(r),user:Yu(t,r),at:1,cur:["USD"],regs:Gu(t),source:Ku(e),ext:Vu(r)};return r&&r.bcat&&(n.bcat=r.bcat),r&&r.badv&&(n.badv=r.badv),r&&r.app&&(n.app=r.app),r&&r.pmp&&(n.pmp=r.pmp),{method:"POST",url:"https://direct.adsrvr.org/bid/bidder/"+t.bids[0].params.supplySourceId,data:n,options:{withCredentials:!0}}},interpretResponse:function(e,t){var r=C.a(e,"body.seatbid"),n=C.a(e,"body.cur");if(!r||0===r.length)return[];var i=[],a=C.a(t,"data.imp");return r.forEach((function(e){e.bid.forEach((function(e){var t=a.find((function(t){return t.id===e.impid})),r=e.price||0,o={requestId:e.impid,cpm:r,creativeId:e.crid,dealId:e.dealid||null,currency:n||"USD",netRevenue:!0,ttl:e.ttl||360,meta:{}};e.adomain&&e.adomain.length>0&&(o.meta.advertiserDomains=e.adomain),e.ext.mediatype===Lu?Object(S.default)(o,{width:e.w,height:e.h,ad:A.replaceAuctionPrice(e.adm,r),mediaType:X.b}):e.ext.mediatype===Fu&&(Object(S.default)(o,{width:t.video.w,height:t.video.h,mediaType:X.d}),e.nurl?o.vastUrl=A.replaceAuctionPrice(e.nurl,r):o.vastXml=A.replaceAuctionPrice(e.adm,r)),i.push(o)}))})),i},getUserSyncs:function(e,t,r,n){void 0===r&&(r={}),void 0===n&&(n="");var i=[],a="&gdpr="+(r.gdprApplies?1:0)+"&gdpr_consent="+encodeURIComponent(r.consentString),o="https://match.adsrvr.org/track/usersync?us_privacy="+encodeURIComponent(n)+a;return e.pixelEnabled?i.push({type:"image",url:o+"&ust=image"}):e.iframeEnabled&&i.push({type:"iframe",url:o+"&ust=iframe"}),i}};Object(cr.e)($u),Object(w.b)("ttdBidAdapter");var Zu=$u.code;function el(e,t){var r={supplySourceId:""+t.supplySourceId,publisherId:""+t.publisherId},n=t.placementId;n&&(r.placementId=n);var i=e.settings.floorPriceCents;return void 0!==i&&(r.bidfloor=i/100),{bidder:Zu,params:r}}function tl(e){return!!(e&&e.supplySourceId&&e.publisherId)}var rl="unruly";function nl(e,t,r){var n={siteid:parseInt(t.pubid),content:r},i=e.params.jwpseg;return Array.isArray(i)&&i.length&&(n.jwpseg=i),{bidder:rl,mediaType:"video",params:n}}function il(e){return!!e&&void 0!==e.pubid}var al="videobyte";function ol(e,t){var r={pubId:""+t.pubId},n=t.placementId;n&&(r.placementId=""+n);var i=t.nid;i&&(r.nid=""+i);var a=e.settings.floorPriceCents;return void 0!==a&&(r.bidfloor=a/100),{bidder:al,params:r}}function sl(e){return!!e&&void 0!==e.pubId}var dl=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxdt.net","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","epsilon.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","tapad.com","uidapi.com","verizonmedia.com","yahoo.com","zeotap.com"];function cl(e){return{w:parseInt(e[0]),h:parseInt(e[1])}}function ul(e){return Object(A.isArray)(e)&&2===e.length&&!Object(A.isArray)(e[0])?[cl(e)]:e.map(cl)}function ll(e){return Object(A.isArray)(Object(C.a)(e,"userIdAsEids"))?e.userIdAsEids.filter((function(e){return-1!==dl.indexOf(e.source)})):[]}function pl(e){return Object(C.a)(e,"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0}function fl(e){var t;return Object(C.a)(e,"params.pubId")?t=!0:Object(C.a)(e,"params.dcn")&&Object(C.a)(e,"params.pos")&&(t=!1),t}function bl(){var e=N.b.getConfig("yahoossp.mode");return void 0===(e=e?e.toLowerCase():void 0)||e===X.b?X.b:e===X.d?X.d:"all"===e?"*":void 0}function gl(e){var t=bl(),r={currency:Object(C.a)(e,"params.bidOverride.cur")||"USD",mediaType:t,size:"*"};return!!Object(A.isFn)(e.getFloor)&&e.getFloor(r)}function ml(e,t,r,n){var i=Object(S.default)({},n);for(var a in r)switch(e){case"string":-1!==t.indexOf(a)&&Object(A.isStr)(r[a])&&(i[a]=r[a]);break;case"number":-1!==t.indexOf(a)&&Object(A.isNumber)(r[a])&&(i[a]=r[a]);break;case"array":-1!==t.indexOf(a)&&Object(A.isArray)(r[a])&&(i[a]=r[a]);break;case"object":-1!==t.indexOf(a)&&Object(A.isPlainObject)(r[a])&&(i[a]=r[a]);break;case"objectAllKeys":Object(A.isPlainObject)(r)&&(i[a]=r[a])}return i}function vl(e){var t=N.b.getConfig("yahoossp.ttl");return hl(t||Object(C.a)(e,"params.ttl"))}function hl(e){return Object(A.isNumber)(e)&&e>0&&e<3600?e:300}function yl(e){return Object(A.isStr)(e)&&e.length>0}function Ol(e,t){if(e){var r,n,i={id:Object(A.generateUUID)(),cur:[gl(e).currency||Object(C.a)(t,"params.bidOverride.cur")||"USD"],imp:[],site:{page:Object(C.a)(e,"refererInfo.page")},device:{dnt:0,ua:navigator.userAgent,ip:Object(C.a)(t,"params.bidOverride.device.ip")||Object(C.a)(t,"params.ext.ip")||void 0,w:window.screen.width,h:window.screen.height},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0,gpp:e.gppConsent?e.gppConsent.gppString:"",gpp_sid:e.gppConsent?e.gppConsent.applicableSections:[]}},source:{ext:{hb:1,adapterver:"1.0.2",prebidver:"7.54.1",integration:{name:"prebid.js",ver:"7.54.1"}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:ll(t)}}};!0===fl(t)?(i.site.publisher={id:t.params.pubId},(Object(C.a)(t,"params.bidOverride.site.id")||Object(C.a)(t,"params.siteId"))&&(i.site.id=Object(C.a)(t,"params.bidOverride.site.id")||t.params.siteId)):i.site.id=t.params.dcn,null!=(r=e.ortb2)&&null!=(n=r.regs)&&n.gpp&&(i.regs.ext.gpp=e.ortb2.regs.gpp,i.regs.ext.gpp_sid=e.ortb2.regs.gpp_sid),e.ortb2&&(i=function(e,t){var r=t.ortb2,n=Object(C.a)(r,"site")||void 0,i=Object(C.a)(n,"content")||void 0,a=Object(C.a)(n,"publisher")||void 0,o=Object(C.a)(n,"content.data")||void 0,s=Object(C.a)(r,"app.content")||void 0,d=Object(C.a)(r,"app.content.data")||void 0,c=Object(C.a)(r,"user")||void 0;if(n&&Object(A.isPlainObject)(n)){e.site=ml("string",["name","domain","page","ref","keywords","search"],n,e.site),e.site=ml("array",["cat","sectioncat","pagecat"],n,e.site),e.site=ml("object",["ext"],n,e.site)}if(a&&Object(A.isPlainObject)(a)){e.site.publisher=ml("object",["ext"],a,e.site.publisher)}if(i&&Object(A.isPlainObject)(i)){e.site.content=ml("string",["id","title","series","season","genre","contentrating","language"],i,e.site.content),e.site.content=ml("number",["episode","prodq","context","livestream","len"],i,e.site.content),e.site.content=ml("array",["cat"],i,e.site.content),e.site.content=ml("object",["ext"],i,e.site.content),o&&Object(A.isArray)(o)&&o.every((function(t){var r={};r=ml("string",["id","name"],t,r),r=ml("array",["segment"],t,r),r=ml("object",["ext"],t,r),e.site.content.data=[],e.site.content.data.push(r)}))}s&&Object(A.isPlainObject)(s)&&d&&Object(A.isArray)(d)&&d.every((function(t){var r={};r=ml("string",["id","name"],t,r),r=ml("array",["segment"],t,r),r=ml("object",["ext"],t,r),e.app={content:{data:[]}},e.app.content.data.push(r)}));if(c&&Object(A.isPlainObject)(c)){e.user=ml("string",["id","buyeruid","gender","keywords","customdata"],c,e.user),e.user=ml("number",["yob"],c,e.user),e.user=ml("array",["data"],c,e.user),e.user.ext=ml("object",["ext"],c,e.user.ext)}return e}(i,t));var a=Object(C.a)(t,"schain.nodes");return Object(A.isArray)(a)&&a.length>0&&(i.source.ext.schain=t.schain,i.source.ext.schain.nodes[0].rid=i.id),i}}function jl(e,t){var r=bl();if(t&&e){var n={id:e.bidId,secure:pl(e),bidfloor:gl(e).floor||Object(C.a)(e,"params.bidOverride.imp.bidfloor")};if(!e.mediaTypes.banner||void 0!==r&&r!==X.b&&"*"!==r||(n.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:ul(e.sizes)},e.mediaTypes.banner.pos&&(n.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&(r===X.d||"*"===r)){var i=ul(e.mediaTypes.video.playerSize);n.video={mimes:Object(C.a)(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:Object(C.a)(e,"params.bidOverride.imp.video.w")||i[0].w,h:Object(C.a)(e,"params.bidOverride.imp.video.h")||i[0].h,maxbitrate:Object(C.a)(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:Object(C.a)(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:Object(C.a)(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:Object(C.a)(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:Object(C.a)(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:Object(C.a)(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:Object(C.a)(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:Object(C.a)(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:Object(C.a)(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:Object(C.a)(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],startdelay:Object(C.a)(e,"params.bidOverride.imp.video.startdelay")||e.mediaTypes.video.startdelay||0,rewarded:Object(C.a)(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(n.ext={dfp_ad_unit_code:e.adUnitCode},Object(C.a)(e,"params.kvp")&&Object(A.isPlainObject)(e.params.kvp))for(var a in n.ext.kvs={},e.params.kvp)if(Object(A.isStr)(e.params.kvp[a])||Object(A.isNumber)(e.params.kvp[a]))n.ext.kvs[a]=e.params.kvp[a];else if(Object(A.isArray)(e.params.kvp[a])){var o=e.params.kvp[a];(o.every((function(e){return Object(A.isStr)(e)}))||o.every((function(e){return Object(A.isNumber)(e)})))&&(n.ext.kvs[a]=e.params.kvp[a])}Object(C.a)(e,"ortb2Imp.ext.data")&&Object(A.isPlainObject)(e.ortb2Imp.ext.data)&&(n.ext.data=e.ortb2Imp.ext.data),Object(C.a)(e,"ortb2Imp.instl")&&Object(A.isNumber)(e.ortb2Imp.instl)&&1===e.ortb2Imp.instl&&(n.instl=e.ortb2Imp.instl),!1===fl(e)?(n.tagid=e.params.pos,n.ext.pos=e.params.pos):Object(C.a)(e,"params.placementId")&&(n.tagid=e.params.placementId),t.imp.push(n)}}function _l(e){var t=e.payload,r=e.requestOptions,n=e.bidderRequest,i=fl(n),a=N.b.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/bidRequest";if(!0===i&&(a=N.b.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),!0===Object(C.a)(n,"params.testing.e2etest"))if(Object(A.logInfo)("yahoossp adapter e2etest mode is active"),r.withCredentials=!1,!0===i)t.site.id="1234567";else{var o=bl();t.site.id="8a969516017a7a396ec539d97f540011",t.imp.forEach((function(e){e.ext.e2eTestMode=!0,o===X.b?e.tagid="8a969978017a7aaabab4ab0bc01a0009":o===X.d?e.tagid="8a96958a017a7a57ac375d50c0c700cc":(Object(A.logWarn)('yahoossp adapter e2etest mode does not support yahoossp.mode="all". \n Please specify either "banner" or "video"'),Object(A.logWarn)("yahoossp adapter e2etest mode: Please make sure your adUnit matches the yahoossp.mode video or banner"))}))}return{url:a,method:"POST",data:t,options:r,bidderRequest:n}}var Il={code:"yahoossp",gvlid:25,aliases:[],supportedMediaTypes:[X.b,X.d],isBidRequestValid:function(e){var t=e.params;return!0===Object(C.a)(t,"testing.e2etest")||(!(!Object(A.isPlainObject)(t)||!(yl(t.pubId)||yl(t.dcn)&&yl(t.pos)))||(Object(A.logWarn)("yahoossp bidder params missing or incorrect, please pass object with either: dcn & pos OR pubId"),!1))},buildRequests:function(e,t){if(!Object(A.isEmpty)(e)&&!Object(A.isEmpty)(t)){var r={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};r.withCredentials=Object(pr.a)(t.gdprConsent);var n=function(e){var t=bl(),r=[];return t===X.b?r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===X.b}))})):t===X.d?r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===X.d}))})):"*"===t&&(r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===X.b||e===X.d}))}))),r}(e);if(!0===N.b.getConfig("yahoossp.singleRequestMode")){var i=Ol(t,n[0]);return n.forEach((function(e){jl(e,i)})),_l({payload:i,requestOptions:r,bidderRequest:t})}return n.map((function(e){var n=Ol(t,e);return jl(e,n),_l({payload:n,requestOptions:r,bidderRequest:e})}))}Object(A.logWarn)('yahoossp Adapter: buildRequests called with either empty "validBidRequests" or "bidderRequest"')},interpretResponse:function(e,t){t.data;var r=t.bidderRequest,n=[];return e.body&&Array.isArray(e.body.seatbid)?(e.body.seatbid.forEach((function(e){var t;try{t=e.bid[0]}catch(e){return n}var i=t.ext&&t.ext.encp?t.ext.encp:t.price,a={adId:Object(C.a)(t,"adId")?t.adId:t.impid||t.crid,adUnitCode:r.adUnitCode,requestId:t.impid,cpm:i,width:t.w,height:t.h,creativeId:t.crid||0,currency:t.cur||"USD",dealId:t.dealid?t.dealid:null,netRevenue:!0,ttl:vl(r),meta:{advertiserDomains:t.adomain}},o=function(e){var t=e.adm;return-1!==t.indexOf("o2playerSettings")||-1!==t.indexOf("YAHOO.VideoPlatform.VideoPlayer")||-1!==t.indexOf("AdPlacement")?X.b:-1!==t.indexOf("VAST")?X.d:void 0}(t);o===X.b?(a.mediaType=X.b,a.ad=t.adm,a.meta.mediaType=X.b):o===X.d&&(a.mediaType=X.d,a.meta.mediaType=X.d,a.vastXml=t.adm,t.nurl&&(a.vastUrl=t.nurl)),"outstream"!==Object(C.a)(r,"mediaTypes.video.context")||r.renderer||(a.renderer=function(e,t){var r=U.a.install({url:"https://s.yimg.com/kp/prebid-outstream-renderer/renderer.js",loaded:!1,adUnitCode:e.adUnitCode});try{r.setRender((function(t){setTimeout((function(){o2PlayerRender(t)}),Object(C.a)(e,"params.testing.renderer.setTimeout")||700)}))}catch(e){Object(A.logWarn)("yahoossp renderer error: setRender() failed",e)}return r}(r)||void 0),n.push(a)})),n):n},getUserSyncs:function(e,t,r,n,i){var a=!Object(A.isEmpty)(t)&&t[0].body;if(a&&a.ext&&a.ext.pixels){var o=function(e,t){var r=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,i=[];if(t){var a=t.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);a&&a.forEach((function(t){var a=t.match(r)[0],o=t.match(n)[2];if(a&&o){var s="img"===a.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===s||!e.pixelEnabled&&"image"===s)return;i.push({type:s,url:o})}}))}return i}(e,a.ext.pixels);return o.forEach((function(e){e.url=function(e,t){for(var r={gdpr_consent:t.gdpr?t.gdpr.consentString:"",gdpr:t.gdpr&&t.gdpr.gdprApplies?"1":"0",us_privacy:t.uspConsent?t.uspConsent:"",gpp:t.gpp?t.gpp.gppString:"",gpp_sid:t.gpp&&Array.isArray(t.gpp.applicableSections)?t.gpp.applicableSections.join(","):""},n=new URL(e),i=n.searchParams,a=0,o=Object.entries(r);a<o.length;a++){var s=o[a],d=s[0],c=s[1];i.set(d,c)}return n.search=i.toString(),n.toString()}(e.url,{gpp:i,gdpr:r,uspConsent:n})})),o}return[]}};Object(cr.e)(Il),Object(w.b)("yahoosspBidAdapter");var El,Tl=Il.code;function Sl(e,t){e.engine.setConfig({yahoossp:{mode:"video"}});var r={pubId:""+t.pubid},n=t.siteId;n&&(r.siteId=""+n);var i=t.id;i&&(r.placementId=""+i);var a=e.settings.floorPriceCents;return void 0!==a&&(r.bidOverride={imp:{bidfloor:a/100}}),{bidder:Tl,params:r}}function wl(e){return e&&e.pubid}var Al=((El={})[["Adtelligent"]]=n,El[["AppNexus"]]=i,El[["Axonix"]]=a,El[["criteo"]]=o,El[["EMX"]]=s,El[["improvedigital"]]=c,El[["IndexExchange"]]=u,El[["jwdemand"]]=l,El[["kargo"]]=p,El[["MediaNet"]]=f,El[["MediaGrid"]]=d,El[["OpenX"]]=b,El[["PubMatic"]]=g,El[["Rubicon"]]=m,El[["SmartAdServer"]]=v,El[["Sonobi"]]=h,El[["Sovrn"]]=y,El[["SpotX"]]=O,El[["SynacorMedia"]]=j,El[["TheTradeDesk"]]=_,El[["Unruly"]]=I,El[["VideoByte"]]=E,El[["YahooSSP"]]=T,El);var Cl=function(e){var t=va[e.toLowerCase()],r=Al[t];if(r)return r.code},xl=k.EVENTS.AUCTION_INIT,Pl=k.EVENTS.BID_ADJUSTMENT,Rl=k.EVENTS.BID_REQUESTED,kl=k.EVENTS.BID_RESPONSE,Dl=k.EVENTS.BID_TIMEOUT,Bl=k.EVENTS.NO_BID,Ul=k.EVENTS.TCF2_ENFORCEMENT;var Nl=function(){function e(e,t,r,n,i){var a,o,s,d,c,u=this;this.id=n.id||e.utils.genId(12),this.player=e,this.engine=t,this.settings=(a=r.settings||{},o=Object(S.default)({},a),s=o.floorPriceCurrency,d=o.mediationLayerAdServer,c=o.floorPriceCents,ya[d]||(o.mediationLayerAdServer=d="jwp"),"jwpspotx"===d?c=1:"jwp"!==d&&"jwpdfp"!==d||(c=+c||0),o.floorPriceCents=c,s?s=s.toUpperCase():void 0!==c&&(s="USD"),o.floorPriceCurrency=s,o),this.bidderConfigs=function(e,t){var r=e.floorPriceCents,n=e.mediationLayerAdServer;return La(n)&&isNaN(parseFloat(r))?[]:t.filter((function(e){var t=e.name;return t=va[t.toLowerCase()],-1!==ya[n].indexOf(t)})).map((function(e){var t=va[e.name.toLowerCase()];return Object(S.default)(e,e.custom_params,{name:t})}))}(this.settings,r.bidders||[]),this.publisherOrtbParams=r.ortbParams||{},this.params=n,this.utils=i,this.tcData=null,this.bidStateMap=this.bidderConfigs.reduce((function(e,t){return e[t.name]=Object(S.default)({},t),e}),{}),this.auctionStart=null,this.hasWinner="jwp"===this.settings.mediationLayerAdServer,this.trackingPixelUrls=null,this._auctionStartHandler=this._auctionStartHandler.bind(this),this._bidAdjustmentHandler=this._bidAdjustmentHandler.bind(this),this._bidRequestedHandler=this._bidRequestedHandler.bind(this),this._bidResponseHandler=this._bidResponseHandler.bind(this),this._bidTimeoutHandler=this._bidTimeoutHandler.bind(this),this._tcf2EnforcementHandler=this._tcf2EnforcementHandler.bind(this),this._noBidHandler=this._noBidHandler.bind(this),this._auctionAborted=new Promise((function(e){u._abortAuction=e})).then((function(){return u.updateStateForAllBids({result:"abort"}),t.getBidResponsesForAdUnitCode(u.id).bids}))}var t=e.prototype;return t.init=function(){var e=this,t=this.player,r=this.engine,n=this.params,i=this.settings,a=this.getMediaItem(),o=function(e){if(e&&e.length)return e.reduce((function(e,t){return e.push({id:t}),e}),[])}(n.jwpseg),s=[t.getWidth(),t.getHeight()],d=this._getOrtbVideoParams(t,n,s),c=this.urlParts=this.utils.getURLParts(),u={publisherDomain:c.domain,pageUrl:c.url},l=Ga(a,o);l&&(u.ortb2=l);var p=l?l.site.content:{id:""};r.setConfig(u);var f=t.getPlugin("jwpsrv");f&&f.getTrackingPixelURLs&&(this.trackingPixelURLs=f.getTrackingPixelURLs()),this.bidStateMap={};var b=this.bidderConfigs.reduce((function(t,r){var n=r.name,i=Al[n],a=i?i.code:n,o={bidder:a};return i&&i.validate(r)?t.push(i.generate(e,r,p,d)):(o.result="invalid",o.timeForBidResponse=0),e.bidStateMap[a]=Object(S.default)({},r),e.updateBid(a,o),t}),[]),g=this.id,m=Ka(g,i.mediationLayerAdServer,n.tag);r.addAdUnits({code:g,ortb2Imp:{ext:{gpid:m,data:{pbadslot:m}}},sizes:s,bids:b,mediaTypes:{video:d}})},t.getMediaItem=function(){return this.player.getPlaylistItem()},t._getOrtbVideoParams=function(e,t,r){var n,i=e.getConfig()||{},a=function(e,t){if(t>0)return Da;var r=e.autostart,n=e.advertising.autoplayAdsMuted,i=e.mute||n;return"viewable"===r?i?ka:Ra:r?i?xa:Ca:Pa}(i,e.getPlaylistIndex()),o={context:"instream",playerSize:r,mimes:Na(fa),protocols:[Ia,Ea,wa,Ta,Sa,Aa],playbackmethod:[a],api:[ja],startdelay:qa(t.offset),placement:t.placement,linearity:1,minduration:3,maxduration:300};n=t.adClient,void 0!==window.OmidSessionClient&&"vast"===n&&o.api.push(_a),e.getFullscreen()&&(o.pos=7);var s=t.skipoffset;if(void 0!==s){var d=s>=0;o.skip=d?1:0,d&&(o.skipmin=s+2,o.skipafter=s)}var c=this._getPlcmt(i,a);return o.plcmt=c,o},t.getEventObject=function(){var e=this.settings,t=e.floorPriceCents,r=e.floorPriceCurrency,n=e.mediationLayerAdServer,i=this.bidStateMap,a={bidsVersion:"7.8.0",mediationLayerAdServer:n,bidders:Object.keys(i).map((function(e){return Object(S.default)({},i[e])})),bidTimeout:this.engine.getConfig("bidderTimeout"),floorPriceCurrency:r},o=this.tcData;o&&(a.tcData=o),"jwp"!==n&&"jwpdfp"!==n||(a.floorPriceCents=t);var s=a.bidders.reduce((function(e,t){return t.timeForVPBCache&&(e.total+=t.timeForVPBCache,e.count+=1),e}),{total:0,count:0});return s.count&&(a.timeForVPBCache=s.total/s.count),a},t._auctionStartHandler=function(e){var t=e.timestamp;this.auctionStart=t},t._bidAdjustmentHandler=function(e){if(e.adUnitCode===this.id){var t=e.cpm,r=e.originalCpm,n={priceInCents:100*t,grossPriceInCents:parseFloat(r)!==parseFloat(t)?100*r:void 0,timeForBidResponse:e.timeToRespond},i=e.bidder;if(!e.videoCacheKey){e.meta=e.meta||{};var a=this.player,o=this.settings;if(this.hasWinner=this.hasWinner||n.priceInCents>=o.floorPriceCents&&La(o.mediationLayerAdServer),this.hasWinner)e.meta.vastUrl=e.vastUrl,e.vastUrl=e.videoCacheKey=!0;else{var s=n.cacheKey=e.customCacheKey=e.customCacheKey||a.utils.genId(12);e.meta.vpbCacheStart=Fa();var d=e.vastXml||function(e,t){return'\n<VAST version="4.0">\n    <Ad id="'+e+'">\n        <Wrapper>\n            <AdSystem version="7.8.0">JWP</AdSystem>\n            <VASTAdTagURI><![CDATA['+t+"]]></VASTAdTagURI>\n        </Wrapper>\n    </Ad>\n</VAST>\n"}(s,e.vastUrl),c=this.bidStateMap[i],u=c?c.name:i,l=this.getTrackingPings(u,s),p=l.impressionPing,f=l.errorPing;e.vastXml=this.appendPings(d,s,p,f)}}this.updateBid(i,n)}},t.getTrackingPings=function(e,t){var r=this.trackingPixelURLs;if(!r)return{};var n=r.impression,i=r.error,a=this.getQueryParam("vck",t)+this.getQueryParam("vcb",e);return{impressionPing:this.getPingWithParams(n,a),errorPing:this.getPingWithParams(i,a)}},t.getPingWithParams=function(e,t){if(e)return e+t},t.getQueryParam=function(e,t){return"&"+e+"="+t},t._bidRequestedHandler=function(e){var t=this.engine,r=e.refererInfo,n=e.gdprConsent,i=this.urlParts.url;r&&i&&(r.referer=i);var a=n&&n.vendorData;if(a){var o=a.cmpId,s=a.cmpStatus,d=a.cmpVersion,c=a.eventStatus,u=a.gdprApplies,l=a.isServiceSpecific,p=a.useNonStandardStacks;this.tcData={cmpId:o,cmpStatus:s,cmpVersion:d,eventStatus:c,gdprApplies:u,isServiceSpecific:l,useNonStandardStacks:p}}t.offEvent(Rl,this._bidRequestedHandler)},t._bidResponseHandler=function(e){if(e.adUnitCode===this.id){var t={dealId:e.dealId,priceCurrency:e.currency,result:"bid",requestId:e.requestId},r=e.meta&&e.meta.vpbCacheStart;if(r){var n=Fa()-r;t.timeForBidResponse=e.timeToRespond+n,t.timeForVPBCache=n}this.updateBid(e.bidder,t,r)}},t._bidTimeoutHandler=function(e){var t=this,r=Fa()-this.auctionStart;e.forEach((function(e){e.adUnitCode===t.id&&t.updateBid(e.bidder,{result:"timeout",timeForBidResponse:r})}))},t._tcf2EnforcementHandler=function(e){var t=this;e.biddersBlocked.forEach((function(e){return t.updateBid(e,{result:"blocked"})}))},t._noBidHandler=function(e){if(e.adUnitCode===this.id){var t=Fa()-this.auctionStart;this.updateBid(e.bidder,{result:"noBid",timeForBidResponse:t})}},t._getPlcmt=function(e,t){var r=this.publisherOrtbParams.plcmt;return r?2===r||4===r?r:this.player.getFloating()?r+1:1===r&&(t===xa||t===ka)?2:r:function(e){return Wa(e)?2:4}(e)},t.start=function(){var e=this,t=this.engine,r=new Promise((function(r){t.onEvent(xl,e._auctionStartHandler),t.onEvent(Rl,e._bidRequestedHandler),t.onEvent(Pl,e._bidAdjustmentHandler),t.onEvent(kl,e._bidResponseHandler),t.onEvent(Dl,e._bidTimeoutHandler),t.onEvent(Ul,e._tcf2EnforcementHandler),t.onEvent(Bl,e._noBidHandler);var n=e.id;t.requestBids({adUnitCodes:[n],bidsBackHandler:function(e){var t=e&&e[n]||{};r(t.bids)}})}));return Promise.race([r,this._auctionAborted]).then((function(r){return t.offEvent(xl,e._auctionStartHandler),t.offEvent(Rl,e._bidRequestedHandler),t.offEvent(Pl,e._bidAdjustmentHandler),t.offEvent(kl,e._bidResponseHandler),t.offEvent(Dl,e._bidTimeoutHandler),t.offEvent(Ul,e._tcf2EnforcementHandler),t.offEvent(Bl,e._noBidHandler),e.auctionEndHandler(r)})).then((function(e){return{result:e}}))},t.auctionEndHandler=function(e){void 0===e&&(e=[]);var t=Fa()-this.auctionStart,r=this.engine,n=this.id,i=this.settings,a=i.floorPriceCents,o=i.mediationLayerAdServer,s=La(o);this.updateBids(e,{result:"bid"}),this.updateStateForAllBids((function(e){var r=e.result,n=e.cacheKey,i={result:"error",code:!r&&n?599:void 0,timeForBidResponse:t};return s&&(i.winner=!1),i}));var d,c,u,l=r.getHighestCpmBids(n),p=l&&l.length&&l[0];if(s&&p&&100*p.cpm>=a){this.updateBid(p.bidder,{winner:!0},!0);var f=p.meta&&p.meta.hasOwnProperty("vastUrl");return{adm:p.vastXml,tag:f&&p.meta?p.meta.vastUrl:p.vastUrl}}if(p&&za(o)){var b=this.params;this.updateBids(e,(function(e){return{custParams:e.adserverTargeting}}));var g={adUnit:(d=r.adUnits,c="code",u=n,d.filter((function(e){return e[c]===u}))[0]),url:b.tag};return{tag:r.adServers.dfp.buildVideoUrl(g),custParams:r.getAdserverTargetingForAdUnitCode(n)}}return null},t.appendPings=function(e,t,r,n){if(!r||!n)return e;var i=this.player.utils.parseXML(e);if(!i)return e;for(var a,o=i.querySelectorAll("InLine,Wrapper"),s=0;s<o.length;s+=1)o[s].appendChild(Ua(i,"Impression",r,{id:t})),o[s].appendChild(Ua(i,"Error",n));return(a=i).outerHTML||(new XMLSerializer).serializeToString(a)},t.updateBid=function(e,t,r,n){void 0===t&&(t={}),void 0===r&&(r=!1);var i="function"==typeof t?t(n):t;i.result&&void 0===i.code&&(i.code=Ba[i.result]);var a=this.bidStateMap[e];a?Object(S.default)(a,r?i:Object(S.default)({},i,a)):this.bidStateMap[e]=Object(S.default)({name:e,bidder:e,external:!0},i)},t.updateStateForAllBids=function(e){var t=this,r=this.bidStateMap;Object.keys(r).forEach((function(n){t.updateBid(n,e,!1,r[n])}))},t.updateBids=function(e,t,r){var n=this;e.forEach((function(e){return n.updateBid(e.bidder,t,r,e)}))},t.stop=function(){this._abortAuction()},t.timeout=function(){},e}();function Ml(e,t){t&&"function"!=typeof __tcfapi&&delete e.gdpr,function(e){var t=e.gdpr;if(!t)return;var r=function(e){var t=e.rules;if(!t||"object"!=typeof t)return;if(Array.isArray(t))return t;return[t]}(t);if(!r)return void delete t.rules;r.forEach((function(e){var t=e.vendorExceptions;t&&(e.vendorExceptions=t.map((function(e){return Cl(e)||e})))})),t.rules=r}(e)}var ql=function(e,t){void 0===t&&(t={});var r=t.settings||{},n=r.buckets,i=r.bidTimeout,a=r.sendAllBids,o=r.consentManagement,s=r.disableConsentManagementOnNoCmp,d=[{increment:.01,max:100}];n=Array.isArray(n)&&n.length?n:d,i=void 0===i?3e3:Math.max(i,2e3);var c,u=function(e,t){if(e&&t){var r=new t(e);return r&&r.token&&r.token()}}(e.getConfig().key,e.utils.key),l={bidderTimeout:i,cache:{url:ga,ignoreBidderCacheKey:!0},debug:!1,debugging:t.debugging,priceGranularity:{buckets:(c=n,c.map((function(e){return Object(S.default)({increment:.01,max:1/0},e)})))},userSync:{filterSettings:{all:{bidders:"*",filter:"include"}},userIds:[{name:"uid2"}],syncDelay:1e3},s2sConfig:{accountId:u,bidders:Oa,timeout:2500,enabled:!0,endpoint:ma+"openrtb2/auction",syncEndpoint:ma+"cookie_sync"},targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"]}};void 0!==a&&(l.enableSendAllBids=a);var p=Va();p&&(l.ortb2={site:{ext:{amp:1}}}),void 0!==o&&Object.keys(o).length>0&&!p&&(Ml(o,s),l.consentManagement=o),bt.setConfig(l),bt.processQueue(),bt.aliasBidder(Do,Cd,{gvlid:1046});var f={};return{createNewBid:function(r,n){var i=new Nl(e,bt,t,r,n);return f[i.id]=i,i},getBid:function(e){return f[e]},getEngine:function(){return bt},version:"7.8.0"}};(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)("bidding","8.1",ql)}]);